<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ–æ—Ä—ñ—è —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó - –õ–µ–∫—Ü—ñ—è 2</title>
    
    <!-- –ü–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ —Å–ø—ñ–ª—å–Ω—ñ —Å—Ç–∏–ª—ñ -->
    <link rel="stylesheet" href="../../assets/css/main.css">
    <link rel="stylesheet" href="../../assets/css/slides.css">
    
    <!-- PWA -->
    <link rel="manifest" href="../../manifest.json">
    <meta name="theme-color" content="#667eea">
    
    <!-- –ú—ñ–Ω—ñ–º–∞–ª—å–Ω—ñ —Å—Ç–∏–ª—ñ –¥–ª—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è -->
    <style>
        .loading {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            color: white;
            font-family: 'Segoe UI', sans-serif;
        }
        .loading-spinner {
            width: 60px;
            height: 60px;
            border: 4px solid rgba(255,255,255,0.3);
            border-top-color: white;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        .theme-navigation {
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 1000;
            background: white;
            padding: 10px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .lecture-themes-nav {
            display: flex;
            gap: 10px;
            align-items: center;
        }
        .lecture-themes-nav select {
            padding: 8px 12px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 14px;
        }
        .lecture-themes-nav button {
            padding: 8px 12px;
            border: none;
            border-radius: 5px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            font-size: 14px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è —Å–ª–∞–π–¥—ñ–≤ -->
    <div id="slideContainer">
        <div class="loading">
            <div class="loading-spinner"></div>
            <p>–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –¢–µ–æ—Ä—ñ—è —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó...</p>
        </div>
    </div>
    
    <!-- –£–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω–∏–π –¥–≤–∏–∂–æ–∫ —Å–ª–∞–π–¥—ñ–≤ -->
    <script src="../../assets/js/slide-engine.js"></script>
    
    <!-- –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è —Ç–∞ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è -->
    <script>
        // –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –¥–≤–∏–∂–∫–∞
        const slideEngine = new UniversalSlideEngine({
            containerId: 'slideContainer',
            dataUrl: '../../assets/data/lecture2/tema1_information_theory.json',
            lectureId: 'lecture2-tema1',
            enableKeyboard: true,
            enableTouch: true,
            enableSearch: true,
            enableProgress: true,
            enableQuiz: true,
            enablePrint: true,
            autoSave: true,
            theme: localStorage.getItem('preferred-theme') || 'default'
        });
        
        // –ù–∞–≤—ñ–≥–∞—Ü—ñ—è –º—ñ–∂ —Ç–µ–º–∞–º–∏ –ª–µ–∫—Ü—ñ—ó
        const themeNav = `
            <div class="lecture-themes-nav">
                <select id="themeSelector" onchange="switchTheme(this.value)">
                    <option value="tema1" selected>–¢–µ–º–∞ 1: –¢–µ–æ—Ä—ñ—è —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó</option>
                    <option value="tema2" >–¢–µ–º–∞ 2: –°—Ç–∞—Ç–∏—Å—Ç–∏—á–Ω—ñ –æ—Å–Ω–æ–≤–∏</option>
                    <option value="tema3" >–¢–µ–º–∞ 3: –ú–∞—Ç–µ–º–∞—Ç–∏—á–Ω—ñ –º–æ–¥–µ–ª—ñ</option>
                    <option value="tema4" >–¢–µ–º–∞ 4: –ú–µ—Ç—Ä–∏–∫–∏ —è–∫–æ—Å—Ç—ñ</option>
                </select>
                <button onclick="goToLectureMenu()">üìö –ú–µ–Ω—é –ª–µ–∫—Ü—ñ—ó</button>
                <button onclick="goToMainMenu()">üè† –ì–æ–ª–æ–≤–Ω–∞</button>
            </div>
        `;
        
        // –î–æ–¥–∞—î–º–æ –Ω–∞–≤—ñ–≥–∞—Ü—ñ—é –ø—ñ—Å–ª—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è
        slideEngine.on('initialized', () => {
            const navContainer = document.createElement('div');
            navContainer.innerHTML = themeNav;
            navContainer.className = 'theme-navigation';
            document.body.appendChild(navContainer);
        });
        
        // –§—É–Ω–∫—Ü—ñ—ó –Ω–∞–≤—ñ–≥–∞—Ü—ñ—ó
        function switchTheme(tema) {
            if (tema === 'tema1') return;
            window.location.href = `./${tema}.html`;
        }
        
        function goToLectureMenu() {
            window.location.href = './index.html';
        }
        
        function goToMainMenu() {
            window.location.href = '../../index.html';
        }
        
        // –¢—Ä–µ–∫—ñ–Ω–≥ –ø—Ä–æ–≥—Ä–µ—Å—É
        slideEngine.on('slideChange', (data) => {
            const stats = JSON.parse(localStorage.getItem('lecture-stats') || '{}');
            if (!stats.lecture2) stats.lecture2 = {};
            if (!stats.lecture2.tema1) stats.lecture2.tema1 = {
                views: 0,
                completed: false,
                lastSlide: 0,
                totalTime: 0
            };
            
            stats.lecture2.tema1.lastSlide = data.current;
            stats.lecture2.tema1.views++;
            
            if (data.current === data.total - 1) {
                stats.lecture2.tema1.completed = true;
            }
            
            localStorage.setItem('lecture-stats', JSON.stringify(stats));
        });
    </script>
</body>
</html>