<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞ —Ä–æ–±–æ—Ç–∞ ‚Ññ7: –ê—É–¥—ñ–æ LSB - —Å—Ç–µ–≥–∞–Ω–æ–≥—Ä–∞—Ñ—ñ—è –≤ –∞—É–¥—ñ–æ—Ñ–∞–π–ª–∞—Ö">
    <meta name="keywords" content="—Å—Ç–µ–≥–∞–Ω–æ–≥—Ä–∞—Ñ—ñ—è, –∞—É–¥—ñ–æ, LSB, WAV, –ø–µ—Ä—Ü–µ–ø—Ç–∏–≤–Ω–∞ —è–∫—ñ—Å—Ç—å">
    <title>–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞ ‚Ññ7: –ê—É–¥—ñ–æ LSB | –û—Å–Ω–æ–≤–∏ —Å—Ç–µ–≥–∞–Ω–æ–≥—Ä–∞—Ñ—ñ—ó</title>

    <!-- CSS Files -->
    <link rel="stylesheet" href="../assets/css/base.css">
    <link rel="stylesheet" href="../assets/css/lab-universal.css">

    <!-- Highlight.js –¥–ª—è –ø—ñ–¥—Å–≤—ñ—Ç–∫–∏ –∫–æ–¥—É -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css">
</head>
<body>

<!-- Header -->
<header class="lab-header">
    <div class="container">
        <nav class="breadcrumb">
            <a href="../index.html">–ì–æ–ª–æ–≤–Ω–∞</a>
            <span class="separator">/</span>
            <a href="../index.html">–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω—ñ</a>
            <span class="separator">/</span>
            <span class="current">–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞ ‚Ññ7</span>
        </nav>
        <h1>üéµ –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞ —Ä–æ–±–æ—Ç–∞ ‚Ññ7</h1>
        <p class="subtitle">
            –ê—É–¥—ñ–æ LSB: –û–±—Ä–æ–±–∫–∞ WAV —Ñ–∞–π–ª—ñ–≤, –∞—É–¥—ñ–æ LSB embedding, –ø–µ—Ä—Ü–µ–ø—Ç–∏–≤–Ω–∏–π –∞–Ω–∞–ª—ñ–∑
        </p>
        <div class="tool-badges">
            <span class="tool-badge">Python</span>
            <span class="tool-badge">Wave</span>
            <span class="tool-badge">NumPy</span>
            <span class="tool-badge">Librosa</span>
            <span class="tool-badge">Matplotlib</span>
        </div>
    </div>
</header>

<!-- Main Content -->
<main class="container">

    <!-- –¶—ñ–ª—ñ —Ä–æ–±–æ—Ç–∏ -->
    <section class="task-box">
        <h2>üéØ –¶—ñ–ª—ñ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ—ó —Ä–æ–±–æ—Ç–∏</h2>
        <ul>
            <li>–í–∏–≤—á–∏—Ç–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—É WAV —Ñ–∞–π–ª—ñ–≤ —Ç–∞ –º–µ—Ç–æ–¥–∏ —ó—Ö –æ–±—Ä–æ–±–∫–∏</li>
            <li>–û—Å–≤–æ—ó—Ç–∏ –ø—Ä–∏–Ω—Ü–∏–ø–∏ –∞—É–¥—ñ–æ LSB —Å—Ç–µ–≥–∞–Ω–æ–≥—Ä–∞—Ñ—ñ—ó</li>
            <li>–†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ encoder/decoder –¥–ª—è –ø—Ä–∏—Ö–æ–≤—É–≤–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö –≤ –∞—É–¥—ñ–æ</li>
            <li>–î–æ—Å–ª—ñ–¥–∏—Ç–∏ –ø–µ—Ä—Ü–µ–ø—Ç–∏–≤–Ω—É —è–∫—ñ—Å—Ç—å —Å—Ç–µ–≥–∞–Ω–æ–≥—Ä–∞—Ñ—ñ—á–Ω–∏—Ö –∞—É–¥—ñ–æ</li>
            <li>–ü—Ä–æ–≤–µ—Å—Ç–∏ –ø–æ—Ä—ñ–≤–Ω—è–ª—å–Ω–∏–π –∞–Ω–∞–ª—ñ–∑ –∑ —ñ–Ω—à–∏–º–∏ –º–µ—Ç–æ–¥–∞–º–∏ –∞—É–¥—ñ–æ —Å—Ç–µ–≥–∞–Ω–æ–≥—Ä–∞—Ñ—ñ—ó</li>
        </ul>
    </section>

    <!-- –¢–µ–æ—Ä–µ—Ç–∏—á–Ω–∞ —á–∞—Å—Ç–∏–Ω–∞ -->
    <section>
        <h2>üìö –¢–µ–æ—Ä–µ—Ç–∏—á–Ω–∞ —á–∞—Å—Ç–∏–Ω–∞</h2>

        <div class="tabs-container">
            <div class="tabs-nav">
                <button class="tab-button active" onclick="switchTab(event, 'wav-format')">
                    üéº WAV —Ñ–æ—Ä–º–∞—Ç
                </button>
                <button class="tab-button" onclick="switchTab(event, 'audio-lsb')">
                    üîä Audio LSB
                </button>
                <button class="tab-button" onclick="switchTab(event, 'perceptual-quality')">
                    üëÇ –ü–µ—Ä—Ü–µ–ø—Ç–∏–≤–Ω–∞ —è–∫—ñ—Å—Ç—å
                </button>
                <button class="tab-button" onclick="switchTab(event, 'advanced-methods')">
                    üöÄ –Ü–Ω—à—ñ –º–µ—Ç–æ–¥–∏
                </button>
            </div>

            <!-- WAV —Ñ–æ—Ä–º–∞—Ç -->
            <div class="tab-content active" id="wav-format">
                <h3>–°—Ç—Ä—É–∫—Ç—É—Ä–∞ WAV —Ñ–∞–π–ª—ñ–≤</h3>

                <div class="detection-method">
                    <h4>üéº –©–æ —Ç–∞–∫–µ WAV?</h4>
                    <p>
                        <strong>WAV (Waveform Audio File Format)</strong> ‚Äî —Ü–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏–π —Ñ–æ—Ä–º–∞—Ç –¥–ª—è –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –∞—É–¥—ñ–æ –Ω–∞ –ü–ö. –†–æ–∑—Ä–æ–±–ª–µ–Ω–∏–π Microsoft —Ç–∞ IBM, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä RIFF (Resource Interchange File Format). WAV –∑–∞–∑–≤–∏—á–∞–π –º—ñ—Å—Ç–∏—Ç—å <strong>–Ω–µ—Å–∂–∞—Ç—ñ PCM (Pulse-Code Modulation)</strong> –¥–∞–Ω—ñ, —â–æ —Ä–æ–±–∏—Ç—å –π–æ–≥–æ —ñ–¥–µ–∞–ª—å–Ω–∏–º –¥–ª—è —Å—Ç–µ–≥–∞–Ω–æ–≥—Ä–∞—Ñ—ñ—ó.
                    </p>

                    <div class="formula-box">
                        <strong>–°—Ç—Ä—É–∫—Ç—É—Ä–∞ WAV —Ñ–∞–π–ª—É:</strong><br><br>
                        RIFF Header (12 –±–∞–π—Ç):<br>
                        ‚Ä¢ ChunkID: "RIFF" (4 –±–∞–π—Ç–∏)<br>
                        ‚Ä¢ ChunkSize: —Ä–æ–∑–º—ñ—Ä —Ñ–∞–π–ª—É - 8 (4 –±–∞–π—Ç–∏)<br>
                        ‚Ä¢ Format: "WAVE" (4 –±–∞–π—Ç–∏)<br><br>

                        fmt Subchunk (24+ –±–∞–π—Ç):<br>
                        ‚Ä¢ Subchunk1ID: "fmt " (4 –±–∞–π—Ç–∏)<br>
                        ‚Ä¢ AudioFormat: 1 –¥–ª—è PCM (2 –±–∞–π—Ç–∏)<br>
                        ‚Ä¢ NumChannels: –º–æ–Ω–æ=1, —Å—Ç–µ—Ä–µ–æ=2 (2 –±–∞–π—Ç–∏)<br>
                        ‚Ä¢ SampleRate: 44100 Hz —Ç–∏–ø–æ–≤–æ (4 –±–∞–π—Ç–∏)<br>
                        ‚Ä¢ BitsPerSample: 8, 16, 24, –∞–±–æ 32 –±—ñ—Ç (2 –±–∞–π—Ç–∏)<br><br>

                        data Subchunk:<br>
                        ‚Ä¢ Subchunk2ID: "data" (4 –±–∞–π—Ç–∏)<br>
                        ‚Ä¢ Subchunk2Size: —Ä–æ–∑–º—ñ—Ä –¥–∞–Ω–∏—Ö (4 –±–∞–π—Ç–∏)<br>
                        ‚Ä¢ Data: –∞—É–¥—ñ–æ —Å–µ–º–ø–ª–∏
                    </div>

                    <h4>üîç –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –∞—É–¥—ñ–æ</h4>
                    <ul>
                        <li><strong>Sample rate:</strong> —á–∞—Å—Ç–æ—Ç–∞ –¥–∏—Å–∫—Ä–µ—Ç–∏–∑–∞—Ü—ñ—ó (—Ç–∏–ø–æ–≤–æ 44.1 kHz –¥–ª—è CD —è–∫–æ—Å—Ç—ñ)</li>
                        <li><strong>Bit depth:</strong> –∫—ñ–ª—å–∫—ñ—Å—Ç—å –±—ñ—Ç –Ω–∞ —Å–µ–º–ø–ª (8, 16, 24, 32)</li>
                        <li><strong>Channels:</strong> –º–æ–Ω–æ (1) –∞–±–æ —Å—Ç–µ—Ä–µ–æ (2)</li>
                        <li><strong>Bitrate:</strong> sample_rate √ó bit_depth √ó channels (–Ω–∞–ø—Ä. 1411.2 kbps –¥–ª—è CD)</li>
                        <li><strong>Duration:</strong> num_samples / sample_rate</li>
                    </ul>
                </div>

                <div class="detection-method">
                    <h4>üìä –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—è –∞—É–¥—ñ–æ –¥–∞–Ω–∏—Ö</h4>
                    <p>
                        –ê—É–¥—ñ–æ —Å–µ–º–ø–ª–∏ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è —è–∫ —Ü—ñ–ª—ñ —á–∏—Å–ª–∞:
                    </p>

                    <div class="formula-box">
                        <strong>–î—ñ–∞–ø–∞–∑–æ–Ω–∏ –∑–Ω–∞—á–µ–Ω—å:</strong><br><br>
                        ‚Ä¢ 8-bit: 0 to 255 (unsigned)<br>
                        ‚Ä¢ 16-bit: -32768 to 32767 (signed)<br>
                        ‚Ä¢ 24-bit: -8388608 to 8388607 (signed)<br>
                        ‚Ä¢ 32-bit: -2147483648 to 2147483647 (signed)<br><br>

                        –î–ª—è —Å—Ç–µ–≥–∞–Ω–æ–≥—Ä–∞—Ñ—ñ—ó –Ω–∞–π—á–∞—Å—Ç—ñ—à–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å 16-bit PCM,<br>
                        –æ—Å–∫—ñ–ª—å–∫–∏ —Ü–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç CD —è–∫–æ—Å—Ç—ñ –∑ —Ö–æ—Ä–æ—à–∏–º —Å–ø—ñ–≤–≤—ñ–¥–Ω–æ—à–µ–Ω–Ω—è–º<br>
                        —è–∫—ñ—Å—Ç—å/—Ä–æ–∑–º—ñ—Ä —ñ –¥–æ—Å—Ç–∞—Ç–Ω—å–æ—é –∫—ñ–ª—å–∫—ñ—Å—Ç—é –±—ñ—Ç –¥–ª—è –≤–±—É–¥–æ–≤—É–≤–∞–Ω–Ω—è.
                    </div>

                    <h4>üéØ –ß–æ–º—É WAV –¥–ª—è —Å—Ç–µ–≥–∞–Ω–æ–≥—Ä–∞—Ñ—ñ—ó?</h4>
                    <ul>
                        <li><strong>–ù–µ—Å–∂–∞—Ç—ñ—Å—Ç—å:</strong> –Ω–µ–º–∞—î –≤—Ç—Ä–∞—Ç —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –≤—ñ–¥ –∫–æ–º–ø—Ä–µ—Å—ñ—ó</li>
                        <li><strong>–í–∏—Å–æ–∫–∞ –Ω–∞–¥–ª–∏—à–∫–æ–≤—ñ—Å—Ç—å:</strong> –ª—é–¥—Å—å–∫–µ –≤—É—Ö–æ –Ω–µ —á—É—Ç–ª–∏–≤–µ –¥–æ –º–∞–ª–∏—Ö –∑–º—ñ–Ω</li>
                        <li><strong>–í–µ–ª–∏–∫–∞ —î–º–Ω—ñ—Å—Ç—å:</strong> 1 —Ö–≤ —Å—Ç–µ—Ä–µ–æ = ~10 MB = –º–æ–∂–Ω–∞ –∑–∞—Ö–æ–≤–∞—Ç–∏ ~80 KB</li>
                        <li><strong>–ü—Ä–æ—Å—Ç–æ—Ç–∞:</strong> –ø—Ä—è–º–∏–π –¥–æ—Å—Ç—É–ø –¥–æ —Å–µ–º–ø–ª—ñ–≤ –±–µ–∑ –¥–µ–∫–æ–¥—É–≤–∞–Ω–Ω—è</li>
                        <li><strong>–ü–æ—à–∏—Ä–µ–Ω—ñ—Å—Ç—å:</strong> —à–∏—Ä–æ–∫–æ –ø—ñ–¥—Ç—Ä–∏–º—É—î—Ç—å—Å—è –≤—Å—ñ–º–∞ –ø—Ä–æ–≥—Ä–∞–º–∞–º–∏</li>
                    </ul>
                </div>

                <div class="detection-method">
                    <h4>üíª –†–æ–±–æ—Ç–∞ –∑ WAV –≤ Python</h4>
                    <pre><code class="language-python">import wave
import numpy as np

# –ß–∏—Ç–∞–Ω–Ω—è WAV —Ñ–∞–π–ª—É
def read_wav(filename):
    with wave.open(filename, 'rb') as wav:
        # –û—Ç—Ä–∏–º–∞–Ω–Ω—è –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤
        n_channels = wav.getnchannels()
        sample_width = wav.getsampwidth()
        framerate = wav.getframerate()
        n_frames = wav.getnframes()

        # –ß–∏—Ç–∞–Ω–Ω—è —Å–∏—Ä–∏—Ö –±–∞–π—Ç—ñ–≤
        audio_data = wav.readframes(n_frames)

        # –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü—ñ—è –≤ numpy array
        if sample_width == 1:  # 8-bit
            dtype = np.uint8
        elif sample_width == 2:  # 16-bit
            dtype = np.int16
        else:
            dtype = np.int32

        samples = np.frombuffer(audio_data, dtype=dtype)

    return samples, framerate, n_channels, sample_width

# –ó–∞–ø–∏—Å WAV —Ñ–∞–π–ª—É
def write_wav(filename, samples, framerate, n_channels, sample_width):
    with wave.open(filename, 'wb') as wav:
        wav.setnchannels(n_channels)
        wav.setsampwidth(sample_width)
        wav.setframerate(framerate)
        wav.writeframes(samples.tobytes())</code></pre>
                </div>
            </div>

            <!-- Audio LSB -->
            <div class="tab-content" id="audio-lsb">
                <h3>–ê—É–¥—ñ–æ LSB —Å—Ç–µ–≥–∞–Ω–æ–≥—Ä–∞—Ñ—ñ—è</h3>

                <div class="detection-method">
                    <h4>üîä –ü—Ä–∏–Ω—Ü–∏–ø Audio LSB</h4>
                    <p>
                        <strong>Audio LSB</strong> –ø—Ä–∞—Ü—é—î –∞–Ω–∞–ª–æ–≥—ñ—á–Ω–æ –¥–æ image LSB, –∞–ª–µ –∑–∞–º—ñ—Å—Ç—å –ø—ñ–∫—Å–µ–ª—ñ–≤ –º–æ–¥–∏—Ñ—ñ–∫—É—î –∞—É–¥—ñ–æ —Å–µ–º–ø–ª–∏. –î–ª—è 16-bit –∞—É–¥—ñ–æ –æ–¥–∏–Ω —Å–µ–º–ø–ª –º–∞—î 16 –±—ñ—Ç, —ñ –º–∏ –º–æ–∂–µ–º–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ 1-4 –Ω–∞–π–º–µ–Ω—à –∑–Ω–∞—á—É—â—ñ –±—ñ—Ç–∏ –¥–ª—è –≤–±—É–¥–æ–≤—É–≤–∞–Ω–Ω—è –±–µ–∑ –ø–æ–º—ñ—Ç–Ω–æ—ó –¥–µ–≥—Ä–∞–¥–∞—Ü—ñ—ó —è–∫–æ—Å—Ç—ñ.
                    </p>

                    <div class="formula-box">
                        <strong>–ê–ª–≥–æ—Ä–∏—Ç–º –≤–±—É–¥–æ–≤—É–≤–∞–Ω–Ω—è (1-bit LSB):</strong><br><br>
                        1. sample = 16-bit –∞—É–¥—ñ–æ —Å–µ–º–ø–ª (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, 25678)<br>
                        2. message_bit = –±—ñ—Ç –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è (0 –∞–±–æ 1)<br>
                        3. sample_modified = (sample & 0xFFFE) | message_bit<br><br>

                        –ü–æ—è—Å–Ω–µ–Ω–Ω—è:<br>
                        ‚Ä¢ sample & 0xFFFE ‚Äî –æ–±–Ω—É–ª—è—î LSB (–º–∞—Å–∫–∞ ...11111110)<br>
                        ‚Ä¢ | message_bit ‚Äî –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î –Ω–æ–≤–∏–π LSB<br><br>

                        –ó–º—ñ–Ω–∞ –∞–º–ø–ª—ñ—Ç—É–¥–∏: ¬±1 –≤—ñ–¥ –æ—Ä–∏–≥—ñ–Ω–∞–ª—É<br>
                        –í–ø–ª–∏–≤ –Ω–∞ —è–∫—ñ—Å—Ç—å: –ø—Ä–∞–∫—Ç–∏—á–Ω–æ –Ω–µ–ø–æ–º—ñ—Ç–Ω–∏–π –¥–ª—è —Å–ª—É—Ö—É
                    </div>

                    <h4>üìà –Ñ–º–Ω—ñ—Å—Ç—å –∞—É–¥—ñ–æ LSB</h4>
                    <p>–†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ—ó —î–º–Ω–æ—Å—Ç—ñ:</p>
                    <div class="formula-box">
                        <strong>–§–æ—Ä–º—É–ª–∞ —î–º–Ω–æ—Å—Ç—ñ:</strong><br><br>
                        Capacity (bits) = num_samples √ó LSB_bits_used<br><br>

                        –ü—Ä–∏–∫–ª–∞–¥ –¥–ª—è 16-bit, 44.1 kHz —Å—Ç–µ—Ä–µ–æ, 1 —Ö–≤–∏–ª–∏–Ω–∞:<br>
                        ‚Ä¢ Samples = 44100 √ó 60 √ó 2 = 5,292,000<br>
                        ‚Ä¢ Using 1 LSB: 5,292,000 bits = 661,500 –±–∞–π—Ç ‚âà 646 KB<br>
                        ‚Ä¢ Using 2 LSB: 1,323,000 –±–∞–π—Ç ‚âà 1.26 MB<br><br>

                        –ü—Ä–∞–∫—Ç–∏—á–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å 1-2 LSB –±—ñ—Ç–∏ –¥–ª—è –±–∞–ª–∞–Ω—Å—É<br>
                        –º—ñ–∂ —î–º–Ω—ñ—Å—Ç—é —Ç–∞ –Ω–µ–ø–æ–º—ñ—Ç–Ω—ñ—Å—Ç—é.
                    </div>
                </div>

                <div class="detection-method">
                    <h4>üîß –†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è Audio LSB Encoder</h4>
                    <pre><code class="language-python">def audio_lsb_encode(audio_samples, message, num_lsb=1):
    """
    –í–±—É–¥–æ–≤—É—î –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤ –∞—É–¥—ñ–æ —Å–µ–º–ø–ª–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ LSB

    Args:
        audio_samples: numpy array –∑ –∞—É–¥—ñ–æ —Å–µ–º–ø–ª–∞–º–∏
        message: bytes - –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –¥–ª—è –≤–±—É–¥–æ–≤—É–≤–∞–Ω–Ω—è
        num_lsb: –∫—ñ–ª—å–∫—ñ—Å—Ç—å LSB –±—ñ—Ç –¥–ª—è –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è (1-4)

    Returns:
        stego_samples: numpy array –∑ –º–æ–¥–∏—Ñ—ñ–∫–æ–≤–∞–Ω–∏–º–∏ —Å–µ–º–ø–ª–∞–º–∏
    """
    samples = audio_samples.copy()

    # –ö–æ–Ω–≤–µ—Ä—Ç—É—î–º–æ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤ –±—ñ—Ç–∏
    message_bits = ''.join([format(byte, '08b') for byte in message])

    # –î–æ–¥–∞—î–º–æ –¥–æ–≤–∂–∏–Ω—É –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –Ω–∞ –ø–æ—á–∞—Ç–æ–∫ (32 –±—ñ—Ç–∏)
    length_bits = format(len(message), '032b')
    full_message = length_bits + message_bits

    # –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —î–º–Ω–æ—Å—Ç—ñ
    max_bits = len(samples) * num_lsb
    if len(full_message) > max_bits:
        raise ValueError(f"Message too large! Max capacity: {max_bits} bits")

    # –°—Ç–≤–æ—Ä—é—î–º–æ –º–∞—Å–∫—É –¥–ª—è LSB
    mask = (0xFFFF << num_lsb) & 0xFFFF  # –î–ª—è 16-bit

    # –í–±—É–¥–æ–≤—É—î–º–æ –±—ñ—Ç–∏
    bit_index = 0
    for i in range(len(samples)):
        if bit_index >= len(full_message):
            break

        # –û—á–∏—â—É—î–º–æ LSB –±—ñ—Ç–∏
        samples[i] = samples[i] & mask

        # –û—Ç—Ä–∏–º—É—î–º–æ num_lsb –±—ñ—Ç –∑ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
        bits_to_embed = int(full_message[bit_index:bit_index+num_lsb], 2)

        # –í–±—É–¥–æ–≤—É—î–º–æ –±—ñ—Ç–∏
        samples[i] = samples[i] | bits_to_embed

        bit_index += num_lsb

    return samples</code></pre>
                </div>

                <div class="detection-method">
                    <h4>üîì –†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è Audio LSB Decoder</h4>
                    <pre><code class="language-python">def audio_lsb_decode(stego_samples, num_lsb=1):
    """
    –í–∏—Ç—è–≥—É—î –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∑ —Å—Ç–µ–≥–æ –∞—É–¥—ñ–æ

    Args:
        stego_samples: numpy array –∑ —Å—Ç–µ–≥–æ —Å–µ–º–ø–ª–∞–º–∏
        num_lsb: –∫—ñ–ª—å–∫—ñ—Å—Ç—å LSB –±—ñ—Ç, —â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–ª–∏—Å—è

    Returns:
        message: bytes - –≤–∏—Ç—è–≥–Ω—É—Ç–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
    """
    # –°—Ç–≤–æ—Ä—é—î–º–æ –º–∞—Å–∫—É –¥–ª—è –≤–∏—Ç—è–≥—É–≤–∞–Ω–Ω—è LSB
    mask = (1 << num_lsb) - 1

    # –í–∏—Ç—è–≥—É—î–º–æ –¥–æ–≤–∂–∏–Ω—É –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è (–ø–µ—Ä—à—ñ 32 –±—ñ—Ç–∏)
    length_bits = ''
    for i in range(32 // num_lsb):
        bits = stego_samples[i] & mask
        length_bits += format(bits, f'0{num_lsb}b')

    message_length = int(length_bits[:32], 2)

    # –í–∏—Ç—è–≥—É—î–º–æ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
    message_bits = length_bits[32:]
    start_index = 32 // num_lsb

    bits_needed = message_length * 8
    samples_needed = (bits_needed + num_lsb - 1) // num_lsb

    for i in range(start_index, start_index + samples_needed):
        bits = stego_samples[i] & mask
        message_bits += format(bits, f'0{num_lsb}b')

    # –ö–æ–Ω–≤–µ—Ä—Ç—É—î–º–æ –±—ñ—Ç–∏ –≤ bytes
    message = bytearray()
    for i in range(0, message_length * 8, 8):
        byte = int(message_bits[i:i+8], 2)
        message.append(byte)

    return bytes(message)</code></pre>
                </div>

                <div class="detection-method">
                    <h4>üéØ –ü–æ–∫—Ä–∞—â–µ–Ω–Ω—è –±–∞–∑–æ–≤–æ–≥–æ LSB</h4>
                    <ul>
                        <li><strong>Randomized LSB:</strong> –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è PRNG –¥–ª—è –≤–∏–±–æ—Ä—É —Å–µ–º–ø–ª—ñ–≤ (—è–∫ —É –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è—Ö)</li>
                        <li><strong>Adaptive LSB:</strong> –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –±—ñ–ª—å—à–µ –±—ñ—Ç —É –≥—É—á–Ω–∏—Ö —á–∞—Å—Ç–∏–Ω–∞—Ö, –º–µ–Ω—à–µ –≤ —Ç–∏—Ö–∏—Ö</li>
                        <li><strong>Multi-channel:</strong> —Ä–æ–∑–ø–æ–¥—ñ–ª –¥–∞–Ω–∏—Ö –º—ñ–∂ –∫–∞–Ω–∞–ª–∞–º–∏ (L/R –¥–ª—è —Å—Ç–µ—Ä–µ–æ)</li>
                        <li><strong>Selective embedding:</strong> –≤–±—É–¥–æ–≤—É–≤–∞–Ω–Ω—è —Ç—ñ–ª—å–∫–∏ –≤ –ø–µ–≤–Ω–∏—Ö —á–∞—Å—Ç–æ—Ç–Ω–∏—Ö –¥—ñ–∞–ø–∞–∑–æ–Ω–∞—Ö</li>
                        <li><strong>Error correction:</strong> –¥–æ–¥–∞–≤–∞–Ω–Ω—è Reed-Solomon –∞–±–æ Hamming –∫–æ–¥—ñ–≤</li>
                    </ul>
                </div>
            </div>

            <!-- –ü–µ—Ä—Ü–µ–ø—Ç–∏–≤–Ω–∞ —è–∫—ñ—Å—Ç—å -->
            <div class="tab-content" id="perceptual-quality">
                <h3>–ü–µ—Ä—Ü–µ–ø—Ç–∏–≤–Ω–∞ —è–∫—ñ—Å—Ç—å –∞—É–¥—ñ–æ</h3>

                <div class="detection-method">
                    <h4>üëÇ –õ—é–¥—Å—å–∫–µ —Å–ø—Ä–∏–π–Ω—è—Ç—Ç—è –∑–≤—É–∫—É</h4>
                    <p>
                        –õ—é–¥—Å—å–∫–µ –≤—É—Ö–æ –Ω–µ —î —ñ–¥–µ–∞–ª—å–Ω–∏–º —Å–µ–Ω—Å–æ—Ä–æ–º —ñ –º–∞—î –æ–±–º–µ–∂–µ–Ω–Ω—è, —è–∫—ñ –º–∏ –º–æ–∂–µ–º–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ –¥–ª—è —Å—Ç–µ–≥–∞–Ω–æ–≥—Ä–∞—Ñ—ñ—ó:
                    </p>

                    <ul>
                        <li><strong>–ß–∞—Å—Ç–æ—Ç–Ω–∏–π –¥—ñ–∞–ø–∞–∑–æ–Ω:</strong> 20 Hz - 20 kHz (–∑ –≤—ñ–∫–æ–º –∑–≤—É–∂—É—î—Ç—å—Å—è –¥–æ 16 kHz)</li>
                        <li><strong>–î–∏–Ω–∞–º—ñ—á–Ω–∏–π –¥—ñ–∞–ø–∞–∑–æ–Ω:</strong> ~120 dB (–≤—ñ–¥ –ø–æ—Ä–æ–≥—É —á—É—Ç–Ω–æ—Å—Ç—ñ –¥–æ –±–æ–ª—å–æ–≤–æ–≥–æ –ø–æ—Ä–æ–≥—É)</li>
                        <li><strong>–ß–∞—Å–æ–≤–∞ —Ä–æ–∑–¥—ñ–ª—å–Ω—ñ—Å—Ç—å:</strong> ~10 –º—Å –¥–ª—è –≤–∏—è–≤–ª–µ–Ω–Ω—è –æ–∫—Ä–µ–º–∏—Ö –∑–≤—É–∫—ñ–≤</li>
                        <li><strong>–ú–∞—Å–∫—É–≤–∞–Ω–Ω—è:</strong> –≥—É—á–Ω—ñ –∑–≤—É–∫–∏ –º–∞—Å–∫—É—é—Ç—å —Ç–∏—Ö—ñ (—á–∞—Å—Ç–æ—Ç–Ω–µ —Ç–∞ —á–∞—Å–æ–≤–µ)</li>
                        <li><strong>–ö—Ä–∏—Ç–∏—á–Ω—ñ —Å–º—É–≥–∏:</strong> –≤—É—Ö–æ –ø—Ä–∞—Ü—é—î —è–∫ –±–∞–Ω–∫ —Ñ—ñ–ª—å—Ç—Ä—ñ–≤ (~24 —Å–º—É–≥–∏)</li>
                    </ul>

                    <div class="formula-box">
                        <strong>–ü—Å–∏—Ö–æ–∞–∫—É—Å—Ç–∏—á–Ω–∞ –º–æ–¥–µ–ª—å:</strong><br><br>
                        –ê—É–¥—ñ–æ –∫–æ–¥–µ–∫–∏ (MP3, AAC) –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å –ø—Å–∏—Ö–æ–∞–∫—É—Å—Ç–∏—á–Ω—ñ –º–æ–¥–µ–ª—ñ<br>
                        –¥–ª—è –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è, —è–∫—ñ —á–∞—Å—Ç–∏–Ω–∏ —Å–∏–≥–Ω–∞–ª—É –º–æ–∂–Ω–∞ –∑–º—ñ–Ω—é–≤–∞—Ç–∏/–≤–∏–¥–∞–ª—è—Ç–∏<br>
                        –±–µ–∑ –ø–æ–º—ñ—Ç–Ω–æ–≥–æ –≤–ø–ª–∏–≤—É –Ω–∞ —Å–ø—Ä–∏–π–Ω—è—Ç—Ç—è.<br><br>

                        –ö–ª—é—á–æ–≤—ñ –µ—Ñ–µ–∫—Ç–∏:<br>
                        ‚Ä¢ Frequency masking: –≥—É—á–Ω–∏–π —Ç–æ–Ω –º–∞—Å–∫—É—î —Å—É—Å—ñ–¥–Ω—ñ —Ç–∏—Ö—ñ<br>
                        ‚Ä¢ Temporal masking: –ø–µ—Ä–µ–¥ —Ç–∞ –ø—ñ—Å–ª—è –≥—É—á–Ω–æ–≥–æ –∑–≤—É–∫—É<br>
                        ‚Ä¢ Threshold of hearing: –Ω–∞–π—Ç–∏—Ö—ñ—à–∏–π –∑–≤—É–∫, —â–æ —á—É—î—Ç—å—Å—è
                    </div>
                </div>

                <div class="detection-method">
                    <h4>üìä –ú–µ—Ç—Ä–∏–∫–∏ —è–∫–æ—Å—Ç—ñ –∞—É–¥—ñ–æ</h4>
                    <p><strong>1. Signal-to-Noise Ratio (SNR)</strong></p>
                    <div class="formula-box">
                        SNR = 10 √ó log‚ÇÅ‚ÇÄ(P_signal / P_noise) [dB]<br><br>

                        –î–µ:<br>
                        P_signal = —Å–µ—Ä–µ–¥–Ω—è –ø–æ—Ç—É–∂–Ω—ñ—Å—Ç—å –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–æ–≥–æ —Å–∏–≥–Ω–∞–ª—É<br>
                        P_noise = —Å–µ—Ä–µ–¥–Ω—è –ø–æ—Ç—É–∂–Ω—ñ—Å—Ç—å —à—É–º—É (—Ä—ñ–∑–Ω–∏—Ü—ñ)<br><br>

                        –Ü–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü—ñ—è:<br>
                        ‚Ä¢ > 40 dB: –≤—ñ–¥–º—ñ–Ω–Ω–∞ —è–∫—ñ—Å—Ç—å, –Ω–µ–ø–æ–º—ñ—Ç–Ω—ñ –∑–º—ñ–Ω–∏<br>
                        ‚Ä¢ 30-40 dB: —Ö–æ—Ä–æ—à–∞ —è–∫—ñ—Å—Ç—å, –¥—É–∂–µ –º–∞–ª—ñ –∑–º—ñ–Ω–∏<br>
                        ‚Ä¢ 20-30 dB: –ø—Ä–∏–π–Ω—è—Ç–Ω–∞ —è–∫—ñ—Å—Ç—å, –ø–æ–º—ñ—Ç–Ω—ñ –ø—Ä–∏ —É–≤–∞–∂–Ω–æ–º—É –ø—Ä–æ—Å–ª—É—Ö–æ–≤—É–≤–∞–Ω–Ω—ñ<br>
                        ‚Ä¢ < 20 dB: –ø–æ–≥–∞–Ω–∞ —è–∫—ñ—Å—Ç—å, —á—ñ—Ç–∫–æ –ø–æ–º—ñ—Ç–Ω—ñ —Å–ø–æ—Ç–≤–æ—Ä–µ–Ω–Ω—è
                    </div>

                    <p><strong>2. Perceptual Evaluation of Speech Quality (PESQ)</strong></p>
                    <p>
                        –°—Ç–∞–Ω–¥–∞—Ä—Ç ITU-T –¥–ª—è –æ—Ü—ñ–Ω–∫–∏ —è–∫–æ—Å—Ç—ñ –º–æ–≤–ª–µ–Ω–Ω—è. –û—Ü—ñ–Ω–∫–∞ –≤—ñ–¥ -0.5 –¥–æ 4.5,<br>
                        –¥–µ 4.5 = —ñ–¥–µ–∞–ª—å–Ω–∞ —è–∫—ñ—Å—Ç—å. –í—Ä–∞—Ö–æ–≤—É—î –ø—Å–∏—Ö–æ–∞–∫—É—Å—Ç–∏—á–Ω—ñ –æ—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ.
                    </p>

                    <p><strong>3. Short-Time Objective Intelligibility (STOI)</strong></p>
                    <p>
                        –ú–µ—Ç—Ä–∏–∫–∞ —Ä–æ–∑–±—ñ—Ä–ª–∏–≤–æ—Å—Ç—ñ –º–æ–≤–ª–µ–Ω–Ω—è (0 –¥–æ 1). –ó–Ω–∞—á–µ–Ω–Ω—è > 0.9 –æ–∑–Ω–∞—á–∞—î<br>
                        –≤—ñ–¥–º—ñ–Ω–Ω—É —Ä–æ–∑–±—ñ—Ä–ª–∏–≤—ñ—Å—Ç—å.
                    </p>

                    <p><strong>4. Mean Opinion Score (MOS)</strong></p>
                    <p>
                        –°—É–±'—î–∫—Ç–∏–≤–Ω–∞ –æ—Ü—ñ–Ω–∫–∞ –ª—é–¥—å–º–∏ –≤—ñ–¥ 1 (–ø–æ–≥–∞–Ω–æ) –¥–æ 5 (–≤—ñ–¥–º—ñ–Ω–Ω–æ).<br>
                        –ó–æ–ª–æ—Ç–∏–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç, –∞–ª–µ –≤–∏–º–∞–≥–∞—î –≤–µ–ª–∏–∫–æ—ó –∫—ñ–ª—å–∫–æ—Å—Ç—ñ —Ç–µ—Å—Ç—É–≤–∞–ª—å–Ω–∏–∫—ñ–≤.
                    </p>
                </div>

                <div class="detection-method">
                    <h4>üíª –û–±—á–∏—Å–ª–µ–Ω–Ω—è SNR –≤ Python</h4>
                    <pre><code class="language-python">def calculate_snr(original, modified):
    """
    –û–±—á–∏—Å–ª—é—î SNR –º—ñ–∂ –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–∏–º —Ç–∞ –º–æ–¥–∏—Ñ—ñ–∫–æ–≤–∞–Ω–∏–º –∞—É–¥—ñ–æ

    Args:
        original: numpy array –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–∏—Ö —Å–µ–º–ø–ª—ñ–≤
        modified: numpy array –º–æ–¥–∏—Ñ—ñ–∫–æ–≤–∞–Ω–∏—Ö —Å–µ–º–ø–ª—ñ–≤

    Returns:
        snr_db: SNR –≤ –¥–µ—Ü–∏–±–µ–ª–∞—Ö
    """
    # –ü–æ—Ç—É–∂–Ω—ñ—Å—Ç—å —Å–∏–≥–Ω–∞–ª—É
    signal_power = np.mean(original ** 2)

    # –ü–æ—Ç—É–∂–Ω—ñ—Å—Ç—å —à—É–º—É (—Ä—ñ–∑–Ω–∏—Ü—ñ)
    noise = modified - original
    noise_power = np.mean(noise ** 2)

    # –£–Ω–∏–∫–∞—î–º–æ –¥—ñ–ª–µ–Ω–Ω—è –Ω–∞ –Ω—É–ª—å
    if noise_power == 0:
        return float('inf')

    # SNR –≤ dB
    snr = 10 * np.log10(signal_power / noise_power)

    return snr

# –ü—Ä–∏–∫–ª–∞–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è
snr = calculate_snr(original_samples, stego_samples)
print(f"SNR: {snr:.2f} dB")

if snr > 40:
    print("–í—ñ–¥–º—ñ–Ω–Ω–∞ —è–∫—ñ—Å—Ç—å - –∑–º—ñ–Ω–∏ –Ω–µ–ø–æ–º—ñ—Ç–Ω—ñ")
elif snr > 30:
    print("–•–æ—Ä–æ—à–∞ —è–∫—ñ—Å—Ç—å - –¥—É–∂–µ –º–∞–ª—ñ –∑–º—ñ–Ω–∏")
elif snr > 20:
    print("–ü—Ä–∏–π–Ω—è—Ç–Ω–∞ —è–∫—ñ—Å—Ç—å")
else:
    print("–ü–æ–≥–∞–Ω–∞ —è–∫—ñ—Å—Ç—å - –ø–æ–º—ñ—Ç–Ω—ñ —Å–ø–æ—Ç–≤–æ—Ä–µ–Ω–Ω—è")</code></pre>
                </div>

                <div class="detection-method">
                    <h4>üéß –°–ø–µ–∫—Ç—Ä–∞–ª—å–Ω–∏–π –∞–Ω–∞–ª—ñ–∑</h4>
                    <p>
                        –ö–æ—Ä–∏—Å–Ω–æ –ø–æ—Ä—ñ–≤–Ω—é–≤–∞—Ç–∏ —Å–ø–µ–∫—Ç—Ä–∏ –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–æ–≥–æ —Ç–∞ —Å—Ç–µ–≥–æ –∞—É–¥—ñ–æ:
                    </p>
                    <pre><code class="language-python">import matplotlib.pyplot as plt
from scipy import signal

def plot_spectrogram(audio_samples, sample_rate, title):
    """–í—ñ–¥–æ–±—Ä–∞–∂–∞—î —Å–ø–µ–∫—Ç—Ä–æ–≥—Ä–∞–º—É –∞—É–¥—ñ–æ"""
    f, t, Sxx = signal.spectrogram(audio_samples, sample_rate)

    plt.figure(figsize=(10, 6))
    plt.pcolormesh(t, f, 10 * np.log10(Sxx), shading='auto')
    plt.ylabel('Frequency [Hz]')
    plt.xlabel('Time [sec]')
    plt.title(title)
    plt.colorbar(label='Power [dB]')
    plt.ylim([0, sample_rate/2])
    plt.show()

# –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è —Å–ø–µ–∫—Ç—Ä–æ–≥—Ä–∞–º
plot_spectrogram(original, sample_rate, "Original Audio")
plot_spectrogram(stego, sample_rate, "Stego Audio")

# –†—ñ–∑–Ω–∏—Ü—è —Å–ø–µ–∫—Ç—Ä—ñ–≤ –ø–æ–∫–∞–∑—É—î, –¥–µ –≤—ñ–¥–±—É–ª–∏—Å—è –∑–º—ñ–Ω–∏
diff = stego - original
plot_spectrogram(diff, sample_rate, "Difference (Noise)")</code></pre>
                </div>
            </div>

            <!-- –Ü–Ω—à—ñ –º–µ—Ç–æ–¥–∏ -->
            <div class="tab-content" id="advanced-methods">
                <h3>–Ü–Ω—à—ñ –º–µ—Ç–æ–¥–∏ –∞—É–¥—ñ–æ —Å—Ç–µ–≥–∞–Ω–æ–≥—Ä–∞—Ñ—ñ—ó</h3>

                <div class="detection-method">
                    <h4>üöÄ Phase Coding</h4>
                    <p>
                        <strong>–§–∞–∑–æ–≤–µ –∫–æ–¥—É–≤–∞–Ω–Ω—è</strong> –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î —Ç–æ–π —Ñ–∞–∫—Ç, —â–æ –ª—é–¥—Å—å–∫–µ –≤—É—Ö–æ –Ω–µ—á—É—Ç–ª–∏–≤–µ –¥–æ –∞–±—Å–æ–ª—é—Ç–Ω–æ—ó —Ñ–∞–∑–∏ —Å–∏–≥–Ω–∞–ª—É, –∞ —Ç—ñ–ª—å–∫–∏ –¥–æ –≤—ñ–¥–Ω–æ—Å–Ω–∏—Ö —Ñ–∞–∑–æ–≤–∏—Ö –∑—Å—É–≤—ñ–≤.
                    </p>

                    <div class="formula-box">
                        <strong>–ê–ª–≥–æ—Ä–∏—Ç–º Phase Coding:</strong><br><br>
                        1. –†–æ–∑–¥—ñ–ª–∏—Ç–∏ –∞—É–¥—ñ–æ –Ω–∞ —Å–µ–≥–º–µ–Ω—Ç–∏ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –ø–æ 1024 —Å–µ–º–ø–ª–∏)<br>
                        2. –ó–∞—Å—Ç–æ—Å—É–≤–∞—Ç–∏ DFT –¥–æ –∫–æ–∂–Ω–æ–≥–æ —Å–µ–≥–º–µ–Ω—Ç—É<br>
                        3. –ú–æ–¥–∏—Ñ—ñ–∫—É–≤–∞—Ç–∏ —Ñ–∞–∑—É –ø–µ—Ä—à–æ–≥–æ —Å–µ–≥–º–µ–Ω—Ç—É –∑–≥—ñ–¥–Ω–æ –∑ –±—ñ—Ç–∞–º–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è<br>
                        4. –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ —Ñ–∞–∑–∏ —ñ–Ω—à–∏—Ö —Å–µ–≥–º–µ–Ω—Ç—ñ–≤ –¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –≤—ñ–¥–Ω–æ—Å–Ω–∏—Ö —Ä—ñ–∑–Ω–∏—Ü—å<br>
                        5. –ó–∞—Å—Ç–æ—Å—É–≤–∞—Ç–∏ IDFT –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è —Å—Ç–µ–≥–æ –∞—É–¥—ñ–æ<br><br>

                        –ü–µ—Ä–µ–≤–∞–≥–∏:<br>
                        ‚Ä¢ –í–∏—Å–æ–∫–∞ –Ω–µ–ø–æ–º—ñ—Ç–Ω—ñ—Å—Ç—å (–ª—é–¥–∏–Ω–∞ –Ω–µ —á—É—î —Ñ–∞–∑—É)<br>
                        ‚Ä¢ –°—Ç—ñ–π–∫—ñ—Å—Ç—å –¥–æ —à—É–º—É<br>

                        –ù–µ–¥–æ–ª—ñ–∫–∏:<br>
                        ‚Ä¢ –ù–∏–∑—å–∫–∞ —î–º–Ω—ñ—Å—Ç—å (1 –±—ñ—Ç –Ω–∞ —Å–µ–≥–º–µ–Ω—Ç)<br>
                        ‚Ä¢ –°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó
                    </div>
                </div>

                <div class="detection-method">
                    <h4>üåä Spread Spectrum</h4>
                    <p>
                        <strong>–†–æ–∑—à–∏—Ä–µ–Ω–Ω—è —Å–ø–µ–∫—Ç—Ä—É</strong> ‚Äî –º–µ—Ç–æ–¥ –∑ –≤–∏—Å–æ–∫–æ—é —Å—Ç—ñ–π–∫—ñ—Å—Ç—é –¥–æ –∞—Ç–∞–∫. –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è —Ä–æ–∑–ø–æ–¥—ñ–ª—è—î—Ç—å—Å—è –ø–æ –≤—Å—å–æ–º—É —á–∞—Å—Ç–æ—Ç–Ω–æ–º—É —Å–ø–µ–∫—Ç—Ä—É.
                    </p>

                    <div class="formula-box">
                        <strong>Direct Sequence Spread Spectrum (DSSS):</strong><br><br>
                        1. –ö–æ–∂–µ–Ω –±—ñ—Ç –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—î—Ç—å—Å—è –ø—Å–µ–≤–¥–æ–≤–∏–ø–∞–¥–∫–æ–≤–æ—é –ø–æ—Å–ª—ñ–¥–æ–≤–Ω—ñ—Å—Ç—é<br>
                        2. –ü–æ—Å–ª—ñ–¥–æ–≤–Ω—ñ—Å—Ç—å –¥–æ–¥–∞—î—Ç—å—Å—è –¥–æ –∞—É–¥—ñ–æ —Å–∏–≥–Ω–∞–ª—É<br>
                        3. –î–ª—è –¥–µ–∫–æ–¥—É–≤–∞–Ω–Ω—è –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è —Ç–æ–π —Å–∞–º–∏–π PRNG –∑ –∫–ª—é—á–µ–º<br>
                        4. –ö–æ—Ä–µ–ª—è—Ü—ñ—è –∑ –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–æ—é –ø–æ—Å–ª—ñ–¥–æ–≤–Ω—ñ—Å—Ç—é –≤–∏—Ç—è–≥—É—î –±—ñ—Ç<br><br>

                        –ü–µ—Ä–µ–≤–∞–≥–∏:<br>
                        ‚Ä¢ –í–∏—Å–æ–∫–∞ —Å—Ç—ñ–π–∫—ñ—Å—Ç—å –¥–æ —à—É–º—É, –∫–æ–º–ø—Ä–µ—Å—ñ—ó, —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—ó<br>
                        ‚Ä¢ –ë–µ–∑–ø–µ—á–Ω—ñ—Å—Ç—å (–ø–æ—Ç—Ä—ñ–±–µ–Ω –∫–ª—é—á –¥–ª—è –¥–µ–∫–æ–¥—É–≤–∞–Ω–Ω—è)<br>

                        –ù–µ–¥–æ–ª—ñ–∫–∏:<br>
                        ‚Ä¢ –î—É–∂–µ –Ω–∏–∑—å–∫–∞ —î–º–Ω—ñ—Å—Ç—å<br>
                        ‚Ä¢ –°–∫–ª–∞–¥–Ω–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è
                    </div>
                </div>

                <div class="detection-method">
                    <h4>üéöÔ∏è Echo Hiding</h4>
                    <p>
                        <strong>–ü—Ä–∏—Ö–æ–≤—É–≤–∞–Ω–Ω—è –µ—Ö–æ</strong> –≤–±—É–¥–æ–≤—É—î —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –¥–æ–¥–∞–≤–∞–Ω–Ω—è–º –∫–æ—Ä–æ—Ç–∫–æ–≥–æ –µ—Ö–æ –¥–æ –∞—É–¥—ñ–æ —Å–∏–≥–Ω–∞–ª—É.
                    </p>

                    <div class="formula-box">
                        <strong>–ü–∞—Ä–∞–º–µ—Ç—Ä–∏ –µ—Ö–æ:</strong><br><br>
                        ‚Ä¢ Delay: –∑–∞—Ç—Ä–∏–º–∫–∞ –µ—Ö–æ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, 0.5-1 –º—Å –¥–ª—è "0", 1-2 –º—Å –¥–ª—è "1")<br>
                        ‚Ä¢ Amplitude: –∞–º–ø–ª—ñ—Ç—É–¥–∞ –µ—Ö–æ (–Ω–∏–∑—å–∫–∞, —â–æ–± –Ω–µ –ø–æ–º—ñ—Ç–∏—Ç–∏)<br>
                        ‚Ä¢ Decay rate: —à–≤–∏–¥–∫—ñ—Å—Ç—å –∑–∞–≥–∞—Å–∞–Ω–Ω—è<br><br>

                        y_stego(t) = y_original(t) + Œ± √ó y_original(t - d)<br><br>

                        –î–µ d ‚Äî –∑–∞—Ç—Ä–∏–º–∫–∞, Œ± ‚Äî –∞–º–ø–ª—ñ—Ç—É–¥–∞ (–∑–∞–∑–≤–∏—á–∞–π 0.1-0.3)<br><br>

                        –î–µ–∫–æ–¥—É–≤–∞–Ω–Ω—è —á–µ—Ä–µ–∑ cepstrum –∞–Ω–∞–ª—ñ–∑:<br>
                        –≤–∏—è–≤–ª–µ–Ω–Ω—è –ø—ñ–∫—ñ–≤ —É –∫–µ–ø—Å—Ç—Ä—ñ –≤–∫–∞–∑—É—î –Ω–∞ –Ω–∞—è–≤–Ω—ñ—Å—Ç—å —Ç–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ –µ—Ö–æ
                    </div>

                    <p>–ë—É–¥–µ –¥–µ—Ç–∞–ª—å–Ω–æ —Ä–æ–∑–≥–ª—è–Ω—É—Ç–æ –≤ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω—ñ–π —Ä–æ–±–æ—Ç—ñ ‚Ññ8.</p>
                </div>

                <div class="detection-method">
                    <h4>üìä –ü–æ—Ä—ñ–≤–Ω—è–ª—å–Ω–∞ —Ç–∞–±–ª–∏—Ü—è –º–µ—Ç–æ–¥—ñ–≤</h4>
                    <table style="width: 100%; border-collapse: collapse; margin-top: 15px;">
                        <thead>
                            <tr style="background: var(--color-primary); color: white;">
                                <th style="padding: 12px; border: 1px solid #ddd;">–ú–µ—Ç–æ–¥</th>
                                <th style="padding: 12px; border: 1px solid #ddd;">–Ñ–º–Ω—ñ—Å—Ç—å</th>
                                <th style="padding: 12px; border: 1px solid #ddd;">–ù–µ–ø–æ–º—ñ—Ç–Ω—ñ—Å—Ç—å</th>
                                <th style="padding: 12px; border: 1px solid #ddd;">–°—Ç—ñ–π–∫—ñ—Å—Ç—å</th>
                                <th style="padding: 12px; border: 1px solid #ddd;">–°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td style="padding: 10px; border: 1px solid #ddd;"><strong>LSB</strong></td>
                                <td style="padding: 10px; border: 1px solid #ddd;">–í–∏—Å–æ–∫–∞</td>
                                <td style="padding: 10px; border: 1px solid #ddd;">–•–æ—Ä–æ—à–∞</td>
                                <td style="padding: 10px; border: 1px solid #ddd;">–ù–∏–∑—å–∫–∞</td>
                                <td style="padding: 10px; border: 1px solid #ddd;">–ü—Ä–æ—Å—Ç–∞</td>
                            </tr>
                            <tr style="background: #f9f9f9;">
                                <td style="padding: 10px; border: 1px solid #ddd;"><strong>Phase Coding</strong></td>
                                <td style="padding: 10px; border: 1px solid #ddd;">–î—É–∂–µ –Ω–∏–∑—å–∫–∞</td>
                                <td style="padding: 10px; border: 1px solid #ddd;">–í—ñ–¥–º—ñ–Ω–Ω–∞</td>
                                <td style="padding: 10px; border: 1px solid #ddd;">–°–µ—Ä–µ–¥–Ω—è</td>
                                <td style="padding: 10px; border: 1px solid #ddd;">–°–µ—Ä–µ–¥–Ω—è</td>
                            </tr>
                            <tr>
                                <td style="padding: 10px; border: 1px solid #ddd;"><strong>Spread Spectrum</strong></td>
                                <td style="padding: 10px; border: 1px solid #ddd;">–î—É–∂–µ –Ω–∏–∑—å–∫–∞</td>
                                <td style="padding: 10px; border: 1px solid #ddd;">–í—ñ–¥–º—ñ–Ω–Ω–∞</td>
                                <td style="padding: 10px; border: 1px solid #ddd;">–í–∏—Å–æ–∫–∞</td>
                                <td style="padding: 10px; border: 1px solid #ddd;">–°–∫–ª–∞–¥–Ω–∞</td>
                            </tr>
                            <tr style="background: #f9f9f9;">
                                <td style="padding: 10px; border: 1px solid #ddd;"><strong>Echo Hiding</strong></td>
                                <td style="padding: 10px; border: 1px solid #ddd;">–ù–∏–∑—å–∫–∞</td>
                                <td style="padding: 10px; border: 1px solid #ddd;">–î—É–∂–µ —Ö–æ—Ä–æ—à–∞</td>
                                <td style="padding: 10px; border: 1px solid #ddd;">–°–µ—Ä–µ–¥–Ω—è</td>
                                <td style="padding: 10px; border: 1px solid #ddd;">–°–µ—Ä–µ–¥–Ω—è</td>
                            </tr>
                        </tbody>
                    </table>

                    <p style="margin-top: 15px;"><strong>–í–∏—Å–Ω–æ–≤–æ–∫:</strong> LSB —î –Ω–∞–π–ø—Ä–æ—Å—Ç—ñ—à–∏–º —Ç–∞ –Ω–∞–π—î–º–Ω—ñ—à–∏–º –º–µ—Ç–æ–¥–æ–º, –∞–ª–µ –º–∞—î –Ω–∏–∑—å–∫—É —Å—Ç—ñ–π–∫—ñ—Å—Ç—å. –î–ª—è –∫—Ä–∏—Ç–∏—á–Ω–∏—Ö –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω—å –∫—Ä–∞—â–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –∫–æ–º–±—ñ–Ω–∞—Ü—ñ—é –º–µ—Ç–æ–¥—ñ–≤ –∞–±–æ –±—ñ–ª—å—à —Å—Ç—ñ–π–∫—ñ —Ç–µ—Ö–Ω—ñ–∫–∏ —è–∫ spread spectrum.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- –ü—Ä–∞–∫—Ç–∏—á–Ω—ñ –∑–∞–≤–¥–∞–Ω–Ω—è -->
    <section>
        <h2>üíª –ü—Ä–∞–∫—Ç–∏—á–Ω—ñ –∑–∞–≤–¥–∞–Ω–Ω—è</h2>

        <!-- –ó–∞–≤–¥–∞–Ω–Ω—è 1 -->
        <div class="task-box">
            <h3><span class="step-number">1</span>–ë–∞–∑–æ–≤–∏–π Audio LSB Encoder/Decoder</h3>

            <h4>–í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –±—ñ–±–ª—ñ–æ—Ç–µ–∫:</h4>
            <pre class="python"><code># –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –Ω–µ–æ–±—Ö—ñ–¥–Ω–∏—Ö –±—ñ–±–ª—ñ–æ—Ç–µ–∫
# –í —Ç–µ—Ä–º—ñ–Ω–∞–ª—ñ:
# pip install numpy matplotlib scipy librosa

import wave
import numpy as np
import matplotlib.pyplot as plt
from scipy import signal

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≤–µ—Ä—Å—ñ–π
print("NumPy –≤–µ—Ä—Å—ñ—è:", np.__version__)
print("‚úÖ –ë—ñ–±–ª—ñ–æ—Ç–µ–∫–∏ —É—Å–ø—ñ—à–Ω–æ —ñ–º–ø–æ—Ä—Ç–æ–≤–∞–Ω—ñ!")
</code></pre>

            <h4>–ë–∞–∑–æ–≤—ñ —Ñ—É–Ω–∫—Ü—ñ—ó –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ WAV:</h4>
            <pre class="python"><code>def read_wav(filename):
    """
    –ß–∏—Ç–∞–Ω–Ω—è WAV —Ñ–∞–π–ª—É —Ç–∞ –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤

    Parameters:
    -----------
    filename : str - —à–ª—è—Ö –¥–æ WAV —Ñ–∞–π–ª—É

    Returns:
    --------
    samples : numpy array - –∞—É–¥—ñ–æ —Å–µ–º–ø–ª–∏ (int16 –¥–ª—è 16-bit)
    framerate : int - —á–∞—Å—Ç–æ—Ç–∞ –¥–∏—Å–∫—Ä–µ—Ç–∏–∑–∞—Ü—ñ—ó (–∑–∞–∑–≤–∏—á–∞–π 44100 Hz)
    n_channels : int - –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∫–∞–Ω–∞–ª—ñ–≤ (1=–º–æ–Ω–æ, 2=—Å—Ç–µ—Ä–µ–æ)
    sample_width : int - –∫—ñ–ª—å–∫—ñ—Å—Ç—å –±–∞–π—Ç –Ω–∞ —Å–µ–º–ø–ª (2 –¥–ª—è 16-bit)

    –í–ê–ñ–õ–ò–í–û: –§—É–Ω–∫—Ü—ñ—è –ø—ñ–¥—Ç—Ä–∏–º—É—î 8, 16, 32 –±—ñ—Ç–Ω—ñ —Ñ–æ—Ä–º–∞—Ç–∏
    """
    with wave.open(filename, 'rb') as wav:
        n_channels = wav.getnchannels()
        sample_width = wav.getsampwidth()
        framerate = wav.getframerate()
        n_frames = wav.getnframes()

        # –ß–∏—Ç–∞–Ω–Ω—è —Å–∏—Ä–∏—Ö –±–∞–π—Ç—ñ–≤
        audio_data = wav.readframes(n_frames)

        # –í–∏–∑–Ω–∞—á–µ–Ω–Ω—è —Ç–∏–ø—É –¥–∞–Ω–∏—Ö –Ω–∞ –æ—Å–Ω–æ–≤—ñ sample_width
        if sample_width == 1:  # 8-bit
            dtype = np.uint8
        elif sample_width == 2:  # 16-bit (–Ω–∞–π–ø–æ—à–∏—Ä–µ–Ω—ñ—à–∏–π)
            dtype = np.int16
        else:  # 32-bit
            dtype = np.int32

        # –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü—ñ—è –≤ numpy array
        samples = np.frombuffer(audio_data, dtype=dtype)

    print(f"–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–æ: {filename}")
    print(f"  –§–æ—Ä–º–∞—Ç: {n_channels} –∫–∞–Ω–∞–ª(–∏), {sample_width*8}-bit, {framerate} Hz")
    print(f"  –¢—Ä–∏–≤–∞–ª—ñ—Å—Ç—å: {n_frames/framerate:.2f} —Å–µ–∫")
    print(f"  –°–µ–º–ø–ª—ñ–≤: {len(samples)}")

    return samples, framerate, n_channels, sample_width

def write_wav(filename, samples, framerate, n_channels, sample_width):
    """
    –ó–∞–ø–∏—Å WAV —Ñ–∞–π–ª—É –∑ –∑–∞–¥–∞–Ω–∏–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏

    Parameters:
    -----------
    filename : str - —à–ª—è—Ö –¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è
    samples : numpy array - –∞—É–¥—ñ–æ —Å–µ–º–ø–ª–∏
    framerate : int - —á–∞—Å—Ç–æ—Ç–∞ –¥–∏—Å–∫—Ä–µ—Ç–∏–∑–∞—Ü—ñ—ó
    n_channels : int - –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∫–∞–Ω–∞–ª—ñ–≤
    sample_width : int - –∫—ñ–ª—å–∫—ñ—Å—Ç—å –±–∞–π—Ç –Ω–∞ —Å–µ–º–ø–ª
    """
    with wave.open(filename, 'wb') as wav:
        wav.setnchannels(n_channels)
        wav.setsampwidth(sample_width)
        wav.setframerate(framerate)
        wav.writeframes(samples.tobytes())

    print(f"‚úÖ –ó–±–µ—Ä–µ–∂–µ–Ω–æ: {filename}")

def calculate_capacity(num_samples, num_lsb):
    """
    –û–±—á–∏—Å–ª—é—î –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É —î–º–Ω—ñ—Å—Ç—å –¥–ª—è LSB —Å—Ç–µ–≥–∞–Ω–æ–≥—Ä–∞—Ñ—ñ—ó

    Parameters:
    -----------
    num_samples : int - –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Å–µ–º–ø–ª—ñ–≤ –≤ –∞—É–¥—ñ–æ
    num_lsb : int - –∫—ñ–ª—å–∫—ñ—Å—Ç—å LSB –±—ñ—Ç –¥–ª—è –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

    Returns:
    --------
    capacity_bytes : int - —î–º–Ω—ñ—Å—Ç—å –≤ –±–∞–π—Ç–∞—Ö
    """
    # 32 –±—ñ—Ç–∏ –¥–ª—è header (–¥–æ–≤–∂–∏–Ω–∞ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è)
    available_bits = (num_samples * num_lsb) - 32
    capacity_bytes = available_bits // 8
    return capacity_bytes

print("–§—É–Ω–∫—Ü—ñ—ó –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ WAV –≥–æ—Ç–æ–≤—ñ!")
</code></pre>

            <h4>–†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è Audio LSB Encoder:</h4>
            <pre class="python"><code>def audio_lsb_encode(audio_file, message, output_file, num_lsb=1):
    """
    –í–±—É–¥–æ–≤—É—î –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤ –∞—É–¥—ñ–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ LSB

    Parameters:
    -----------
    audio_file : str - —à–ª—è—Ö –¥–æ –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–æ–≥–æ WAV —Ñ–∞–π–ª—É
    message : bytes - –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –¥–ª—è –≤–±—É–¥–æ–≤—É–≤–∞–Ω–Ω—è (–±–∞–π—Ç–æ–≤–∏–π —Ä—è–¥–æ–∫)
    output_file : str - —à–ª—è—Ö –¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è —Å—Ç–µ–≥–æ-–∞—É–¥—ñ–æ
    num_lsb : int - –∫—ñ–ª—å–∫—ñ—Å—Ç—å LSB –±—ñ—Ç –¥–ª—è –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è (1-4)
                    1 LSB: –Ω–∞–π–∫—Ä–∞—â–∞ —è–∫—ñ—Å—Ç—å, –Ω–∏–∑—å–∫–∞ —î–º–Ω—ñ—Å—Ç—å
                    2 LSB: –¥–æ–±—Ä–∏–π –±–∞–ª–∞–Ω—Å (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ)
                    3-4 LSB: –≤–∏—Å–æ–∫–∞ —î–º–Ω—ñ—Å—Ç—å, –ø–æ–º—ñ—Ç–Ω–∞ –¥–µ–≥—Ä–∞–¥–∞—Ü—ñ—è

    Returns:
    --------
    bits_embedded : int - –∫—ñ–ª—å–∫—ñ—Å—Ç—å –≤–±—É–¥–æ–≤–∞–Ω–∏—Ö –±—ñ—Ç

    –í–ê–ñ–õ–ò–í–û:
    - –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –¥–æ–¥–∞—î header –∑ –¥–æ–≤–∂–∏–Ω–æ—é –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è (32 –±—ñ—Ç–∏)
    - –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î bit masking –¥–ª—è –º–æ–¥–∏—Ñ—ñ–∫–∞—Ü—ñ—ó LSB
    - –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ –∑–º—ñ–Ω–∞ —Å–µ–º–ø–ª—É: ¬±(2^num_lsb - 1)
    """
    # –ß–∏—Ç–∞—î–º–æ –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–µ –∞—É–¥—ñ–æ
    samples, sr, channels, width = read_wav(audio_file)
    stego_samples = samples.copy().astype(np.int32)  # int32 –¥–ª—è —É–Ω–∏–∫–Ω–µ–Ω–Ω—è overflow

    # –ö–æ–Ω–≤–µ—Ä—Ç—É—î–º–æ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤ –±—ñ—Ç–∏
    length_bits = format(len(message), '032b')  # 32-–±—ñ—Ç–Ω–∏–π header
    message_bits = ''.join([format(byte, '08b') for byte in message])
    full_message = length_bits + message_bits

    print(f"\nüìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤–±—É–¥–æ–≤—É–≤–∞–Ω–Ω—è:")
    print(f"  –î–æ–≤–∂–∏–Ω–∞ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è: {len(message)} –±–∞–π—Ç")
    print(f"  –ë—ñ—Ç–∏ –¥–ª—è –≤–±—É–¥–æ–≤—É–≤–∞–Ω–Ω—è: {len(full_message)} (32 header + {len(message_bits)} data)")

    # –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —î–º–Ω–æ—Å—Ç—ñ
    max_capacity = calculate_capacity(len(samples), num_lsb)
    print(f"  –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ —î–º–Ω—ñ—Å—Ç—å: {max_capacity} –±–∞–π—Ç")

    if len(message) > max_capacity:
        raise ValueError(f"–ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∑–∞–≤–µ–ª–∏–∫–µ! –ú–∞–∫—Å: {max_capacity} –±–∞–π—Ç, –ø–æ—Ç—Ä—ñ–±–Ω–æ: {len(message)} –±–∞–π—Ç")

    # –°—Ç–≤–æ—Ä—é—î–º–æ –º–∞—Å–∫—É –¥–ª—è –æ—á–∏—â–µ–Ω–Ω—è LSB –±—ñ—Ç
    # –ù–∞–ø—Ä–∏–∫–ª–∞–¥, –¥–ª—è 16-bit —Ç–∞ num_lsb=2: mask = 0xFFFC (11111111 11111100)
    mask = ~((1 << num_lsb) - 1)  # –£–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω–∞ –º–∞—Å–∫–∞

    # –í–±—É–¥–æ–≤—É–≤–∞–Ω–Ω—è: –∑–∞–º—ñ–Ω–∞ LSB –±—ñ—Ç –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è–º
    bit_idx = 0
    for i in range(len(stego_samples)):
        if bit_idx >= len(full_message):
            break

        # –û—á–∏—â—É—î–º–æ LSB –±—ñ—Ç–∏ —Ç–∞ –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î–º–æ –Ω–æ–≤—ñ
        bits_to_embed = int(full_message[bit_idx:bit_idx+num_lsb].ljust(num_lsb, '0'), 2)
        stego_samples[i] = (stego_samples[i] & mask) | bits_to_embed

        bit_idx += num_lsb

    # –ó–±–µ—Ä—ñ–≥–∞—î–º–æ —Å—Ç–µ–≥–æ-–∞—É–¥—ñ–æ (–∫–æ–Ω–≤–µ—Ä—Ç—É—î–º–æ –Ω–∞–∑–∞–¥ –≤ int16)
    write_wav(output_file, stego_samples.astype(np.int16), sr, channels, width)

    print(f"‚úÖ –í–±—É–¥–æ–≤–∞–Ω–æ {len(full_message)} –±—ñ—Ç —É {output_file}")

    return len(full_message)

def audio_lsb_decode(stego_file, num_lsb=1):
    """
    –í–∏—Ç—è–≥—É—î –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∑ —Å—Ç–µ–≥–æ-–∞—É–¥—ñ–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ LSB

    Parameters:
    -----------
    stego_file : str - —à–ª—è—Ö –¥–æ —Å—Ç–µ–≥–æ-–∞—É–¥—ñ–æ —Ñ–∞–π–ª—É
    num_lsb : int - –∫—ñ–ª—å–∫—ñ—Å—Ç—å LSB –±—ñ—Ç (–º–∞—î –±—É—Ç–∏ —Ç–æ–π —Å–∞–º–∏–π, —â–æ –ø—Ä–∏ –≤–±—É–¥–æ–≤—É–≤–∞–Ω–Ω—ñ!)

    Returns:
    --------
    message : bytes - –≤–∏—Ç—è–≥–Ω—É—Ç–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è

    –í–ê–ñ–õ–ò–í–û:
    - –¶–µ –°–õ–Ü–ü–ò–ô (blind) –º–µ—Ç–æ–¥ - –Ω–µ –ø–æ—Ç—Ä–µ–±—É—î –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–æ–≥–æ –∞—É–¥—ñ–æ
    - –°–ø–æ—á–∞—Ç–∫—É –≤–∏—Ç—è–≥—É—î 32-–±—ñ—Ç–Ω–∏–π header –∑ –¥–æ–≤–∂–∏–Ω–æ—é
    - –ü–æ—Ç—ñ–º –≤–∏—Ç—è–≥—É—î –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—É –∫—ñ–ª—å–∫—ñ—Å—Ç—å –±—ñ—Ç –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
    """
    # –ß–∏—Ç–∞—î–º–æ —Å—Ç–µ–≥–æ-–∞—É–¥—ñ–æ
    samples, _, _, _ = read_wav(stego_file)

    # –°—Ç–≤–æ—Ä—é—î–º–æ –º–∞—Å–∫—É –¥–ª—è –≤–∏—Ç—è–≥—É–≤–∞–Ω–Ω—è LSB –±—ñ—Ç
    # –ù–∞–ø—Ä–∏–∫–ª–∞–¥, –¥–ª—è num_lsb=2: mask = 0x0003 (00000000 00000011)
    mask = (1 << num_lsb) - 1

    print(f"\nüìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤–∏—Ç—è–≥—É–≤–∞–Ω–Ω—è:")

    # –ö—Ä–æ–∫ 1: –í–∏—Ç—è–≥—É—î–º–æ –¥–æ–≤–∂–∏–Ω—É –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è (–ø–µ—Ä—à—ñ 32 –±—ñ—Ç–∏)
    length_bits = ''
    samples_for_length = 32 // num_lsb + (1 if 32 % num_lsb != 0 else 0)

    for i in range(samples_for_length):
        bits = samples[i] & mask
        length_bits += format(bits, f'0{num_lsb}b')

    message_length = int(length_bits[:32], 2)
    print(f"  –î–æ–≤–∂–∏–Ω–∞ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è: {message_length} –±–∞–π—Ç")

    # –ö—Ä–æ–∫ 2: –í–∏—Ç—è–≥—É—î–º–æ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
    message_bits = length_bits[32:]  # –ó–∞–ª–∏—à–æ–∫ –ø—ñ—Å–ª—è header
    start_idx = samples_for_length
    bits_needed = message_length * 8
    samples_needed = (bits_needed - len(message_bits) + num_lsb - 1) // num_lsb

    for i in range(start_idx, start_idx + samples_needed):
        bits = samples[i] & mask
        message_bits += format(bits, f'0{num_lsb}b')

    # –ö—Ä–æ–∫ 3: –ö–æ–Ω–≤–µ—Ä—Ç—É—î–º–æ –±—ñ—Ç–∏ –≤ bytes
    message = bytearray()
    for i in range(0, message_length * 8, 8):
        if i + 8 <= len(message_bits):
            byte = int(message_bits[i:i+8], 2)
            message.append(byte)

    print(f"‚úÖ –í–∏—Ç—è–≥–Ω—É—Ç–æ {len(message)} –±–∞–π—Ç")

    return bytes(message)

print("Audio LSB —Ñ—É–Ω–∫—Ü—ñ—ó –≥–æ—Ç–æ–≤—ñ!")
</code></pre>

            <h4>–¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è —Ç–∞ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—è:</h4>
            <pre class="python"><code># –ü—Ä–∏–∫–ª–∞–¥ 1: –ë–∞–∑–æ–≤–µ –≤–±—É–¥–æ–≤—É–≤–∞–Ω–Ω—è —Ç–µ–∫—Å—Ç—É
print("="*60)
print("–¢–ï–°–¢ 1: –ë–∞–∑–æ–≤–µ –≤–±—É–¥–æ–≤—É–≤–∞–Ω–Ω—è")
print("="*60)

message = b"–°–µ–∫—Ä–µ—Ç–Ω–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤ –∞—É–¥—ñ–æ!"
print(f"–û—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è: {message.decode('utf-8')}")

# –ü—Ä–∏–ø—É—Å–∫–∞—î–º–æ, —â–æ —É –≤–∞—Å —î —Ñ–∞–π–ª 'test_audio.wav'
# –í–±—É–¥–æ–≤—É–≤–∞–Ω–Ω—è
audio_lsb_encode('test_audio.wav', message, 'stego_audio.wav', num_lsb=2)

# –í–∏—Ç—è–≥—É–≤–∞–Ω–Ω—è
extracted = audio_lsb_decode('stego_audio.wav', num_lsb=2)
print(f"–í–∏—Ç—è–≥–Ω—É—Ç–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è: {extracted.decode('utf-8')}")

if extracted == message:
    print("‚úÖ –£–°–ü–Ü–•: –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤–∏—Ç—è–≥–Ω—É—Ç–æ –∫–æ—Ä–µ–∫—Ç–Ω–æ!")
else:
    print("‚ùå –ü–û–ú–ò–õ–ö–ê: –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –Ω–µ –∑–±—ñ–≥–∞—î—Ç—å—Å—è!")

# –ü—Ä–∏–∫–ª–∞–¥ 2: –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è —Ä—ñ–∑–Ω–∏—Ö –¥–æ–≤–∂–∏–Ω
print("\n" + "="*60)
print("–¢–ï–°–¢ 2: –†—ñ–∑–Ω—ñ –¥–æ–≤–∂–∏–Ω–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å")
print("="*60)

test_lengths = [10, 100, 500, 1000]
for length in test_lengths:
    msg = b'X' * length
    try:
        audio_lsb_encode('test_audio.wav', msg, f'stego_{length}.wav', num_lsb=1)
        decoded = audio_lsb_decode(f'stego_{length}.wav', num_lsb=1)
        status = "‚úÖ OK" if decoded == msg else "‚ùå FAIL"
        print(f"  {length} –±–∞–π—Ç: {status}")
    except ValueError as e:
        print(f"  {length} –±–∞–π—Ç: ‚ö†Ô∏è {e}")

# –ü—Ä–∏–∫–ª–∞–¥ 3: –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è —Ä—ñ–∑–Ω–æ—ó –∫—ñ–ª—å–∫–æ—Å—Ç—ñ LSB
print("\n" + "="*60)
print("–¢–ï–°–¢ 3: –†—ñ–∑–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å LSB –±—ñ—Ç")
print("="*60)

message = b"Test message for LSB comparison"
for num_lsb in [1, 2, 3, 4]:
    audio_lsb_encode('test_audio.wav', message, f'stego_{num_lsb}lsb.wav', num_lsb)
    decoded = audio_lsb_decode(f'stego_{num_lsb}lsb.wav', num_lsb)
    status = "‚úÖ OK" if decoded == message else "‚ùå FAIL"
    print(f"  {num_lsb} LSB: {status}")

print("\n‚úÖ –í—Å—ñ —Ç–µ—Å—Ç–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–æ!")
</code></pre>

            <div class="result-box">
                <h4>‚úÖ –û—á—ñ–∫—É–≤–∞–Ω—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏:</h4>
                <ul>
                    <li>–í—Å—ñ —Ç–µ—Å—Ç–∏ –ø—Ä–æ—Ö–æ–¥—è—Ç—å —É—Å–ø—ñ—à–Ω–æ (100% —Ç–æ—á–Ω—ñ—Å—Ç—å –≤–∏—Ç—è–≥—É–≤–∞–Ω–Ω—è)</li>
                    <li>–°—Ç–µ–≥–æ-—Ñ–∞–π–ª –º–∞—î —Ç–æ–π —Å–∞–º–∏–π —Ä–æ–∑–º—ñ—Ä, —â–æ –π –æ—Ä–∏–≥—ñ–Ω–∞–ª</li>
                    <li>–î–ª—è 1-2 LSB: –∑–º—ñ–Ω–∏ –Ω–µ–ø–æ–º—ñ—Ç–Ω—ñ –Ω–∞ —Å–ª—É—Ö</li>
                    <li>–Ñ–º–Ω—ñ—Å—Ç—å –¥–ª—è 44.1kHz —Å—Ç–µ—Ä–µ–æ, 1 —Ö–≤: ~646 KB (1 LSB), ~1.26 MB (2 LSB)</li>
                    <li>–ß–∞—Å –æ–±—Ä–æ–±–∫–∏: < 1 —Å–µ–∫ –¥–ª—è 1-—Ö–≤–∏–ª–∏–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª—É</li>
                </ul>
            </div>
        </div>

        <!-- –ó–∞–≤–¥–∞–Ω–Ω—è 2 -->
        <div class="task-box">
            <h3><span class="step-number">2</span>–ê–Ω–∞–ª—ñ–∑ —è–∫–æ—Å—Ç—ñ —Ç–∞ —î–º–Ω–æ—Å—Ç—ñ</h3>

            <h4>–†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è SNR Calculator:</h4>
            <pre class="python"><code>def calculate_snr(original, modified):
    """
    –û–±—á–∏—Å–ª—é—î Signal-to-Noise Ratio –º—ñ–∂ –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–∏–º —Ç–∞ –º–æ–¥–∏—Ñ—ñ–∫–æ–≤–∞–Ω–∏–º –∞—É–¥—ñ–æ

    Parameters:
    -----------
    original : numpy array - –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω—ñ —Å–µ–º–ø–ª–∏
    modified : numpy array - –º–æ–¥–∏—Ñ—ñ–∫–æ–≤–∞–Ω—ñ —Å–µ–º–ø–ª–∏

    Returns:
    --------
    snr_db : float - SNR –≤ –¥–µ—Ü–∏–±–µ–ª–∞—Ö

    –Ü–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü—ñ—è SNR:
    - > 40 dB: –í—ñ–¥–º—ñ–Ω–Ω–∞ —è–∫—ñ—Å—Ç—å, –ø—Ä–∞–∫—Ç–∏—á–Ω–æ –Ω–µ–ø–æ–º—ñ—Ç–Ω—ñ –∑–º—ñ–Ω–∏
    - 30-40 dB: –•–æ—Ä–æ—à–∞ —è–∫—ñ—Å—Ç—å, –¥—É–∂–µ –º–∞–ª—ñ –∑–º—ñ–Ω–∏
    - 20-30 dB: –ü—Ä–∏–π–Ω—è—Ç–Ω–∞ —è–∫—ñ—Å—Ç—å, –ø–æ–º—ñ—Ç–Ω—ñ –ø—Ä–∏ —É–≤–∞–∂–Ω–æ–º—É –ø—Ä–æ—Å–ª—É—Ö–æ–≤—É–≤–∞–Ω–Ω—ñ
    - < 20 dB: –ü–æ–≥–∞–Ω–∞ —è–∫—ñ—Å—Ç—å, —á—ñ—Ç–∫–æ –ø–æ–º—ñ—Ç–Ω—ñ —Å–ø–æ—Ç–≤–æ—Ä–µ–Ω–Ω—è
    """
    # –ü–æ—Ç—É–∂–Ω—ñ—Å—Ç—å –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–æ–≥–æ —Å–∏–≥–Ω–∞–ª—É
    signal_power = np.mean(original.astype(float) ** 2)

    # –®—É–º (—Ä—ñ–∑–Ω–∏—Ü—è –º—ñ–∂ –æ—Ä–∏–≥—ñ–Ω–∞–ª–æ–º —Ç–∞ –º–æ–¥–∏—Ñ—ñ–∫–æ–≤–∞–Ω–∏–º)
    noise = modified.astype(float) - original.astype(float)
    noise_power = np.mean(noise ** 2)

    # –£–Ω–∏–∫–∞—î–º–æ –¥—ñ–ª–µ–Ω–Ω—è –Ω–∞ –Ω—É–ª—å
    if noise_power == 0:
        return float('inf')

    # SNR –≤ –¥–µ—Ü–∏–±–µ–ª–∞—Ö
    snr = 10 * np.log10(signal_power / noise_power)
    return snr

def analyze_audio_quality(original_file, stego_file, num_lsb):
    """
    –ü–æ–≤–Ω–∏–π –∞–Ω–∞–ª—ñ–∑ —è–∫–æ—Å—Ç—ñ —Å—Ç–µ–≥–æ-–∞—É–¥—ñ–æ

    Parameters:
    -----------
    original_file : str - —à–ª—è—Ö –¥–æ –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–æ–≥–æ –∞—É–¥—ñ–æ
    stego_file : str - —à–ª—è—Ö –¥–æ —Å—Ç–µ–≥–æ-–∞—É–¥—ñ–æ
    num_lsb : int - –∫—ñ–ª—å–∫—ñ—Å—Ç—å –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–∏—Ö LSB –±—ñ—Ç

    Returns:
    --------
    analysis_results : dict - —Å–ª–æ–≤–Ω–∏–∫ –∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ –∞–Ω–∞–ª—ñ–∑—É
    """
    # –ß–∏—Ç–∞—î–º–æ –æ–±–∏–¥–≤–∞ —Ñ–∞–π–ª–∏
    orig_samples, sr, _, _ = read_wav(original_file)
    stego_samples, _, _, _ = read_wav(stego_file)

    # –û–±—á–∏—Å–ª—é—î–º–æ SNR
    snr = calculate_snr(orig_samples, stego_samples)

    # –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–º—ñ–Ω
    diff = stego_samples.astype(float) - orig_samples.astype(float)
    max_diff = np.max(np.abs(diff))
    mean_diff = np.mean(np.abs(diff))
    std_diff = np.std(diff)

    # –í—ñ–¥—Å–æ—Ç–æ–∫ –∑–º—ñ–Ω–µ–Ω–∏—Ö —Å–µ–º–ø–ª—ñ–≤
    changed_samples = np.sum(diff != 0)
    percent_changed = (changed_samples / len(orig_samples)) * 100

    # –í–∏–∑–Ω–∞—á–µ–Ω–Ω—è —è–∫–æ—Å—Ç—ñ
    if snr > 40:
        quality = "–í—ñ–¥–º—ñ–Ω–Ω–∞"
        emoji = "‚úÖ"
    elif snr > 30:
        quality = "–•–æ—Ä–æ—à–∞"
        emoji = "‚úÖ"
    elif snr > 20:
        quality = "–ü—Ä–∏–π–Ω—è—Ç–Ω–∞"
        emoji = "‚ö†Ô∏è"
    else:
        quality = "–ü–æ–≥–∞–Ω–∞"
        emoji = "‚ùå"

    print(f"\n{'='*50}")
    print(f"üìä –ê–Ω–∞–ª—ñ–∑ —è–∫–æ—Å—Ç—ñ –¥–ª—è {num_lsb} LSB")
    print(f"{'='*50}")
    print(f"  SNR: {snr:.2f} dB")
    print(f"  –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ –∑–º—ñ–Ω–∞: {max_diff}")
    print(f"  –°–µ—Ä–µ–¥–Ω—è –∑–º—ñ–Ω–∞: {mean_diff:.4f}")
    print(f"  Std –≤—ñ–¥—Ö–∏–ª–µ–Ω–Ω—è: {std_diff:.4f}")
    print(f"  –ó–º—ñ–Ω–µ–Ω–æ —Å–µ–º–ø–ª—ñ–≤: {changed_samples} ({percent_changed:.2f}%)")
    print(f"  {emoji} –Ø–∫—ñ—Å—Ç—å: {quality}")

    return {
        'num_lsb': num_lsb,
        'snr': snr,
        'max_diff': max_diff,
        'mean_diff': mean_diff,
        'std_diff': std_diff,
        'percent_changed': percent_changed,
        'quality': quality
    }

def plot_audio_comparison(original_file, stego_file, num_lsb):
    """
    –í—ñ–∑—É–∞–ª—ñ–∑—É—î –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–æ–≥–æ —Ç–∞ —Å—Ç–µ–≥–æ-–∞—É–¥—ñ–æ

    –°—Ç–≤–æ—Ä—é—î 3 –≥—Ä–∞—Ñ—ñ–∫–∏:
    1. Waveform –æ—Ä–∏–≥—ñ–Ω–∞–ª—É —Ç–∞ —Å—Ç–µ–≥–æ
    2. –†—ñ–∑–Ω–∏—Ü—è (—à—É–º)
    3. –°–ø–µ–∫—Ç—Ä–æ–≥—Ä–∞–º–∏
    """
    orig_samples, sr, _, _ = read_wav(original_file)
    stego_samples, _, _ , _ = read_wav(stego_file)

    # –û–±–º–µ–∂—É—î–º–æ –¥–ª—è –≤—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—ó (–ø–µ—Ä—à—ñ 2 —Å–µ–∫—É–Ω–¥–∏)
    samples_to_show = min(sr * 2, len(orig_samples))
    orig_show = orig_samples[:samples_to_show]
    stego_show = stego_samples[:samples_to_show]
    time = np.linspace(0, len(orig_show) / sr, len(orig_show))

    fig = plt.figure(figsize=(15, 10))

    # 1. Waveform –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è
    ax1 = plt.subplot(3, 2, 1)
    ax1.plot(time, orig_show, label='–û—Ä–∏–≥—ñ–Ω–∞–ª', alpha=0.7)
    ax1.set_title('–û—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–µ –∞—É–¥—ñ–æ')
    ax1.set_xlabel('–ß–∞—Å (—Å)')
    ax1.set_ylabel('–ê–º–ø–ª—ñ—Ç—É–¥–∞')
    ax1.grid(True, alpha=0.3)

    ax2 = plt.subplot(3, 2, 2)
    ax2.plot(time, stego_show, label='–°—Ç–µ–≥–æ', alpha=0.7, color='orange')
    ax2.set_title(f'–°—Ç–µ–≥–æ-–∞—É–¥—ñ–æ ({num_lsb} LSB)')
    ax2.set_xlabel('–ß–∞—Å (—Å)')
    ax2.set_ylabel('–ê–º–ø–ª—ñ—Ç—É–¥–∞')
    ax2.grid(True, alpha=0.3)

    # 2. –†—ñ–∑–Ω–∏—Ü—è (—à—É–º)
    ax3 = plt.subplot(3, 2, 3)
    diff = stego_show - orig_show
    ax3.plot(time, diff, color='red', alpha=0.7)
    ax3.set_title(f'–†—ñ–∑–Ω–∏—Ü—è (–®—É–º) - SNR: {calculate_snr(orig_samples, stego_samples):.2f} dB')
    ax3.set_xlabel('–ß–∞—Å (—Å)')
    ax3.set_ylabel('–ê–º–ø–ª—ñ—Ç—É–¥–∞')
    ax3.grid(True, alpha=0.3)

    # 3. –ì—ñ—Å—Ç–æ–≥—Ä–∞–º–∞ –∑–º—ñ–Ω
    ax4 = plt.subplot(3, 2, 4)
    ax4.hist(diff, bins=50, alpha=0.7, color='red')
    ax4.set_title('–†–æ–∑–ø–æ–¥—ñ–ª –∑–º—ñ–Ω')
    ax4.set_xlabel('–í–µ–ª–∏—á–∏–Ω–∞ –∑–º—ñ–Ω–∏')
    ax4.set_ylabel('–ß–∞—Å—Ç–æ—Ç–∞')
    ax4.grid(True, alpha=0.3)

    # 4. –°–ø–µ–∫—Ç—Ä–æ–≥—Ä–∞–º–∞ –æ—Ä–∏–≥—ñ–Ω–∞–ª—É
    ax5 = plt.subplot(3, 2, 5)
    f, t, Sxx = signal.spectrogram(orig_show, sr)
    ax5.pcolormesh(t, f, 10 * np.log10(Sxx + 1e-10), shading='auto')
    ax5.set_title('–°–ø–µ–∫—Ç—Ä–æ–≥—Ä–∞–º–∞ –æ—Ä–∏–≥—ñ–Ω–∞–ª—É')
    ax5.set_ylabel('–ß–∞—Å—Ç–æ—Ç–∞ (Hz)')
    ax5.set_xlabel('–ß–∞—Å (—Å)')
    ax5.set_ylim([0, sr/2])

    # 5. –°–ø–µ–∫—Ç—Ä–æ–≥—Ä–∞–º–∞ —Å—Ç–µ–≥–æ
    ax6 = plt.subplot(3, 2, 6)
    f, t, Sxx = signal.spectrogram(stego_show, sr)
    ax6.pcolormesh(t, f, 10 * np.log10(Sxx + 1e-10), shading='auto', cmap='hot')
    ax6.set_title('–°–ø–µ–∫—Ç—Ä–æ–≥—Ä–∞–º–∞ —Å—Ç–µ–≥–æ')
    ax6.set_ylabel('–ß–∞—Å—Ç–æ—Ç–∞ (Hz)')
    ax6.set_xlabel('–ß–∞—Å (—Å)')
    ax6.set_ylim([0, sr/2])

    plt.tight_layout()
    plt.savefig(f'audio_analysis_{num_lsb}lsb.png', dpi=150, bbox_inches='tight')
    print(f"üìä –ì—Ä–∞—Ñ—ñ–∫ –∑–±–µ—Ä–µ–∂–µ–Ω–æ: audio_analysis_{num_lsb}lsb.png")
    plt.show()

print("–§—É–Ω–∫—Ü—ñ—ó –∞–Ω–∞–ª—ñ–∑—É —è–∫–æ—Å—Ç—ñ –≥–æ—Ç–æ–≤—ñ!")
</code></pre>

            <h4>–ï–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω–µ –¥–æ—Å–ª—ñ–¥–∂–µ–Ω–Ω—è:</h4>
            <pre class="python"><code># –ï–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç: –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è —Ä—ñ–∑–Ω–æ—ó –∫—ñ–ª—å–∫–æ—Å—Ç—ñ LSB –±—ñ—Ç
print("="*60)
print("–ï–ö–°–ü–ï–†–ò–ú–ï–ù–¢: –í–ø–ª–∏–≤ –∫—ñ–ª—å–∫–æ—Å—Ç—ñ LSB –Ω–∞ —è–∫—ñ—Å—Ç—å —Ç–∞ —î–º–Ω—ñ—Å—Ç—å")
print("="*60)

# –¢–µ—Å—Ç–æ–≤–∏–π —Ñ–∞–π–ª
test_file = 'test_audio.wav'
message = b"–¢–µ—Å—Ç–æ–≤–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –¥–ª—è –∞–Ω–∞–ª—ñ–∑—É —è–∫–æ—Å—Ç—ñ"

results = []

for num_lsb in [1, 2, 3, 4]:
    print(f"\n--- –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è {num_lsb} LSB ---")

    # –í–±—É–¥–æ–≤—É–≤–∞–Ω–Ω—è
    stego_file = f'stego_{num_lsb}lsb.wav'
    audio_lsb_encode(test_file, message, stego_file, num_lsb)

    # –ê–Ω–∞–ª—ñ–∑ —è–∫–æ—Å—Ç—ñ
    analysis = analyze_audio_quality(test_file, stego_file, num_lsb)
    results.append(analysis)

    # –í—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)
    # plot_audio_comparison(test_file, stego_file, num_lsb)

# –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –∑–≤–µ–¥–µ–Ω–æ—ó —Ç–∞–±–ª–∏—Ü—ñ
print("\n" + "="*60)
print("–ó–í–ï–î–ï–ù–ê –¢–ê–ë–õ–ò–¶–Ø –†–ï–ó–£–õ–¨–¢–ê–¢–Ü–í")
print("="*60)
print(f"{'LSB':<6} {'SNR (dB)':<12} {'Max Œî':<10} {'Mean Œî':<12} {'–Ø–∫—ñ—Å—Ç—å':<15}")
print("-"*60)

for r in results:
    print(f"{r['num_lsb']:<6} {r['snr']:<12.2f} {r['max_diff']:<10} {r['mean_diff']:<12.4f} {r['quality']:<15}")

# –í—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è
fig, (ax1, ax2) = plt.subplots(1, 2, figsize=(14, 5))

# –ì—Ä–∞—Ñ—ñ–∫ 1: SNR vs LSB
lsbs = [r['num_lsb'] for r in results]
snrs = [r['snr'] for r in results]
ax1.plot(lsbs, snrs, marker='o', linewidth=2, markersize=10, color='#2E86AB')
ax1.axhline(y=40, color='green', linestyle='--', alpha=0.5, label='–í—ñ–¥–º—ñ–Ω–Ω–∞ —è–∫—ñ—Å—Ç—å (>40 dB)')
ax1.axhline(y=30, color='orange', linestyle='--', alpha=0.5, label='–•–æ—Ä–æ—à–∞ —è–∫—ñ—Å—Ç—å (>30 dB)')
ax1.set_xlabel('–ö—ñ–ª—å–∫—ñ—Å—Ç—å LSB –±—ñ—Ç', fontsize=12)
ax1.set_ylabel('SNR (dB)', fontsize=12)
ax1.set_title('–ó–∞–ª–µ–∂–Ω—ñ—Å—Ç—å SNR –≤—ñ–¥ –∫—ñ–ª—å–∫–æ—Å—Ç—ñ LSB', fontsize=14, fontweight='bold')
ax1.grid(True, alpha=0.3)
ax1.legend()
ax1.set_xticks([1, 2, 3, 4])

# –ì—Ä–∞—Ñ—ñ–∫ 2: –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ –∑–º—ñ–Ω–∞ vs LSB
max_diffs = [r['max_diff'] for r in results]
ax2.bar(lsbs, max_diffs, color=['#06A77D', '#F77F00', '#D62828', '#8B0000'], alpha=0.7, edgecolor='black')
ax2.set_xlabel('–ö—ñ–ª—å–∫—ñ—Å—Ç—å LSB –±—ñ—Ç', fontsize=12)
ax2.set_ylabel('–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ –∑–º—ñ–Ω–∞ —Å–µ–º–ø–ª—É', fontsize=12)
ax2.set_title('–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ –∑–º—ñ–Ω–∞ vs –∫—ñ–ª—å–∫—ñ—Å—Ç—å LSB', fontsize=14, fontweight='bold')
ax2.grid(True, alpha=0.3, axis='y')
ax2.set_xticks([1, 2, 3, 4])

plt.tight_layout()
plt.savefig('lsb_quality_comparison.png', dpi=150, bbox_inches='tight')
print("\nüìä –ì—Ä–∞—Ñ—ñ–∫–∏ –∑–±–µ—Ä–µ–∂–µ–Ω–æ: lsb_quality_comparison.png")
plt.show()

# –í–∏—Å–Ω–æ–≤–∫–∏
print("\n" + "="*60)
print("üìù –í–ò–°–ù–û–í–ö–ò")
print("="*60)
print(f"‚úÖ 1 LSB: SNR = {results[0]['snr']:.2f} dB - {results[0]['quality']} —è–∫—ñ—Å—Ç—å")
print(f"‚úÖ 2 LSB: SNR = {results[1]['snr']:.2f} dB - {results[1]['quality']} —è–∫—ñ—Å—Ç—å (–æ–ø—Ç–∏–º–∞–ª—å–Ω–∏–π –±–∞–ª–∞–Ω—Å)")
print(f"‚ö†Ô∏è 3 LSB: SNR = {results[2]['snr']:.2f} dB - {results[2]['quality']} —è–∫—ñ—Å—Ç—å")
print(f"‚ö†Ô∏è 4 LSB: SNR = {results[3]['snr']:.2f} dB - {results[3]['quality']} —è–∫—ñ—Å—Ç—å")
print("\n–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è: –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ 1-2 LSB –¥–ª—è –Ω–µ–ø–æ–º—ñ—Ç–Ω–æ–≥–æ –≤–±—É–¥–æ–≤—É–≤–∞–Ω–Ω—è")
</code></pre>

            <div class="result-box">
                <h4>‚úÖ –û—á—ñ–∫—É–≤–∞–Ω—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏:</h4>
                <ul>
                    <li>1 LSB: SNR > 45 dB (–≤—ñ–¥–º—ñ–Ω–Ω–∞ —è–∫—ñ—Å—Ç—å, –ø—Ä–∞–∫—Ç–∏—á–Ω–æ –Ω–µ–ø–æ–º—ñ—Ç–Ω–æ)</li>
                    <li>2 LSB: SNR 35-45 dB (—Ö–æ—Ä–æ—à–∞ —è–∫—ñ—Å—Ç—å, —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–∏–π –≤–∞—Ä—ñ–∞–Ω—Ç)</li>
                    <li>3 LSB: SNR 25-35 dB (–ø—Ä–∏–π–Ω—è—Ç–Ω–∞ —è–∫—ñ—Å—Ç—å)</li>
                    <li>4 LSB: SNR 15-25 dB (–ø–æ–≥–∞–Ω–∞ —è–∫—ñ—Å—Ç—å, –ø–æ–º—ñ—Ç–Ω—ñ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∏)</li>
                    <li>–°–ø–µ–∫—Ç—Ä–æ–≥—Ä–∞–º–∏ –æ—Ä–∏–≥—ñ–Ω–∞–ª—É —Ç–∞ —Å—Ç–µ–≥–æ –º–∞–π–∂–µ —ñ–¥–µ–Ω—Ç–∏—á–Ω—ñ –¥–ª—è 1-2 LSB</li>
                    <li>–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ –∑–º—ñ–Ω–∞ —Å–µ–º–ø–ª—É: ¬±1 (1 LSB), ¬±3 (2 LSB), ¬±7 (3 LSB), ¬±15 (4 LSB)</li>
                </ul>
            </div>
        </div>

        <!-- –ó–∞–≤–¥–∞–Ω–Ω—è 3 -->
        <div class="task-box">
            <h3><span class="step-number">3</span>Randomized LSB –∑ –∫–ª—é—á–µ–º</h3>

            <h4>–ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –ø—Å–µ–≤–¥–æ–≤–∏–ø–∞–¥–∫–æ–≤–∏—Ö –ø–æ–∑–∏—Ü—ñ–π:</h4>
            <pre class="python"><code>def generate_positions(key, num_samples, capacity):
    """
    –ì–µ–Ω–µ—Ä—É—î –ø—Å–µ–≤–¥–æ–≤–∏–ø–∞–¥–∫–æ–≤—ñ –ø–æ–∑–∏—Ü—ñ—ó –¥–ª—è –≤–±—É–¥–æ–≤—É–≤–∞–Ω–Ω—è

    Parameters:
    -----------
    key : int - –∫–ª—é—á –¥–ª—è —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó PRNG
    num_samples : int - –∑–∞–≥–∞–ª—å–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Å–µ–º–ø–ª—ñ–≤ –≤ –∞—É–¥—ñ–æ
    capacity : int - –ø–æ—Ç—Ä—ñ–±–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –ø–æ–∑–∏—Ü—ñ–π

    Returns:
    --------
    positions : numpy array - –≤—ñ–¥—Å–æ—Ä—Ç–æ–≤–∞–Ω—ñ –ø—Å–µ–≤–¥–æ–≤–∏–ø–∞–¥–∫–æ–≤—ñ –ø–æ–∑–∏—Ü—ñ—ó

    –í–ê–ñ–õ–ò–í–û:
    - –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î —Ç–æ–π —Å–∞–º–∏–π –∫–ª—é—á –¥–ª—è encoding/decoding
    - –ü–æ–∑–∏—Ü—ñ—ó –±–µ–∑ –ø–æ–≤—Ç–æ—Ä–µ–Ω—å (replace=False)
    - –°–æ—Ä—Ç—É–≤–∞–Ω–Ω—è –¥–ª—è –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ –¥–æ—Å—Ç—É–ø—É
    """
    if capacity > num_samples:
        raise ValueError(f"–ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ —Å–µ–º–ø–ª—ñ–≤! –ü–æ—Ç—Ä—ñ–±–Ω–æ {capacity}, –¥–æ—Å—Ç—É–ø–Ω–æ {num_samples}")

    # –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É—î–º–æ PRNG –∑ –∫–ª—é—á–µ–º
    np.random.seed(key)

    # –ì–µ–Ω–µ—Ä—É—î–º–æ —É–Ω—ñ–∫–∞–ª—å–Ω—ñ –≤–∏–ø–∞–¥–∫–æ–≤—ñ –ø–æ–∑–∏—Ü—ñ—ó
    positions = np.random.choice(num_samples, capacity, replace=False)

    # –°–æ—Ä—Ç—É—î–º–æ –¥–ª—è –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ –ø–æ—Å–ª—ñ–¥–æ–≤–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø—É
    positions = np.sort(positions)

    print(f"‚úÖ –ó–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω–æ {len(positions)} –ø–æ–∑–∏—Ü—ñ–π –∑ –∫–ª—é—á–µ–º {key}")
    return positions

def random_lsb_encode(audio_file, message, output_file, key, num_lsb=1):
    """
    –í–±—É–¥–æ–≤—É—î –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤ –ø—Å–µ–≤–¥–æ–≤–∏–ø–∞–¥–∫–æ–≤—ñ –ø–æ–∑–∏—Ü—ñ—ó (randomized LSB)

    Parameters:
    -----------
    audio_file : str - —à–ª—è—Ö –¥–æ –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–æ–≥–æ WAV
    message : bytes - –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –¥–ª—è –≤–±—É–¥–æ–≤—É–≤–∞–Ω–Ω—è
    output_file : str - —à–ª—è—Ö –¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è —Å—Ç–µ–≥–æ
    key : int - —Å–µ–∫—Ä–µ—Ç–Ω–∏–π –∫–ª—é—á –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó –ø–æ–∑–∏—Ü—ñ–π
    num_lsb : int - –∫—ñ–ª—å–∫—ñ—Å—Ç—å LSB –±—ñ—Ç (1-4)

    Returns:
    --------
    samples_used : int - –∫—ñ–ª—å–∫—ñ—Å—Ç—å –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–∏—Ö —Å–µ–º–ø–ª—ñ–≤

    –í–ê–ñ–õ–ò–í–û:
    - –ü—ñ–¥–≤–∏—â—É—î –±–µ–∑–ø–µ—á–Ω—ñ—Å—Ç—å —á–µ—Ä–µ–∑ —Ä–æ–∑–ø–æ–¥—ñ–ª–µ–Ω–Ω—è –∑–º—ñ–Ω –ø–æ –≤—Å—å–æ–º—É –∞—É–¥—ñ–æ
    - –ü–æ—Ç—Ä–µ–±—É—î —Ç–æ–≥–æ —Å–∞–º–æ–≥–æ –∫–ª—é—á–∞ –¥–ª—è –¥–µ–∫–æ–¥—É–≤–∞–Ω–Ω—è
    - –°–∫–ª–∞–¥–Ω—ñ—à–µ –≤–∏—è–≤–∏—Ç–∏ —Å—Ç–µ–≥–æ–∞–Ω–∞–ª—ñ–∑–æ–º –ø–æ—Ä—ñ–≤–Ω—è–Ω–æ –∑ sequential LSB
    - –î–æ–≤–∂–∏–Ω–∞ –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –≤ –ü–û–°–õ–Ü–î–û–í–ù–ò–• –ø–æ–∑–∏—Ü—ñ—è—Ö (–ø–µ—Ä—à—ñ N —Å–µ–º–ø–ª—ñ–≤)
    - –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –≤ –í–ò–ü–ê–î–ö–û–í–ò–• –ø–æ–∑–∏—Ü—ñ—è—Ö
    """
    # –ß–∏—Ç–∞—î–º–æ –∞—É–¥—ñ–æ
    samples, sr, channels, width = read_wav(audio_file)
    stego = samples.copy().astype(np.int32)  # int32 –¥–ª—è —É–Ω–∏–∫–Ω–µ–Ω–Ω—è overflow

    # –ö–æ–Ω–≤–µ—Ä—Ç—É—î–º–æ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤ –±—ñ—Ç–∏
    length_bits = format(len(message), '032b')
    message_bits = ''.join([format(byte, '08b') for byte in message])

    print(f"\nüìä Randomized LSB Encoding:")
    print(f"  –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è: {len(message)} –±–∞–π—Ç")
    print(f"  –ö–ª—é—á: {key}")
    print(f"  LSB –±—ñ—Ç: {num_lsb}")

    # –ú–∞—Å–∫–∞ –¥–ª—è –æ—á–∏—â–µ–Ω–Ω—è LSB
    mask = ~((1 << num_lsb) - 1)  # –£–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω–∞ –º–∞—Å–∫–∞

    # –ö—Ä–æ–∫ 1: –í–±—É–¥–æ–≤—É—î–º–æ –¥–æ–≤–∂–∏–Ω—É –≤ –ü–û–°–õ–Ü–î–û–í–ù–Ü –ø–æ–∑–∏—Ü—ñ—ó (–ø–µ—Ä—à—ñ —Å–µ–º–ø–ª–∏)
    length_samples = (32 + num_lsb - 1) // num_lsb
    bit_idx = 0
    for i in range(length_samples):
        bits_to_embed = int(length_bits[bit_idx:bit_idx+num_lsb].ljust(num_lsb, '0'), 2)
        stego[i] = (stego[i] & mask) | bits_to_embed
        bit_idx += num_lsb

    # –ö—Ä–æ–∫ 2: –í–±—É–¥–æ–≤—É—î–º–æ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤ –í–ò–ü–ê–î–ö–û–í–Ü –ø–æ–∑–∏—Ü—ñ—ó (–ø—ñ—Å–ª—è –∑–∞–≥–æ–ª–æ–≤–∫–∞)
    message_samples_needed = (len(message_bits) + num_lsb - 1) // num_lsb
    available_samples = len(samples) - length_samples

    if message_samples_needed > available_samples:
        raise ValueError(f"–ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∑–∞–≤–µ–ª–∏–∫–µ! –î–æ—Å—Ç—É–ø–Ω–æ {available_samples} —Å–µ–º–ø–ª—ñ–≤")

    # –ì–µ–Ω–µ—Ä—É—î–º–æ –≤–∏–ø–∞–¥–∫–æ–≤—ñ –ø–æ–∑–∏—Ü—ñ—ó –≤ –¥–æ—Å—Ç—É–ø–Ω–æ–º—É –¥—ñ–∞–ø–∞–∑–æ–Ω—ñ
    positions = generate_positions(key, available_samples, message_samples_needed)
    positions = positions + length_samples  # –ó—Å—É–≤ –Ω–∞ —Ä–æ–∑–º—ñ—Ä –∑–∞–≥–æ–ª–æ–≤–∫–∞

    # –í–±—É–¥–æ–≤—É–≤–∞–Ω–Ω—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
    bit_idx = 0
    for pos in positions:
        if bit_idx >= len(message_bits):
            break
        bits_to_embed = int(message_bits[bit_idx:bit_idx+num_lsb].ljust(num_lsb, '0'), 2)
        stego[pos] = (stego[pos] & mask) | bits_to_embed
        bit_idx += num_lsb

    # –ó–±–µ—Ä—ñ–≥–∞—î–º–æ (–∫–æ–Ω–≤–µ—Ä—Ç—É—î–º–æ –Ω–∞–∑–∞–¥ –≤ int16)
    write_wav(output_file, stego.astype(np.int16), sr, channels, width)

    print(f"‚úÖ –í–±—É–¥–æ–≤–∞–Ω–æ —É {length_samples + len(positions)} –ø–æ–∑–∏—Ü—ñ–π")
    print(f"  –ó–∞–≥–æ–ª–æ–≤–æ–∫: {length_samples} —Å–µ–º–ø–ª—ñ–≤ (–ø–æ—Å–ª—ñ–¥–æ–≤–Ω–æ)")
    print(f"  –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è: {len(positions)} —Å–µ–º–ø–ª—ñ–≤ (–≤–∏–ø–∞–¥–∫–æ–≤–æ)")
    return length_samples + len(positions)

def random_lsb_decode(stego_file, key, num_lsb=1):
    """
    –í–∏—Ç—è–≥—É—î –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∑ randomized LSB —Å—Ç–µ–≥–æ

    Parameters:
    -----------
    stego_file : str - —à–ª—è—Ö –¥–æ —Å—Ç–µ–≥–æ-–∞—É–¥—ñ–æ
    key : int - —Ç–æ–π —Å–∞–º–∏–π –∫–ª—é—á, —â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–≤—Å—è –ø—Ä–∏ –≤–±—É–¥–æ–≤—É–≤–∞–Ω–Ω—ñ
    num_lsb : int - –∫—ñ–ª—å–∫—ñ—Å—Ç—å LSB –±—ñ—Ç

    Returns:
    --------
    message : bytes - –≤–∏—Ç—è–≥–Ω—É—Ç–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è

    –í–ê–ñ–õ–ò–í–û:
    - –û–ë–û–í'–Ø–ó–ö–û–í–û –ø–æ—Ç—Ä—ñ–±–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π –∫–ª—é—á
    - –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∏–π –∫–ª—é—á –¥–∞—Å—Ç—å –≤–∏–ø–∞–¥–∫–æ–≤—ñ –¥–∞–Ω—ñ
    - –î–æ–≤–∂–∏–Ω–∞ –≤–∏—Ç—è–≥—É—î—Ç—å—Å—è –∑ –ü–û–°–õ–Ü–î–û–í–ù–ò–• –ø–æ–∑–∏—Ü—ñ–π (–ø–µ—Ä—à—ñ N —Å–µ–º–ø–ª—ñ–≤)
    - –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤–∏—Ç—è–≥—É—î—Ç—å—Å—è –∑ –í–ò–ü–ê–î–ö–û–í–ò–• –ø–æ–∑–∏—Ü—ñ–π
    """
    # –ß–∏—Ç–∞—î–º–æ —Å—Ç–µ–≥–æ
    samples, _, _, _ = read_wav(stego_file)

    print(f"\nüìä Randomized LSB Decoding:")
    print(f"  –ö–ª—é—á: {key}")
    print(f"  LSB –±—ñ—Ç: {num_lsb}")

    # –ú–∞—Å–∫–∞ –¥–ª—è –≤–∏—Ç—è–≥—É–≤–∞–Ω–Ω—è LSB
    mask = (1 << num_lsb) - 1

    # –ö—Ä–æ–∫ 1: –í–∏—Ç—è–≥—É—î–º–æ –¥–æ–≤–∂–∏–Ω—É –∑ –ü–û–°–õ–Ü–î–û–í–ù–ò–• –ø–æ–∑–∏—Ü—ñ–π (–ø–µ—Ä—à—ñ —Å–µ–º–ø–ª–∏)
    length_samples = (32 + num_lsb - 1) // num_lsb
    length_bits = ''
    for i in range(length_samples):
        bits = samples[i] & mask
        length_bits += format(bits, f'0{num_lsb}b')

    message_length = int(length_bits[:32], 2)
    print(f"  –î–æ–≤–∂–∏–Ω–∞ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è: {message_length} –±–∞–π—Ç")

    # –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∞–¥–µ–∫–≤–∞—Ç–Ω–æ—Å—Ç—ñ
    if message_length > 100000:
        raise ValueError(f"–ù–µ–≤–∞–ª—ñ–¥–Ω–∞ –¥–æ–≤–∂–∏–Ω–∞: {message_length}. –ú–æ–∂–ª–∏–≤–æ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∏–π –∫–ª—é—á?")

    # –ö—Ä–æ–∫ 2: –í–∏—Ç—è–≥—É—î–º–æ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∑ –í–ò–ü–ê–î–ö–û–í–ò–• –ø–æ–∑–∏—Ü—ñ–π (–ø—ñ—Å–ª—è –∑–∞–≥–æ–ª–æ–≤–∫–∞)
    message_bits_needed = message_length * 8
    message_samples_needed = (message_bits_needed + num_lsb - 1) // num_lsb
    available_samples = len(samples) - length_samples

    # –ì–µ–Ω–µ—Ä—É—î–º–æ —Ç—ñ —Å–∞–º—ñ –≤–∏–ø–∞–¥–∫–æ–≤—ñ –ø–æ–∑–∏—Ü—ñ—ó, —â–æ –π –ø—Ä–∏ –∫–æ–¥—É–≤–∞–Ω–Ω—ñ
    positions = generate_positions(key, available_samples, message_samples_needed)
    positions = positions + length_samples  # –ó—Å—É–≤ –Ω–∞ —Ä–æ–∑–º—ñ—Ä –∑–∞–≥–æ–ª–æ–≤–∫–∞

    # –í–∏—Ç—è–≥—É—î–º–æ –±—ñ—Ç–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
    message_bits = ''
    for pos in positions:
        bits = samples[pos] & mask
        message_bits += format(bits, f'0{num_lsb}b')

    # –ë–µ—Ä–µ–º–æ —Ç—ñ–ª—å–∫–∏ –ø–æ—Ç—Ä—ñ–±–Ω—É –∫—ñ–ª—å–∫—ñ—Å—Ç—å –±—ñ—Ç
    message_bits = message_bits[:message_bits_needed]

    # –ö–æ–Ω–≤–µ—Ä—Ç—É—î–º–æ –≤ bytes
    message = bytearray()
    for i in range(0, len(message_bits), 8):
        if i + 8 <= len(message_bits):
            byte = int(message_bits[i:i+8], 2)
            message.append(byte)

    print(f"‚úÖ –í–∏—Ç—è–≥–Ω—É—Ç–æ {len(message)} –±–∞–π—Ç")
    return bytes(message)

print("Randomized LSB —Ñ—É–Ω–∫—Ü—ñ—ó –≥–æ—Ç–æ–≤—ñ!")
</code></pre>

            <h4>–ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è Sequential vs Randomized LSB:</h4>
            <pre class="python"><code># –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –±–µ–∑–ø–µ—á–Ω–æ—Å—Ç—ñ Sequential —Ç–∞ Randomized LSB
print("="*60)
print("–ü–û–†–Ü–í–ù–Ø–ù–ù–Ø: Sequential LSB vs Randomized LSB")
print("="*60)

test_file = 'test_audio.wav'
message = b"–°–µ–∫—Ä–µ—Ç–Ω–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è" * 10  # ~200 –±–∞–π—Ç
key = 12345

# 1. Sequential LSB
print("\n--- Sequential LSB ---")
audio_lsb_encode(test_file, message, 'seq_stego.wav', num_lsb=2)
seq_samples, _, _, _ = read_wav('seq_stego.wav')
orig_samples, _, _, _ = read_wav(test_file)

# 2. Randomized LSB
print("\n--- Randomized LSB ---")
random_lsb_encode(test_file, message, 'rand_stego.wav', key, num_lsb=2)
rand_samples, _, _, _ = read_wav('rand_stego.wav')

# 3. –ê–Ω–∞–ª—ñ–∑ —Ä–æ–∑–ø–æ–¥—ñ–ª—É LSB
seq_lsb = seq_samples & 0x03  # –û—Å—Ç–∞–Ω–Ω—ñ 2 –±—ñ—Ç–∏
rand_lsb = rand_samples & 0x03
orig_lsb = orig_samples & 0x03

# –í—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è
fig, axes = plt.subplots(2, 3, figsize=(15, 8))

# –ì—ñ—Å—Ç–æ–≥—Ä–∞–º–∏ LSB
axes[0, 0].hist(orig_lsb[:10000], bins=4, alpha=0.7, color='gray', edgecolor='black')
axes[0, 0].set_title('–û—Ä–∏–≥—ñ–Ω–∞–ª - LSB —Ä–æ–∑–ø–æ–¥—ñ–ª')
axes[0, 0].set_xlabel('LSB –∑–Ω–∞—á–µ–Ω–Ω—è')
axes[0, 0].set_ylabel('–ß–∞—Å—Ç–æ—Ç–∞')
axes[0, 0].grid(True, alpha=0.3)

axes[0, 1].hist(seq_lsb[:10000], bins=4, alpha=0.7, color='red', edgecolor='black')
axes[0, 1].set_title('Sequential LSB - —Ä–æ–∑–ø–æ–¥—ñ–ª')
axes[0, 1].set_xlabel('LSB –∑–Ω–∞—á–µ–Ω–Ω—è')
axes[0, 1].set_ylabel('–ß–∞—Å—Ç–æ—Ç–∞')
axes[0, 1].grid(True, alpha=0.3)

axes[0, 2].hist(rand_lsb[:10000], bins=4, alpha=0.7, color='green', edgecolor='black')
axes[0, 2].set_title('Randomized LSB - —Ä–æ–∑–ø–æ–¥—ñ–ª')
axes[0, 2].set_xlabel('LSB –∑–Ω–∞—á–µ–Ω–Ω—è')
axes[0, 2].set_ylabel('–ß–∞—Å—Ç–æ—Ç–∞')
axes[0, 2].grid(True, alpha=0.3)

# –ü–æ–∑–∏—Ü—ñ—ó –∑–º—ñ–Ω
orig_diff_seq = (seq_samples != orig_samples).astype(int)
orig_diff_rand = (rand_samples != orig_samples).astype(int)

axes[1, 0].plot(orig_diff_seq[:5000], linewidth=0.5)
axes[1, 0].set_title('Sequential: –ü–æ–∑–∏—Ü—ñ—ó –∑–º—ñ–Ω (–ø–µ—Ä—à—ñ 5000)')
axes[1, 0].set_xlabel('–Ü–Ω–¥–µ–∫—Å —Å–µ–º–ø–ª—É')
axes[1, 0].set_ylabel('–ó–º—ñ–Ω–µ–Ω–æ (0/1)')
axes[1, 0].grid(True, alpha=0.3)
axes[1, 0].text(0.5, 0.9, '‚ö†Ô∏è –ü–∞—Ç—Ç–µ—Ä–Ω –ø–æ–º—ñ—Ç–Ω–∏–π',
                transform=axes[1, 0].transAxes, ha='center', color='red', fontsize=10)

axes[1, 1].plot(orig_diff_rand[:5000], linewidth=0.5, color='green')
axes[1, 1].set_title('Randomized: –ü–æ–∑–∏—Ü—ñ—ó –∑–º—ñ–Ω (–ø–µ—Ä—à—ñ 5000)')
axes[1, 1].set_xlabel('–Ü–Ω–¥–µ–∫—Å —Å–µ–º–ø–ª—É')
axes[1, 1].set_ylabel('–ó–º—ñ–Ω–µ–Ω–æ (0/1)')
axes[1, 1].grid(True, alpha=0.3)
axes[1, 1].text(0.5, 0.9, '‚úÖ –í–∏–ø–∞–¥–∫–æ–≤–∏–π —Ä–æ–∑–ø–æ–¥—ñ–ª',
                transform=axes[1, 1].transAxes, ha='center', color='green', fontsize=10)

# –°—Ç–∞—Ç–∏—Å—Ç–∏—á–Ω–∏–π –∞–Ω–∞–ª—ñ–∑ (Chi-square)
from scipy.stats import chisquare

# Chi-square –¥–ª—è –ø–æ—Å–ª—ñ–¥–æ–≤–Ω–∏—Ö –±–ª–æ–∫—ñ–≤
def chi_square_blocks(samples, block_size=100):
    """–û–±—á–∏—Å–ª—é—î chi-square –¥–ª—è –±–ª–æ–∫—ñ–≤"""
    num_blocks = len(samples) // block_size
    chi_values = []

    for i in range(num_blocks):
        block = samples[i*block_size:(i+1)*block_size]
        lsb = block & 0x03
        observed = np.bincount(lsb, minlength=4)
        expected = np.full(4, block_size / 4)
        chi2, _ = chisquare(observed, expected)
        chi_values.append(chi2)

    return chi_values

seq_chi = chi_square_blocks(seq_samples)
rand_chi = chi_square_blocks(rand_samples)

axes[1, 2].plot(seq_chi[:50], marker='o', label='Sequential', color='red', alpha=0.6)
axes[1, 2].plot(rand_chi[:50], marker='s', label='Randomized', color='green', alpha=0.6)
axes[1, 2].set_title('Chi-square —Ç–µ—Å—Ç –ø–æ –±–ª–æ–∫–∞—Ö')
axes[1, 2].set_xlabel('–ù–æ–º–µ—Ä –±–ª–æ–∫—É')
axes[1, 2].set_ylabel('Chi-square –∑–Ω–∞—á–µ–Ω–Ω—è')
axes[1, 2].legend()
axes[1, 2].grid(True, alpha=0.3)

plt.tight_layout()
plt.savefig('sequential_vs_randomized.png', dpi=150, bbox_inches='tight')
print("\nüìä –ì—Ä–∞—Ñ—ñ–∫ –∑–±–µ—Ä–µ–∂–µ–Ω–æ: sequential_vs_randomized.png")
plt.show()

# –í–∏—Å–Ω–æ–≤–∫–∏
print("\n" + "="*60)
print("üìù –í–ò–°–ù–û–í–ö–ò")
print("="*60)
print("Sequential LSB:")
print("  ‚ùå –ó–º—ñ–Ω–∏ –≤ –ø–µ—Ä—à–∏—Ö N —Å–µ–º–ø–ª–∞—Ö —Å—Ç–≤–æ—Ä—é—é—Ç—å –ø–æ–º—ñ—Ç–Ω–∏–π –ø–∞—Ç—Ç–µ—Ä–Ω")
print("  ‚ùå Chi-square —Ç–µ—Å—Ç –≤–∏—è–≤–ª—è—î –∞–Ω–æ–º–∞–ª—ñ—ó –≤ –ø–µ—Ä—à–∏—Ö –±–ª–æ–∫–∞—Ö")
print("  ‚ùå –õ–µ–≥–∫–æ –≤–∏—è–≤–ª—è—î—Ç—å—Å—è —Å–ø–µ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω–∏–º —Å—Ç–µ–≥–æ–∞–Ω–∞–ª—ñ–∑–æ–º")

print("\nRandomized LSB:")
print("  ‚úÖ –ó–º—ñ–Ω–∏ —Ä—ñ–≤–Ω–æ–º—ñ—Ä–Ω–æ —Ä–æ–∑–ø–æ–¥—ñ–ª–µ–Ω—ñ –ø–æ –≤—Å—å–æ–º—É –∞—É–¥—ñ–æ")
print("  ‚úÖ Chi-square –∑–Ω–∞—á–µ–Ω–Ω—è –æ–¥–Ω–æ—Ä—ñ–¥–Ω—ñ –¥–ª—è –≤—Å—ñ—Ö –±–ª–æ–∫—ñ–≤")
print("  ‚úÖ –°–∫–ª–∞–¥–Ω—ñ—à–µ –≤–∏—è–≤–∏—Ç–∏ –±–µ–∑ –∑–Ω–∞–Ω–Ω—è –∫–ª—é—á–∞")

print("\n–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è: –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ Randomized LSB –¥–ª—è –ø—ñ–¥–≤–∏—â–µ–Ω–Ω—è –±–µ–∑–ø–µ–∫–∏")
</code></pre>

            <div class="result-box">
                <h4>‚úÖ –û—á—ñ–∫—É–≤–∞–Ω—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏:</h4>
                <ul>
                    <li>Sequential LSB: –∑–º—ñ–Ω–∏ –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–æ–≤–∞–Ω—ñ –Ω–∞ –ø–æ—á–∞—Ç–∫—É —Ñ–∞–π–ª—É</li>
                    <li>Randomized LSB: –∑–º—ñ–Ω–∏ —Ä—ñ–≤–Ω–æ–º—ñ—Ä–Ω–æ —Ä–æ–∑–ø–æ–¥—ñ–ª–µ–Ω—ñ</li>
                    <li>Chi-square –¥–ª—è Sequential: –≤–∏—Å–æ–∫—ñ –∑–Ω–∞—á–µ–Ω–Ω—è –≤ –ø–µ—Ä—à–∏—Ö –±–ª–æ–∫–∞—Ö</li>
                    <li>Chi-square –¥–ª—è Randomized: –æ–¥–Ω–æ—Ä—ñ–¥–Ω—ñ –∑–Ω–∞—á–µ–Ω–Ω—è –ø–æ –≤—Å—ñ—Ö –±–ª–æ–∫–∞—Ö</li>
                    <li>–û–±–∏–¥–≤–∞ –º–µ—Ç–æ–¥–∏ –º–∞—é—Ç—å –æ–¥–Ω–∞–∫–æ–≤–∏–π SNR —Ç–∞ —è–∫—ñ—Å—Ç—å –∑–≤—É–∫—É</li>
                    <li>Randomized LSB –ø–æ—Ç—Ä–µ–±—É—î –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –∫–ª—é—á–∞ –¥–ª—è –¥–µ–∫–æ–¥—É–≤–∞–Ω–Ω—è</li>
                </ul>
            </div>
        </div>

        <!-- –ó–∞–≤–¥–∞–Ω–Ω—è 4 -->
        <div class="task-box">
            <h3><span class="step-number">4</span>–¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è —Å—Ç—ñ–π–∫–æ—Å—Ç—ñ –¥–æ –∞—Ç–∞–∫</h3>

            <h4>–†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è –∞—Ç–∞–∫ –Ω–∞ —Å—Ç–µ–≥–æ-–∞—É–¥—ñ–æ:</h4>
            <pre class="python"><code>from scipy.signal import butter, filtfilt, resample

def add_gaussian_noise(samples, snr_db):
    """
    –î–æ–¥–∞—î Gaussian —à—É–º –¥–æ –∞—É–¥—ñ–æ

    Parameters:
    -----------
    samples : numpy array - –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω—ñ —Å–µ–º–ø–ª–∏
    snr_db : float - –±–∞–∂–∞–Ω–∏–π SNR –≤ –¥–µ—Ü–∏–±–µ–ª–∞—Ö

    Returns:
    --------
    noisy_samples : numpy array - —Å–µ–º–ø–ª–∏ –∑ —à—É–º–æ–º

    –í–ê–ñ–õ–ò–í–û: –ù–∏–∂—á–∏–π SNR = –±—ñ–ª—å—à–µ —à—É–º—É
    """
    signal_power = np.mean(samples.astype(float) ** 2)
    noise_power = signal_power / (10 ** (snr_db / 10))
    noise = np.random.normal(0, np.sqrt(noise_power), len(samples))

    noisy = samples.astype(float) + noise
    noisy = np.clip(noisy, -32768, 32767).astype(np.int16)

    print(f"  –î–æ–¥–∞–Ω–æ Gaussian —à—É–º (SNR={snr_db} dB)")
    return noisy

def apply_lowpass(samples, cutoff_freq, sample_rate):
    """
    –ó–∞—Å—Ç–æ—Å–æ–≤—É—î low-pass —Ñ—ñ–ª—å—Ç—Ä (–≤–∏–¥–∞–ª—è—î –≤–∏—Å–æ–∫—ñ —á–∞—Å—Ç–æ—Ç–∏)

    Parameters:
    -----------
    samples : numpy array - —Å–µ–º–ø–ª–∏
    cutoff_freq : float - —á–∞—Å—Ç–æ—Ç–∞ –∑—Ä—ñ–∑—É –≤ Hz
    sample_rate : int - —á–∞—Å—Ç–æ—Ç–∞ –¥–∏—Å–∫—Ä–µ—Ç–∏–∑–∞—Ü—ñ—ó

    Returns:
    --------
    filtered_samples : numpy array - –≤—ñ–¥—Ñ—ñ–ª—å—Ç—Ä–æ–≤–∞–Ω—ñ —Å–µ–º–ø–ª–∏
    """
    nyquist = sample_rate / 2
    normal_cutoff = cutoff_freq / nyquist

    # 4-–π –ø–æ—Ä—è–¥–æ–∫ Butterworth —Ñ—ñ–ª—å—Ç—Ä
    b, a = butter(4, normal_cutoff, btype='low')
    filtered = filtfilt(b, a, samples.astype(float))

    filtered = np.clip(filtered, -32768, 32767).astype(np.int16)
    print(f"  –ó–∞—Å—Ç–æ—Å–æ–≤–∞–Ω–æ low-pass —Ñ—ñ–ª—å—Ç—Ä (cutoff={cutoff_freq} Hz)")
    return filtered

def resample_audio(samples, original_rate, target_rate):
    """
    –ó–º—ñ–Ω—é—î —á–∞—Å—Ç–æ—Ç—É –¥–∏—Å–∫—Ä–µ—Ç–∏–∑–∞—Ü—ñ—ó (resampling –∞—Ç–∞–∫–∞)

    Parameters:
    -----------
    samples : numpy array - –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω—ñ —Å–µ–º–ø–ª–∏
    original_rate : int - –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–∞ —á–∞—Å—Ç–æ—Ç–∞ (–Ω–∞–ø—Ä. 44100)
    target_rate : int - —Ü—ñ–ª—å–æ–≤–∞ —á–∞—Å—Ç–æ—Ç–∞ (–Ω–∞–ø—Ä. 22050)

    Returns:
    --------
    resampled : numpy array - resampled —Å–µ–º–ø–ª–∏
    """
    # Downsampling —Ç–∞ upsampling –Ω–∞–∑–∞–¥
    num_samples = int(len(samples) * target_rate / original_rate)
    downsampled = resample(samples.astype(float), num_samples)
    upsampled = resample(downsampled, len(samples))

    upsampled = np.clip(upsampled, -32768, 32767).astype(np.int16)
    print(f"  Resampling: {original_rate} Hz ‚Üí {target_rate} Hz ‚Üí {original_rate} Hz")
    return upsampled

def amplify_audio(samples, factor):
    """
    –ó–º—ñ–Ω—é—î –∞–º–ø–ª—ñ—Ç—É–¥—É –∞—É–¥—ñ–æ (amplification –∞—Ç–∞–∫–∞)

    Parameters:
    -----------
    samples : numpy array - —Å–µ–º–ø–ª–∏
    factor : float - –º–Ω–æ–∂–Ω–∏–∫ –∞–º–ø–ª—ñ—Ç—É–¥–∏ (–Ω–∞–ø—Ä. 0.5 = -6dB, 2.0 = +6dB)

    Returns:
    --------
    amplified : numpy array - –∑–º—ñ–Ω–µ–Ω—ñ —Å–µ–º–ø–ª–∏
    """
    amplified = samples.astype(float) * factor
    amplified = np.clip(amplified, -32768, 32767).astype(np.int16)

    db_change = 20 * np.log10(factor)
    print(f"  Amplification: √ó{factor} ({db_change:+.1f} dB)")
    return amplified

print("–§—É–Ω–∫—Ü—ñ—ó –∞—Ç–∞–∫ –≥–æ—Ç–æ–≤—ñ!")
</code></pre>

            <h4>–ö–æ–º–ø–ª–µ–∫—Å–Ω–µ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è —Å—Ç—ñ–π–∫–æ—Å—Ç—ñ:</h4>
            <pre class="python"><code># –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è —Å—Ç—ñ–π–∫–æ—Å—Ç—ñ LSB –¥–æ —Ä—ñ–∑–Ω–∏—Ö –∞—Ç–∞–∫
print("="*60)
print("–¢–ï–°–¢ –°–¢–Ü–ô–ö–û–°–¢–Ü: –í–ø–ª–∏–≤ –∞—Ç–∞–∫ –Ω–∞ Audio LSB")
print("="*60)

test_file = 'test_audio.wav'
original_message = b"–¢–µ—Å—Ç–æ–≤–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ —Å—Ç—ñ–π–∫–æ—Å—Ç—ñ –¥–æ –∞—Ç–∞–∫" * 2

# –í–±—É–¥–æ–≤—É—î–º–æ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
print("\n--- –í–±—É–¥–æ–≤—É–≤–∞–Ω–Ω—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è ---")
audio_lsb_encode(test_file, original_message, 'stego_robust.wav', num_lsb=2)
orig_samples, sr, ch, w = read_wav(test_file)

# –í–∏–∑–Ω–∞—á–µ–Ω–Ω—è –∞—Ç–∞–∫
attacks = [
    ('–ë–µ–∑ –∞—Ç–∞–∫', lambda x, sr: x),
    ('–®—É–º 40dB', lambda x, sr: add_gaussian_noise(x, 40)),
    ('–®—É–º 30dB', lambda x, sr: add_gaussian_noise(x, 30)),
    ('–®—É–º 20dB', lambda x, sr: add_gaussian_noise(x, 20)),
    ('Low-pass 10kHz', lambda x, sr: apply_lowpass(x, 10000, sr)),
    ('Low-pass 8kHz', lambda x, sr: apply_lowpass(x, 8000, sr)),
    ('Low-pass 5kHz', lambda x, sr: apply_lowpass(x, 5000, sr)),
    ('Resampling 22kHz', lambda x, sr: resample_audio(x, sr, sr//2)),
    ('Amplify √ó0.5', lambda x, sr: amplify_audio(x, 0.5)),
    ('Amplify √ó2.0', lambda x, sr: amplify_audio(x, 2.0)),
]

results = []

for attack_name, attack_func in attacks:
    print(f"\n{'='*50}")
    print(f"–ê—Ç–∞–∫–∞: {attack_name}")
    print(f"{'='*50}")

    # –ß–∏—Ç–∞—î–º–æ —Å—Ç–µ–≥–æ
    stego_samples, sr, ch, w = read_wav('stego_robust.wav')

    # –ó–∞—Å—Ç–æ—Å–æ–≤—É—î–º–æ –∞—Ç–∞–∫—É
    attacked = attack_func(stego_samples, sr)

    # –ó–±–µ—Ä—ñ–≥–∞—î–º–æ –∞—Ç–∞–∫–æ–≤–∞–Ω–µ –∞—É–¥—ñ–æ
    write_wav('attacked_temp.wav', attacked, sr, ch, w)

    # –°–ø—Ä–æ–±–∞ –¥–µ–∫–æ–¥—É–≤–∞–Ω–Ω—è
    try:
        decoded = audio_lsb_decode('attacked_temp.wav', num_lsb=2)

        # –û–±—á–∏—Å–ª–µ–Ω–Ω—è BER (Bit Error Rate)
        if len(decoded) == len(original_message):
            errors = sum(a != b for a, b in zip(original_message, decoded))
            ber = errors / len(original_message)
            status = "‚úÖ OK" if ber == 0 else "‚ö†Ô∏è Partial" if ber < 0.5 else "‚ùå Failed"

            print(f"  –î–µ–∫–æ–¥–æ–≤–∞–Ω–æ: {len(decoded)} –±–∞–π—Ç")
            print(f"  –ü–æ–º–∏–ª–∫–∏: {errors} / {len(original_message)} –±–∞–π—Ç")
            print(f"  BER: {ber:.2%}")
            print(f"  –°—Ç–∞—Ç—É—Å: {status}")
        else:
            print(f"  ‚ùå –î–æ–≤–∂–∏–Ω–∞ –Ω–µ –∑–±—ñ–≥–∞—î—Ç—å—Å—è: –æ—Ç—Ä–∏–º–∞–Ω–æ {len(decoded)}, –æ—á—ñ–∫—É–≤–∞–Ω–æ {len(original_message)}")
            ber = 1.0
            status = "‚ùå Failed"

    except Exception as e:
        print(f"  ‚ùå –ü–û–ú–ò–õ–ö–ê –¥–µ–∫–æ–¥—É–≤–∞–Ω–Ω—è: {str(e)[:50]}")
        ber = 1.0
        status = "‚ùå Failed"

    results.append({
        'Attack': attack_name,
        'BER': ber,
        'Status': status
    })

# –í–∏–≤–µ–¥–µ–Ω–Ω—è –∑–≤–µ–¥–µ–Ω–æ—ó —Ç–∞–±–ª–∏—Ü—ñ
print("\n" + "="*60)
print("–ó–í–ï–î–ï–ù–ê –¢–ê–ë–õ–ò–¶–Ø –†–ï–ó–£–õ–¨–¢–ê–¢–Ü–í")
print("="*60)
print(f"{'–ê—Ç–∞–∫–∞':<25} {'BER':<10} {'–°—Ç–∞—Ç—É—Å':<15}")
print("-"*60)

for r in results:
    print(f"{r['Attack']:<25} {r['BER']:<10.2%} {r['Status']:<15}")

# –í—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤
fig, (ax1, ax2) = plt.subplots(1, 2, figsize=(15, 6))

# –ì—Ä–∞—Ñ—ñ–∫ 1: BER –¥–ª—è –∫–æ–∂–Ω–æ—ó –∞—Ç–∞–∫–∏
attack_names = [r['Attack'] for r in results]
bers = [r['BER'] for r in results]
colors = ['green' if ber == 0 else 'orange' if ber < 0.5 else 'red' for ber in bers]

ax1.barh(attack_names, bers, color=colors, alpha=0.7, edgecolor='black')
ax1.set_xlabel('Bit Error Rate (BER)', fontsize=12)
ax1.set_title('–°—Ç—ñ–π–∫—ñ—Å—Ç—å LSB –¥–æ —Ä—ñ–∑–Ω–∏—Ö –∞—Ç–∞–∫', fontsize=14, fontweight='bold')
ax1.axvline(x=0.05, color='orange', linestyle='--', alpha=0.5, label='–ü–æ—Ä—ñ–≥ –ø—Ä–∏–π–Ω—è—Ç–Ω–æ—Å—Ç—ñ (5%)')
ax1.axvline(x=0.5, color='red', linestyle='--', alpha=0.5, label='–ö—Ä–∏—Ç–∏—á–Ω–∏–π –ø–æ—Ä—ñ–≥ (50%)')
ax1.legend()
ax1.grid(True, alpha=0.3, axis='x')

# –ì—Ä–∞—Ñ—ñ–∫ 2: –ö–∞—Ç–µ–≥–æ—Ä—ñ—ó —Å—Ç—ñ–π–∫–æ—Å—Ç—ñ
perfect = sum(1 for r in results if r['BER'] == 0)
partial = sum(1 for r in results if 0 < r['BER'] < 0.5)
failed = sum(1 for r in results if r['BER'] >= 0.5)

categories = ['–í—ñ–¥–º—ñ–Ω–Ω–æ\n(BER=0)', '–ß–∞—Å—Ç–∫–æ–≤–æ\n(BER<50%)', '–ü—Ä–æ–≤–∞–ª\n(BER‚â•50%)']
counts = [perfect, partial, failed]
colors_pie = ['#06A77D', '#F77F00', '#D62828']

ax2.pie(counts, labels=categories, colors=colors_pie, autopct='%1.0f%%',
        startangle=90, textprops={'fontsize': 12, 'weight': 'bold'})
ax2.set_title('–†–æ–∑–ø–æ–¥—ñ–ª —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è', fontsize=14, fontweight='bold')

plt.tight_layout()
plt.savefig('robustness_test_results.png', dpi=150, bbox_inches='tight')
print("\nüìä –ì—Ä–∞—Ñ—ñ–∫–∏ –∑–±–µ—Ä–µ–∂–µ–Ω–æ: robustness_test_results.png")
plt.show()

# –í–∏—Å–Ω–æ–≤–∫–∏
print("\n" + "="*60)
print("üìù –í–ò–°–ù–û–í–ö–ò")
print("="*60)
print(f"‚úÖ –°—Ç—ñ–π–∫—ñ –∞—Ç–∞–∫–∏ ({perfect}): BER = 0%")
for r in results:
    if r['BER'] == 0:
        print(f"   - {r['Attack']}")

print(f"\n‚ö†Ô∏è –ß–∞—Å—Ç–∫–æ–≤–æ —Å—Ç—ñ–π–∫—ñ ({partial}): 0% < BER < 50%")
for r in results:
    if 0 < r['BER'] < 0.5:
        print(f"   - {r['Attack']}: BER = {r['BER']:.1%}")

print(f"\n‚ùå –ù–µ—Å—Ç—ñ–π–∫—ñ –∞—Ç–∞–∫–∏ ({failed}): BER ‚â• 50%")
for r in results:
    if r['BER'] >= 0.5:
        print(f"   - {r['Attack']}: BER = {r['BER']:.1%}")

print("\nüìå –ó–∞–≥–∞–ª—å–Ω–∏–π –≤–∏—Å–Ω–æ–≤–æ–∫:")
print("  Audio LSB –º–∞—î –Ω–∏–∑—å–∫—É —Å—Ç—ñ–π–∫—ñ—Å—Ç—å –¥–æ:")
print("  - –°–∏–ª—å–Ω–æ–≥–æ —à—É–º—É (SNR < 30 dB)")
print("  - –ê–≥—Ä–µ—Å–∏–≤–Ω–æ—ó —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—ó (< 8 kHz)")
print("  - Resampling –∞—Ç–∞–∫")
print("  –î–ª—è –∫—Ä–∏—Ç–∏—á–Ω–∏—Ö –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω—å –ø–æ—Ç—Ä—ñ–±–Ω—ñ robust –º–µ—Ç–æ–¥–∏!")
</code></pre>

            <div class="result-box">
                <h4>‚úÖ –û—á—ñ–∫—É–≤–∞–Ω—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏:</h4>
                <ul>
                    <li>–ë–µ–∑ –∞—Ç–∞–∫: BER = 0% (—ñ–¥–µ–∞–ª—å–Ω–µ –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è)</li>
                    <li>–õ–µ–≥–∫–∏–π —à—É–º (40dB): BER < 5% (–ø—Ä–∏–π–Ω—è—Ç–Ω–æ)</li>
                    <li>–°–µ—Ä–µ–¥–Ω—ñ–π —à—É–º (30dB): BER 10-30% (—á–∞—Å—Ç–∫–æ–≤–∞ –¥–µ–≥—Ä–∞–¥–∞—Ü—ñ—è)</li>
                    <li>–°–∏–ª—å–Ω–∏–π —à—É–º (20dB): BER > 50% (–ø–æ–≤–Ω–∞ –≤—Ç—Ä–∞—Ç–∞ –¥–∞–Ω–∏—Ö)</li>
                    <li>Low-pass 10kHz: BER = 0% (–Ω–µ –≤–ø–ª–∏–≤–∞—î –Ω–∞ LSB)</li>
                    <li>Low-pass 5-8kHz: BER 30-70% (—Å—É—Ç—Ç—î–≤—ñ –≤—Ç—Ä–∞—Ç–∏)</li>
                    <li>Resampling: BER > 80% (–∫—Ä–∏—Ç–∏—á–Ω–∞ –¥–µ–≥—Ä–∞–¥–∞—Ü—ñ—è)</li>
                    <li>Amplification: BER = 0% (–Ω–µ –≤–ø–ª–∏–≤–∞—î –Ω–∞ –±—ñ—Ç–∏)</li>
                </ul>
            </div>
        </div>

        <!-- –ó–∞–≤–¥–∞–Ω–Ω—è 5 - –î–æ–¥–∞—Ç–∫–æ–≤–µ -->
        <div class="task-box">
            <h3><span class="step-number">5</span>‚≠ê –î–æ–¥–∞—Ç–∫–æ–≤–µ: Adaptive Audio LSB</h3>

            <h4>–ö–æ–Ω—Ü–µ–ø—Ü—ñ—è –∞–¥–∞–ø—Ç–∏–≤–Ω–æ–≥–æ –º–µ—Ç–æ–¥—É:</h4>
            <p>
                <strong>Adaptive LSB</strong> –¥–∏–Ω–∞–º—ñ—á–Ω–æ –∞–¥–∞–ø—Ç—É—î –∫—ñ–ª—å–∫—ñ—Å—Ç—å LSB –±—ñ—Ç –Ω–∞ –æ—Å–Ω–æ–≤—ñ –ª–æ–∫–∞–ª—å–Ω–∏—Ö —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫ –∞—É–¥—ñ–æ.
                –£ –≥—É—á–Ω–∏—Ö —á–∞—Å—Ç–∏–Ω–∞—Ö (–≤–∏—Å–æ–∫–∞ RMS –µ–Ω–µ—Ä–≥—ñ—è) –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ –±—ñ–ª—å—à–µ –±—ñ—Ç, —É —Ç–∏—Ö–∏—Ö ‚Äî –º–µ–Ω—à–µ.
                –¶–µ –∑–∞–±–µ–∑–ø–µ—á—É—î –∫—Ä–∞—â–∏–π –∫–æ–º–ø—Ä–æ–º—ñ—Å –º—ñ–∂ —î–º–Ω—ñ—Å—Ç—é —Ç–∞ –ø–µ—Ä—Ü–µ–ø—Ç–∏–≤–Ω–æ—é —è–∫—ñ—Å—Ç—é.
            </p>

            <h4>–†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è Adaptive LSB:</h4>
            <pre class="python"><code>def adaptive_lsb_encode(audio_file, message, output_file, block_size=1000):
    """
    –ê–¥–∞–ø—Ç–∏–≤–Ω–µ LSB –≤–±—É–¥–æ–≤—É–≤–∞–Ω–Ω—è –Ω–∞ –æ—Å–Ω–æ–≤—ñ RMS –µ–Ω–µ—Ä–≥—ñ—ó –±–ª–æ–∫—ñ–≤

    Parameters:
    -----------
    audio_file : str - —à–ª—è—Ö –¥–æ –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–æ–≥–æ WAV
    message : bytes - –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –¥–ª—è –≤–±—É–¥–æ–≤—É–≤–∞–Ω–Ω—è
    output_file : str - —à–ª—è—Ö –¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è —Å—Ç–µ–≥–æ
    block_size : int - —Ä–æ–∑–º—ñ—Ä –±–ª–æ–∫—É –≤ —Å–µ–º–ø–ª–∞—Ö (—Ç–∏–ø–æ–≤–æ 1000)

    Returns:
    --------
    lsb_map : numpy array - –∫–∞—Ä—Ç–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–∏—Ö LSB –±—ñ—Ç –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –±–ª–æ–∫—É
    embed_info : dict - —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –≤–±—É–¥–æ–≤—É–≤–∞–Ω–Ω—è

    –ê–ª–≥–æ—Ä–∏—Ç–º:
    1. –†–æ–∑–¥—ñ–ª–∏—Ç–∏ –∞—É–¥—ñ–æ –Ω–∞ –±–ª–æ–∫–∏
    2. –û–±—á–∏—Å–ª–∏—Ç–∏ RMS –µ–Ω–µ—Ä–≥—ñ—é –∫–æ–∂–Ω–æ–≥–æ –±–ª–æ–∫—É
    3. –í–∏–∑–Ω–∞—á–∏—Ç–∏ –ø–æ—Ä–æ–≥–∏ (–∫–≤–∞—Ä—Ç–∏–ª—ñ)
    4. –ü—Ä–∏–∑–Ω–∞—á–∏—Ç–∏ –∫—ñ–ª—å–∫—ñ—Å—Ç—å LSB –±—ñ—Ç –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –±–ª–æ–∫—É:
       - –ù–∏–∑—å–∫–∞ –µ–Ω–µ—Ä–≥—ñ—è (Q1): 1 LSB
       - –°–µ—Ä–µ–¥–Ω—è –µ–Ω–µ—Ä–≥—ñ—è (Q2): 2 LSB
       - –í–∏—Å–æ–∫–∞ –µ–Ω–µ—Ä–≥—ñ—è (Q3): 3 LSB
       - –î—É–∂–µ –≤–∏—Å–æ–∫–∞ (Q4): 4 LSB
    5. –í–±—É–¥–æ–≤—É–≤–∞—Ç–∏ –∑ –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—é –∫—ñ–ª—å–∫—ñ—Å—Ç—é –±—ñ—Ç
    """
    # –ß–∏—Ç–∞—î–º–æ –∞—É–¥—ñ–æ
    samples, sr, channels, width = read_wav(audio_file)
    stego_samples = samples.copy().astype(np.int32)  # int32 –¥–ª—è —É–Ω–∏–∫–Ω–µ–Ω–Ω—è overflow

    print(f"\nüìä Adaptive LSB Encoding:")
    print(f"  Block size: {block_size} —Å–µ–º–ø–ª—ñ–≤")
    print(f"  –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è: {len(message)} –±–∞–π—Ç")

    # –†–æ–∑–¥—ñ–ª–µ–Ω–Ω—è –Ω–∞ –±–ª–æ–∫–∏
    num_blocks = len(samples) // block_size
    usable_samples = num_blocks * block_size
    blocks = samples[:usable_samples].reshape(num_blocks, block_size)

    # –û–±—á–∏—Å–ª–µ–Ω–Ω—è RMS –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –±–ª–æ–∫—É
    rms_values = np.sqrt(np.mean(blocks.astype(float) ** 2, axis=1))

    # –í–∏–∑–Ω–∞—á–µ–Ω–Ω—è –ø–æ—Ä–æ–≥—ñ–≤ (–∫–≤–∞—Ä—Ç–∏–ª—ñ: 25%, 50%, 75%)
    q1, q2, q3 = np.percentile(rms_values, [25, 50, 75])

    print(f"  RMS thresholds: Q1={q1:.1f}, Q2={q2:.1f}, Q3={q3:.1f}")

    # –í–∏–∑–Ω–∞—á–µ–Ω–Ω—è num_lsb –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –±–ª–æ–∫—É
    lsb_map = np.ones(num_blocks, dtype=int)
    lsb_map[rms_values >= q1] = 2
    lsb_map[rms_values >= q2] = 3
    lsb_map[rms_values >= q3] = 4

    # –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä–æ–∑–ø–æ–¥—ñ–ª—É
    print(f"  –†–æ–∑–ø–æ–¥—ñ–ª –±–ª–æ–∫—ñ–≤:")
    for lsb in [1, 2, 3, 4]:
        count = np.sum(lsb_map == lsb)
        percent = (count / num_blocks) * 100
        print(f"    {lsb} LSB: {count} –±–ª–æ–∫—ñ–≤ ({percent:.1f}%)")

    # –û–±—á–∏—Å–ª–µ–Ω–Ω—è –∑–∞–≥–∞–ª—å–Ω–æ—ó —î–º–Ω–æ—Å—Ç—ñ
    total_capacity = np.sum(lsb_map) * block_size
    print(f"  –ó–∞–≥–∞–ª—å–Ω–∞ —î–º–Ω—ñ—Å—Ç—å: {total_capacity // 8} –±–∞–π—Ç")

    # –ö–æ–Ω–≤–µ—Ä—Ç—É—î–º–æ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤ –±—ñ—Ç–∏
    length_bits = format(len(message), '032b')
    message_bits = ''.join([format(byte, '08b') for byte in message])

    # –î–æ–¥–∞—î–º–æ –∫–∞—Ä—Ç—É LSB (3 –±—ñ—Ç–∏ –Ω–∞ –±–ª–æ–∫)
    map_bits = ''.join([format(lsb, '03b') for lsb in lsb_map])
    full_message = length_bits + format(num_blocks, '016b') + map_bits + message_bits

    if len(full_message) > total_capacity:
        raise ValueError(f"Message too large! Need {len(full_message)}, capacity {total_capacity}")

    # –í–±—É–¥–æ–≤—É–≤–∞–Ω–Ω—è –∑ –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—é –∫—ñ–ª—å–∫—ñ—Å—Ç—é LSB
    bit_idx = 0

    for block_idx, num_lsb in enumerate(lsb_map):
        start = block_idx * block_size
        end = start + block_size
        mask = ~((1 << num_lsb) - 1)  # –£–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω–∞ –º–∞—Å–∫–∞

        for i in range(start, end):
            if bit_idx >= len(full_message):
                break

            # –û—á–∏—â—É—î–º–æ —Ç–∞ –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î–º–æ LSB
            bits_to_embed = int(full_message[bit_idx:bit_idx+num_lsb].ljust(num_lsb, '0'), 2)
            stego_samples[i] = (stego_samples[i] & mask) | bits_to_embed

            bit_idx += num_lsb

        if bit_idx >= len(full_message):
            break

    # –ó–±–µ—Ä—ñ–≥–∞—î–º–æ (–∫–æ–Ω–≤–µ—Ä—Ç—É—î–º–æ –Ω–∞–∑–∞–¥ –≤ int16)
    write_wav(output_file, stego_samples.astype(np.int16), sr, channels, width)

    print(f"‚úÖ –í–±—É–¥–æ–≤–∞–Ω–æ {bit_idx} –±—ñ—Ç ({bit_idx // 8} –±–∞–π—Ç)")

    return lsb_map, {
        'blocks_used': num_blocks,
        'bits_embedded': bit_idx,
        'avg_lsb': np.mean(lsb_map)
    }

print("Adaptive LSB —Ñ—É–Ω–∫—Ü—ñ—ó –≥–æ—Ç–æ–≤—ñ!")
</code></pre>

            <h4>–ü–æ—Ä—ñ–≤–Ω—è–ª—å–Ω–∏–π –∞–Ω–∞–ª—ñ–∑:</h4>
            <pre class="python"><code># –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è Fixed LSB vs Adaptive LSB
print("="*60)
print("–ü–û–†–Ü–í–ù–Ø–ù–ù–Ø: Fixed LSB vs Adaptive LSB")
print("="*60)

test_file = 'test_audio.wav'
message = b"–¢–µ—Å—Ç–æ–≤–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –¥–ª—è –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –º–µ—Ç–æ–¥—ñ–≤" * 5

# 1. Fixed 2 LSB
print("\n--- Fixed 2 LSB ---")
audio_lsb_encode(test_file, message, 'fixed_2lsb.wav', num_lsb=2)
orig_samples, sr, _, _ = read_wav(test_file)
fixed_samples, _, _, _ = read_wav('fixed_2lsb.wav')
snr_fixed = calculate_snr(orig_samples, fixed_samples)

# 2. Adaptive LSB
print("\n--- Adaptive LSB ---")
lsb_map, info = adaptive_lsb_encode(test_file, message, 'adaptive.wav', block_size=1000)
adaptive_samples, _, _, _ = read_wav('adaptive.wav')
snr_adaptive = calculate_snr(orig_samples, adaptive_samples)

# 3. –î–µ—Ç–∞–ª—å–Ω–∏–π –∞–Ω–∞–ª—ñ–∑
print("\n" + "="*60)
print("–†–ï–ó–£–õ–¨–¢–ê–¢–ò –ü–û–†–Ü–í–ù–Ø–ù–ù–Ø")
print("="*60)

print(f"\nüìä Fixed LSB (2 –±—ñ—Ç–∏):")
print(f"  SNR: {snr_fixed:.2f} dB")
print(f"  –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–æ: 2 LSB —É –≤—Å—ñ—Ö —Å–µ–º–ø–ª–∞—Ö")
print(f"  –Ñ–º–Ω—ñ—Å—Ç—å: {len(message)} –±–∞–π—Ç")

print(f"\nüìä Adaptive LSB:")
print(f"  SNR: {snr_adaptive:.2f} dB")
print(f"  –°–µ—Ä–µ–¥–Ω—è –∫-—Ç—å LSB: {info['avg_lsb']:.2f} –±—ñ—Ç")
print(f"  –ë–ª–æ–∫—ñ–≤: {info['blocks_used']}")
print(f"  –Ñ–º–Ω—ñ—Å—Ç—å: {len(message)} –±–∞–π—Ç")

improvement = snr_adaptive - snr_fixed
print(f"\nüéØ –ü–æ–∫—Ä–∞—â–µ–Ω–Ω—è SNR: {improvement:+.2f} dB")

if improvement > 0:
    print(f"   ‚úÖ Adaptive LSB –º–∞—î –ö–†–ê–©–£ —è–∫—ñ—Å—Ç—å –Ω–∞ {improvement:.2f} dB!")
else:
    print(f"   ‚ö†Ô∏è Fixed LSB –º–∞—î –∫—Ä–∞—â—É —è–∫—ñ—Å—Ç—å –Ω–∞ {abs(improvement):.2f} dB")

# 4. –í—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è —Ä–æ–∑–ø–æ–¥—ñ–ª—É LSB
fig, axes = plt.subplots(2, 2, figsize=(14, 10))

# –ì—Ä–∞—Ñ—ñ–∫ 1: RMS –µ–Ω–µ—Ä–≥—ñ—è —Ç–∞ LSB –∫–∞—Ä—Ç–∞
block_size = 1000
num_blocks = len(orig_samples) // block_size
blocks = orig_samples[:num_blocks * block_size].reshape(num_blocks, block_size)
rms_values = np.sqrt(np.mean(blocks.astype(float) ** 2, axis=1))

axes[0, 0].plot(rms_values, label='RMS –µ–Ω–µ—Ä–≥—ñ—è', color='blue')
axes[0, 0].set_title('RMS –µ–Ω–µ—Ä–≥—ñ—è –±–ª–æ–∫—ñ–≤', fontweight='bold')
axes[0, 0].set_xlabel('–ù–æ–º–µ—Ä –±–ª–æ–∫—É')
axes[0, 0].set_ylabel('RMS –∞–º–ø–ª—ñ—Ç—É–¥–∞')
axes[0, 0].grid(True, alpha=0.3)

ax_twin = axes[0, 0].twinx()
ax_twin.plot(lsb_map, label='LSB –±—ñ—Ç–∏', color='red', alpha=0.6, linewidth=2)
ax_twin.set_ylabel('–ö-—Ç—å LSB –±—ñ—Ç', color='red')
ax_twin.tick_params(axis='y', labelcolor='red')
ax_twin.set_ylim([0, 5])

# –ì—Ä–∞—Ñ—ñ–∫ 2: –†–æ–∑–ø–æ–¥—ñ–ª –∑–º—ñ–Ω
diff_fixed = np.abs(fixed_samples.astype(float) - orig_samples.astype(float))
diff_adaptive = np.abs(adaptive_samples.astype(float) - orig_samples.astype(float))

axes[0, 1].hist(diff_fixed[:50000], bins=30, alpha=0.5, label='Fixed 2 LSB', color='orange')
axes[0, 1].hist(diff_adaptive[:50000], bins=30, alpha=0.5, label='Adaptive', color='green')
axes[0, 1].set_title('–†–æ–∑–ø–æ–¥—ñ–ª –∑–º—ñ–Ω —Å–µ–º–ø–ª—ñ–≤', fontweight='bold')
axes[0, 1].set_xlabel('–í–µ–ª–∏—á–∏–Ω–∞ –∑–º—ñ–Ω–∏')
axes[0, 1].set_ylabel('–ß–∞—Å—Ç–æ—Ç–∞')
axes[0, 1].legend()
axes[0, 1].grid(True, alpha=0.3)

# –ì—Ä–∞—Ñ—ñ–∫ 3: Waveform –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è (–ø–µ—Ä—à—ñ 2 —Å–µ–∫)
samples_to_show = min(sr * 2, len(orig_samples))
time = np.linspace(0, samples_to_show / sr, samples_to_show)

axes[1, 0].plot(time, orig_samples[:samples_to_show], label='–û—Ä–∏–≥—ñ–Ω–∞–ª', alpha=0.4)
axes[1, 0].plot(time, fixed_samples[:samples_to_show], label='Fixed LSB', alpha=0.6)
axes[1, 0].set_title('Waveform: –û—Ä–∏–≥—ñ–Ω–∞–ª vs Fixed LSB', fontweight='bold')
axes[1, 0].set_xlabel('–ß–∞—Å (—Å)')
axes[1, 0].set_ylabel('–ê–º–ø–ª—ñ—Ç—É–¥–∞')
axes[1, 0].legend()
axes[1, 0].grid(True, alpha=0.3)

axes[1, 1].plot(time, orig_samples[:samples_to_show], label='–û—Ä–∏–≥—ñ–Ω–∞–ª', alpha=0.4)
axes[1, 1].plot(time, adaptive_samples[:samples_to_show], label='Adaptive LSB', alpha=0.6)
axes[1, 1].set_title('Waveform: –û—Ä–∏–≥—ñ–Ω–∞–ª vs Adaptive LSB', fontweight='bold')
axes[1, 1].set_xlabel('–ß–∞—Å (—Å)')
axes[1, 1].set_ylabel('–ê–º–ø–ª—ñ—Ç—É–¥–∞')
axes[1, 1].legend()
axes[1, 1].grid(True, alpha=0.3)

plt.tight_layout()
plt.savefig('adaptive_vs_fixed_lsb.png', dpi=150, bbox_inches='tight')
print("\nüìä –ì—Ä–∞—Ñ—ñ–∫–∏ –∑–±–µ—Ä–µ–∂–µ–Ω–æ: adaptive_vs_fixed_lsb.png")
plt.show()

# –í–∏—Å–Ω–æ–≤–∫–∏
print("\n" + "="*60)
print("üìù –í–ò–°–ù–û–í–ö–ò")
print("="*60)
print("‚úÖ Adaptive LSB –ø–µ—Ä–µ–≤–∞–≥–∏:")
print("  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –∞–¥–∞–ø—Ç–∞—Ü—ñ—è –¥–æ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫ –∞—É–¥—ñ–æ")
print("  - –ú–µ–Ω—à–µ —Å–ø–æ—Ç–≤–æ—Ä–µ–Ω—å —É —Ç–∏—Ö–∏—Ö —á–∞—Å—Ç–∏–Ω–∞—Ö")
print("  - –ö—Ä–∞—â–∞ –ø–µ—Ä—Ü–µ–ø—Ç–∏–≤–Ω–∞ —è–∫—ñ—Å—Ç—å –ø—Ä–∏ —Ç—ñ–π —Å–∞–º—ñ–π —î–º–Ω–æ—Å—Ç—ñ")
print("  - –û–ø—Ç–∏–º–∞–ª—å–Ω–∏–π —Ä–æ–∑–ø–æ–¥—ñ–ª –º–æ–¥–∏—Ñ—ñ–∫–∞—Ü—ñ–π")

print("\n‚ö†Ô∏è –ù–µ–¥–æ–ª—ñ–∫–∏:")
print("  - –ë—ñ–ª—å—à–∞ —Å–∫–ª–∞–¥–Ω—ñ—Å—Ç—å —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó")
print("  - –ü–æ—Ç—Ä—ñ–±–Ω–æ –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ LSB –∫–∞—Ä—Ç—É (–¥–æ–¥–∞—Ç–∫–æ–≤—ñ –±—ñ—Ç–∏)")
print("  - –ü–æ–≤—ñ–ª—å–Ω—ñ—à–∞ –æ–±—Ä–æ–±–∫–∞")

print("\nüéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è:")
print("  Adaptive LSB —ñ–¥–µ–∞–ª—å–Ω–∏–π –¥–ª—è –≤–∏—Å–æ–∫–æ—è–∫—ñ—Å–Ω–æ–≥–æ –∞—É–¥—ñ–æ –∑ —Ä—ñ–∑–Ω–æ–º–∞–Ω—ñ—Ç–Ω–æ—é")
print("  –¥–∏–Ω–∞–º—ñ–∫–æ—é (–º—É–∑–∏–∫–∞, –º–æ–≤–ª–µ–Ω–Ω—è –∑ –ø–∞—É–∑–∞–º–∏). Fixed LSB –¥–æ—Å—Ç–∞—Ç–Ω—å–æ –¥–ª—è")
print("  –∞—É–¥—ñ–æ –∑ –æ–¥–Ω–æ—Ä—ñ–¥–Ω–æ—é –¥–∏–Ω–∞–º—ñ–∫–æ—é.")
</code></pre>

            <div class="result-box">
                <h4>‚úÖ –û—á—ñ–∫—É–≤–∞–Ω—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏:</h4>
                <ul>
                    <li>Adaptive LSB –º–∞—î SNR –Ω–∞ 2-5 dB –≤–∏—â–µ –ø–æ—Ä—ñ–≤–Ω—è–Ω–æ –∑ Fixed LSB</li>
                    <li>–†–æ–∑–ø–æ–¥—ñ–ª LSB –±—ñ—Ç –∫–æ—Ä–µ–ª—é—î –∑ RMS –µ–Ω–µ—Ä–≥—ñ—î—é –±–ª–æ–∫—ñ–≤</li>
                    <li>–¢–∏—Ö—ñ —á–∞—Å—Ç–∏–Ω–∏: 1-2 LSB (–º—ñ–Ω—ñ–º–∞–ª—å–Ω—ñ —Å–ø–æ—Ç–≤–æ—Ä–µ–Ω–Ω—è)</li>
                    <li>–ì—É—á–Ω—ñ —á–∞—Å—Ç–∏–Ω–∏: 3-4 LSB (–º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ —î–º–Ω—ñ—Å—Ç—å)</li>
                    <li>–°–µ—Ä–µ–¥–Ω—è –∫—ñ–ª—å–∫—ñ—Å—Ç—å LSB: ~2.5 –±—ñ—Ç (–ø—Ä–æ—Ç–∏ 2 —É Fixed)</li>
                    <li>–ü–µ—Ä—Ü–µ–ø—Ç–∏–≤–Ω–∞ —è–∫—ñ—Å—Ç—å: –≤—ñ–¥—á—É—Ç–Ω–æ –∫—Ä–∞—â–∞ –¥–ª—è —É–≤–∞–∂–Ω–æ–≥–æ –ø—Ä–æ—Å–ª—É—Ö–æ–≤—É–≤–∞–Ω–Ω—è</li>
                </ul>
            </div>
        </div>
    </section>

    <!-- –ó–≤—ñ—Ç–Ω—ñ—Å—Ç—å -->
    <section>
        <h2>üìã –í–∏–º–æ–≥–∏ –¥–æ –∑–≤—ñ—Ç—É</h2>

        <div class="submission-box">
            <h3>–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑–≤—ñ—Ç—É:</h3>
            <ol>
                <li><strong>–¢–∏—Ç—É–ª—å–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞</strong>
                    <ul>
                        <li>–ù–æ–º–µ—Ä —Ç–∞ –Ω–∞–∑–≤–∞ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ—ó</li>
                        <li>–ü–Ü–ë, –≥—Ä—É–ø–∞, –¥–∞—Ç–∞ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è</li>
                    </ul>
                </li>
                <li><strong>–ú–µ—Ç–∞ —Ä–æ–±–æ—Ç–∏</strong>
                    <ul>
                        <li>–ö–æ—Ä–æ—Ç–∫–æ —Å—Ñ–æ—Ä–º—É–ª—é–π—Ç–µ —Ü—ñ–ª—ñ</li>
                    </ul>
                </li>
                <li><strong>–¢–µ–æ—Ä–µ—Ç–∏—á–Ω–∞ —á–∞—Å—Ç–∏–Ω–∞</strong>
                    <ul>
                        <li>–û–ø–∏—Å —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ WAV —Ñ–∞–π–ª—ñ–≤</li>
                        <li>–ü—Ä–∏–Ω—Ü–∏–ø–∏ Audio LSB —Å—Ç–µ–≥–∞–Ω–æ–≥—Ä–∞—Ñ—ñ—ó</li>
                        <li>–ú–µ—Ç—Ä–∏–∫–∏ —è–∫–æ—Å—Ç—ñ –∞—É–¥—ñ–æ (SNR)</li>
                        <li>–í–ª–∞—Å–Ω—ñ –ø–æ—è—Å–Ω–µ–Ω–Ω—è, –Ω–µ –∫–æ–ø—ñ—é–π—Ç–µ –∑ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó</li>
                    </ul>
                </li>
                <li><strong>–ü—Ä–∞–∫—Ç–∏—á–Ω–∞ —á–∞—Å—Ç–∏–Ω–∞</strong>
                    <ul>
                        <li>–î–ª—è –∫–æ–∂–Ω–æ–≥–æ –∑–∞–≤–¥–∞–Ω–Ω—è:
                            <ul>
                                <li>–ö–æ–¥ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó (–∫–æ–º–µ–Ω—Ç–æ–≤–∞–Ω–∏–π)</li>
                                <li>–ü—Ä–∏–∫–ª–∞–¥–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è</li>
                                <li>–†–µ–∑—É–ª—å—Ç–∞—Ç–∏ —Ç–µ—Å—Ç—ñ–≤</li>
                                <li>–°–∫—Ä—ñ–Ω—à–æ—Ç–∏/–≥—Ä–∞—Ñ—ñ–∫–∏</li>
                            </ul>
                        </li>
                    </ul>
                </li>
                <li><strong>–†–µ–∑—É–ª—å—Ç–∞—Ç–∏ –µ–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ñ–≤</strong>
                    <ul>
                        <li>–¢–∞–±–ª–∏—Ü—è: num_lsb √ó SNR √ó Capacity –¥–ª—è —Ä—ñ–∑–Ω–∏—Ö –∞—É–¥—ñ–æ</li>
                        <li>–ì—Ä–∞—Ñ—ñ–∫–∏ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ SNR –≤—ñ–¥ num_lsb</li>
                        <li>–°–ø–µ–∫—Ç—Ä–æ–≥—Ä–∞–º–∏ –æ—Ä–∏–≥—ñ–Ω–∞–ª—É —Ç–∞ —Å—Ç–µ–≥–æ</li>
                        <li>–†–µ–∑—É–ª—å—Ç–∞—Ç–∏ —Ç–µ—Å—Ç—ñ–≤ —Å—Ç—ñ–π–∫–æ—Å—Ç—ñ (BER —Ç–∞–±–ª–∏—Ü—è)</li>
                    </ul>
                </li>
                <li><strong>–ü–æ—Ä—ñ–≤–Ω—è–ª—å–Ω–∏–π –∞–Ω–∞–ª—ñ–∑</strong>
                    <ul>
                        <li>Sequential vs Randomized LSB</li>
                        <li>Audio LSB vs Image LSB (—è–∫—â–æ —Ä–æ–±–∏–ª–∏)</li>
                        <li>–ü–µ—Ä—Ü–µ–ø—Ç–∏–≤–Ω–∞ —è–∫—ñ—Å—Ç—å: –≤–ª–∞—Å–Ω—ñ —Å–ø–æ—Å—Ç–µ—Ä–µ–∂–µ–Ω–Ω—è</li>
                    </ul>
                </li>
                <li><strong>–í–∏—Å–Ω–æ–≤–∫–∏</strong>
                    <ul>
                        <li>–Ø–∫—ñ –º–µ—Ç–æ–¥–∏ –Ω–∞–π–∫—Ä–∞—â—ñ –¥–ª—è —î–º–Ω–æ—Å—Ç—ñ?</li>
                        <li>–Ø–∫—ñ –¥–ª—è –Ω–µ–ø–æ–º—ñ—Ç–Ω–æ—Å—Ç—ñ?</li>
                        <li>–ß–∏ –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ LSB –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω–∏—Ö –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω—å?</li>
                        <li>–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó —â–æ–¥–æ –≤–∏–±–æ—Ä—É num_lsb</li>
                    </ul>
                </li>
                <li><strong>–î–æ–¥–∞—Ç–∫–∏</strong>
                    <ul>
                        <li>–ü–æ–≤–Ω–∏–π –∫–æ–¥ (–¥–æ–±—Ä–µ –∫–æ–º–µ–Ω—Ç–æ–≤–∞–Ω–∏–π)</li>
                        <li>–ü–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π</li>
                    </ul>
                </li>
            </ol>

            <div class="submission-card">
                <h3>üéØ –ö—Ä–∏—Ç–µ—Ä—ñ—ó –æ—Ü—ñ–Ω—é–≤–∞–Ω–Ω—è</h3>
                <ul>
                    <li>–ö–æ—Ä–µ–∫—Ç–Ω–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è Audio LSB encoder/decoder (25%)</li>
                    <li>–ê–Ω–∞–ª—ñ–∑ —è–∫–æ—Å—Ç—ñ (SNR, —Å–ø–µ–∫—Ç—Ä–æ–≥—Ä–∞–º–∏, –µ–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏) (25%)</li>
                    <li>Randomized LSB –∑ –∫–ª—é—á–µ–º (20%)</li>
                    <li>–¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è —Å—Ç—ñ–π–∫–æ—Å—Ç—ñ –¥–æ –∞—Ç–∞–∫ (20%)</li>
                    <li>–î–æ–¥–∞—Ç–∫–æ–≤–µ –∑–∞–≤–¥–∞–Ω–Ω—è: Adaptive LSB (5%)</li>
                    <li>–û—Ñ–æ—Ä–º–ª–µ–Ω–Ω—è –∑–≤—ñ—Ç—É —Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è (5%)</li>
                </ul>
            </div>
        </div>

        <div class="deadline-warning">
            <strong>‚è∞ –¢–µ—Ä–º—ñ–Ω –∑–¥–∞—á—ñ:</strong> –ü—Ä–æ—Ç—è–≥–æ–º –¥–≤–æ—Ö —Ç–∏–∂–Ω—ñ–≤ –ø—ñ—Å–ª—è –ø—Ä–æ–≤–µ–¥–µ–Ω–Ω—è –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ—ó —Ä–æ–±–æ—Ç–∏.
            –ó–∞—Ç—Ä–∏–º–∫–∞ –∑–¥–∞—á—ñ –∑–Ω–∏–∂—É—î –æ—Ü—ñ–Ω–∫—É –Ω–∞ 10% –∑–∞ –∫–æ–∂–µ–Ω —Ç–∏–∂–¥–µ–Ω—å.
        </div>
    </section>

    <!-- –í–∏—Å–Ω–æ–≤–∫–∏ -->
    <section class="result-box">
        <h2>üéì –í–∏—Å–Ω–æ–≤–∫–∏</h2>
        <p>
            –£ —Ü—ñ–π –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω—ñ–π —Ä–æ–±–æ—Ç—ñ –≤–∏ –æ—Å–≤–æ—ó–ª–∏ –∞—É–¥—ñ–æ LSB —Å—Ç–µ–≥–∞–Ω–æ–≥—Ä–∞—Ñ—ñ—é:
        </p>
        <ul>
            <li><strong>WAV —Ñ–æ—Ä–º–∞—Ç</strong> ‚Äî –ø—Ä–æ—Å—Ç–∏–π —Ç–∞ –µ—Ñ–µ–∫—Ç–∏–≤–Ω–∏–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è —Å—Ç–µ–≥–∞–Ω–æ–≥—Ä–∞—Ñ—ñ—ó –∑ –ø—Ä—è–º–∏–º –¥–æ—Å—Ç—É–ø–æ–º –¥–æ —Å–µ–º–ø–ª—ñ–≤</li>
            <li><strong>Audio LSB</strong> ‚Äî –º–∞—î –≤–∏—Å–æ–∫—É —î–º–Ω—ñ—Å—Ç—å —Ç–∞ –ø—Ä–æ—Å—Ç–æ—Ç—É —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó, –∞–ª–µ –Ω–∏–∑—å–∫—É —Å—Ç—ñ–π–∫—ñ—Å—Ç—å –¥–æ –∫–æ–º–ø—Ä–µ—Å—ñ—ó</li>
            <li><strong>–ü–µ—Ä—Ü–µ–ø—Ç–∏–≤–Ω–∞ —è–∫—ñ—Å—Ç—å</strong> ‚Äî –ª—é–¥—Å—å–∫–µ –≤—É—Ö–æ –Ω–µ—á—É—Ç–ª–∏–≤–µ –¥–æ –∑–º—ñ–Ω –≤ LSB –±—ñ—Ç–∞—Ö –ø—Ä–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º—É –≤–∏–±–æ—Ä—ñ num_lsb (1-2)</li>
            <li><strong>Randomization</strong> ‚Äî –ø–æ–∫—Ä–∞—â—É—î –±–µ–∑–ø–µ—á–Ω—ñ—Å—Ç—å —Ç–∞ —É—Å–∫–ª–∞–¥–Ω—é—î —Å—Ç–µ–≥–æ–∞–Ω–∞–ª—ñ–∑</li>
            <li><strong>–°—Ç—ñ–π–∫—ñ—Å—Ç—å</strong> ‚Äî LSB –≤—Ä–∞–∑–ª–∏–≤–∏–π –¥–æ MP3 –∫–æ–º–ø—Ä–µ—Å—ñ—ó, —à—É–º—É —Ç–∞ —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—ó, –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω–∏—Ö –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω—å –ø–æ—Ç—Ä—ñ–±–Ω—ñ robust –º–µ—Ç–æ–¥–∏</li>
        </ul>

        <div class="warning-box">
            <strong>‚ö†Ô∏è –ö–ª—é—á–æ–≤—ñ –≤–∏—Å–Ω–æ–≤–∫–∏:</strong>
            <ul>
                <li>1-2 LSB –±—ñ—Ç–∏: SNR > 40 dB, –ø—Ä–∞–∫—Ç–∏—á–Ω–æ –Ω–µ–ø–æ–º—ñ—Ç–Ω—ñ –∑–º—ñ–Ω–∏</li>
                <li>3-4 LSB –±—ñ—Ç–∏: –º–æ–∂–ª–∏–≤—ñ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∏ —É —Ç–∏—Ö–∏—Ö —á–∞—Å—Ç–∏–Ω–∞—Ö, –ø–æ—Ç—Ä—ñ–±–Ω–∞ adaptive —Ç–µ—Ö–Ω—ñ–∫–∞</li>
                <li>–ú—É–∑–∏–∫–∞ –º–∞—î –≤–∏—â—É —Ç–æ–ª–µ—Ä–∞–Ω—Ç–Ω—ñ—Å—Ç—å –¥–æ LSB –∑–º—ñ–Ω, –Ω—ñ–∂ —á–∏—Å—Ç–∞ –º–æ–≤–∞</li>
                <li>MP3 –∫–æ–º–ø—Ä–µ—Å—ñ—è (< 192 kbps) —Ä—É–π–Ω—É—î LSB –¥–∞–Ω—ñ –º–∞–π–∂–µ –ø–æ–≤–Ω—ñ—Å—Ç—é</li>
                <li>–î–ª—è –ø—Ä–∞–∫—Ç–∏—á–Ω–∏—Ö –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω—å: random LSB + ECC + compression-resistant –º–µ—Ç–æ–¥–∏</li>
                <li>Audio LSB –ª–µ–≥—à–µ —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏, –Ω—ñ–∂ image LSB, –∞–ª–µ —Å–∫–ª–∞–¥–Ω—ñ—à–µ –∑–∞–±–µ–∑–ø–µ—á–∏—Ç–∏ —Å—Ç—ñ–π–∫—ñ—Å—Ç—å</li>
            </ul>
        </div>
    </section>

    <!-- –ö–æ—Ä–∏—Å–Ω—ñ —Ä–µ—Å—É—Ä—Å–∏ -->
    <section>
        <h2>üìö –ö–æ—Ä–∏—Å–Ω—ñ —Ä–µ—Å—É—Ä—Å–∏</h2>

        <div class="resources-list">
            <ul>
                <li>üìñ <a href="https://docs.python.org/3/library/wave.html">Python Wave Module - Official Docs</a></li>
                <li>üìÑ <a href="https://librosa.org/">Librosa - Python library for audio analysis</a></li>
                <li>üîß <a href="https://en.wikipedia.org/wiki/WAV">WAV Format - Wikipedia</a></li>
                <li>üìä <a href="#">Cvejic N., Seppanen T. "Increasing Robustness of LSB Audio Steganography" (2004)</a></li>
                <li>üéì <a href="#">Djebbar F. et al. "Comparative study of digital audio steganography techniques" (2012)</a></li>
                <li>üíª <a href="https://github.com/topics/audio-steganography">GitHub: Audio Steganography Projects</a></li>
                <li>üî¨ <a href="#">Bender W. et al. "Techniques for data hiding" (1996) - Classic paper</a></li>
                <li>üéµ <a href="https://freesound.org/">FreeSound - Free audio samples for testing</a></li>
            </ul>
        </div>
    </section>
</main>

<!-- Footer -->
<footer class="lab-footer">
    <div class="container">
        <p>&copy; 2025 –ö—É—Ä—Å "–û—Å–Ω–æ–≤–∏ —Å—Ç–µ–≥–∞–Ω–æ–≥—Ä–∞—Ñ—ñ—ó" | –ö–∞—Ñ–µ–¥—Ä–∞ –∫—ñ–±–µ—Ä–±–µ–∑–ø–µ–∫–∏</p>
    </div>
</footer>

<!-- JavaScript -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
<script src="../assets/js/lab-functions.js"></script>
<script>
    // –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –ø—ñ–¥—Å–≤—ñ—Ç–∫–∏ –∫–æ–¥—É
    hljs.highlightAll();

    // –§—É–Ω–∫—Ü—ñ—è –ø–µ—Ä–µ–º–∏–∫–∞–Ω–Ω—è –≤–∫–ª–∞–¥–æ–∫
    if (typeof switchTab === 'undefined') {
        function switchTab(event, tabId) {
            const tabContents = document.querySelectorAll('.tab-content');
            tabContents.forEach(tab => {
                tab.classList.remove('active');
            });

            const tabButtons = document.querySelectorAll('.tab-button');
            tabButtons.forEach(button => {
                button.classList.remove('active');
            });

            document.getElementById(tabId).classList.add('active');
            event.currentTarget.classList.add('active');
        }
    }
</script>

</body>
</html>