<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞ —Ä–æ–±–æ—Ç–∞ ‚Ññ8: Echo hiding - —Å—Ç–µ–≥–∞–Ω–æ–≥—Ä–∞—Ñ—ñ—è —á–µ—Ä–µ–∑ –ø—Ä–∏—Ö–æ–≤—É–≤–∞–Ω–Ω—è –µ—Ö–æ">
    <meta name="keywords" content="—Å—Ç–µ–≥–∞–Ω–æ–≥—Ä–∞—Ñ—ñ—è, echo hiding, cepstrum, –∞—É–¥—ñ–æ, —Å—Ç—ñ–π–∫—ñ—Å—Ç—å –¥–æ —à—É–º—É">
    <title>–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞ ‚Ññ8: Echo Hiding | –û—Å–Ω–æ–≤–∏ —Å—Ç–µ–≥–∞–Ω–æ–≥—Ä–∞—Ñ—ñ—ó</title>

    <!-- CSS Files -->
    <link rel="stylesheet" href="../assets/css/base.css">
    <link rel="stylesheet" href="../assets/css/lab-universal.css">

    <!-- Highlight.js –¥–ª—è –ø—ñ–¥—Å–≤—ñ—Ç–∫–∏ –∫–æ–¥—É -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css">
</head>
<body>

<!-- Header -->
<header class="lab-header">
    <div class="container">
        <nav class="breadcrumb">
            <a href="../index.html">–ì–æ–ª–æ–≤–Ω–∞</a>
            <span class="separator">/</span>
            <a href="../index.html">–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω—ñ</a>
            <span class="separator">/</span>
            <span class="current">–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞ ‚Ññ8</span>
        </nav>
        <h1>üîä –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞ —Ä–æ–±–æ—Ç–∞ ‚Ññ8</h1>
        <p class="subtitle">
            Echo Hiding: Echo generation, cepstrum –∞–Ω–∞–ª—ñ–∑, noise tolerance
        </p>
        <div class="tool-badges">
            <span class="tool-badge">Python</span>
            <span class="tool-badge">Wave</span>
            <span class="tool-badge">NumPy</span>
            <span class="tool-badge">SciPy</span>
            <span class="tool-badge">Librosa</span>
            <span class="tool-badge">Matplotlib</span>
        </div>
    </div>
</header>

<!-- Main Content -->
<main class="container">

    <!-- –¶—ñ–ª—ñ —Ä–æ–±–æ—Ç–∏ -->
    <section class="task-box">
        <h2>üéØ –¶—ñ–ª—ñ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ—ó —Ä–æ–±–æ—Ç–∏</h2>
        <ul>
            <li>–í–∏–≤—á–∏—Ç–∏ –ø—Ä–∏–Ω—Ü–∏–ø–∏ Echo hiding —Å—Ç–µ–≥–∞–Ω–æ–≥—Ä–∞—Ñ—ñ—ó</li>
            <li>–û—Å–≤–æ—ó—Ç–∏ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—é —Ç–∞ –¥–µ—Ç–µ–∫—Ç—É–≤–∞–Ω–Ω—è –µ—Ö–æ-—Å–∏–≥–Ω–∞–ª—ñ–≤</li>
            <li>–†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ encoder/decoder –Ω–∞ –æ—Å–Ω–æ–≤—ñ –µ—Ö–æ</li>
            <li>–î–æ—Å–ª—ñ–¥–∏—Ç–∏ cepstrum –∞–Ω–∞–ª—ñ–∑ –¥–ª—è –≤–∏—è–≤–ª–µ–Ω–Ω—è –µ—Ö–æ</li>
            <li>–ü—Ä–æ–≤–µ—Å—Ç–∏ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è —Å—Ç—ñ–π–∫–æ—Å—Ç—ñ –¥–æ —à—É–º—É</li>
        </ul>
    </section>

    <!-- –¢–µ–æ—Ä–µ—Ç–∏—á–Ω–∞ —á–∞—Å—Ç–∏–Ω–∞ -->
    <section>
        <h2>üìö –¢–µ–æ—Ä–µ—Ç–∏—á–Ω–∞ —á–∞—Å—Ç–∏–Ω–∞</h2>

        <div class="tabs-container">
            <div class="tabs-nav">
                <button class="tab-button active" onclick="switchTab(event, 'echo-hiding')">
                    üîä Echo Hiding
                </button>
                <button class="tab-button" onclick="switchTab(event, 'cepstrum-analysis')">
                    üìä Cepstrum –∞–Ω–∞–ª—ñ–∑
                </button>
                <button class="tab-button" onclick="switchTab(event, 'noise-resistance')">
                    üõ°Ô∏è –°—Ç—ñ–π–∫—ñ—Å—Ç—å –¥–æ —à—É–º—É
                </button>
                <button class="tab-button" onclick="switchTab(event, 'comparison')">
                    üöÄ –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –º–µ—Ç–æ–¥—ñ–≤
                </button>
            </div>

            <!-- Echo Hiding -->
            <div class="tab-content active" id="echo-hiding">
                <h3>Echo Hiding: –ü—Ä–∏—Ö–æ–≤—É–≤–∞–Ω–Ω—è —á–µ—Ä–µ–∑ –µ—Ö–æ</h3>

                <div class="detection-method">
                    <h4>üîä –©–æ —Ç–∞–∫–µ Echo Hiding?</h4>
                    <p>
                        <strong>Echo hiding</strong> ‚Äî —Ü–µ –º–µ—Ç–æ–¥ –∞—É–¥—ñ–æ —Å—Ç–µ–≥–∞–Ω–æ–≥—Ä–∞—Ñ—ñ—ó, —è–∫–∏–π –≤–±—É–¥–æ–≤—É—î —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é —à–ª—è—Ö–æ–º –¥–æ–¥–∞–≤–∞–Ω–Ω—è –∫–æ—Ä–æ—Ç–∫–æ–≥–æ –∑–∞—Ç—Ä–∏–º–∞–Ω–æ–≥–æ –µ—Ö–æ (delayed echo) –¥–æ –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–æ–≥–æ –∞—É–¥—ñ–æ —Å–∏–≥–Ω–∞–ª—É. –ï—Ö–æ –Ω–∞—Å—Ç—ñ–ª—å–∫–∏ –∫–æ—Ä–æ—Ç–∫–µ (0.5-2 –º—Å) —Ç–∞ —Ç–∏—Ö–µ, —â–æ –ª—é–¥—Å—å–∫–µ –≤—É—Ö–æ –Ω–µ –º–æ–∂–µ –π–æ–≥–æ —Ä–æ–∑—Ä—ñ–∑–Ω–∏—Ç–∏ –≤—ñ–¥ –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–æ–≥–æ –∑–≤—É–∫—É.
                    </p>

                    <div class="formula-box">
                        <strong>–ú–∞—Ç–µ–º–∞—Ç–∏—á–Ω–∞ –º–æ–¥–µ–ª—å:</strong><br><br>
                        y_stego(t) = y_original(t) + Œ± √ó y_original(t - d)<br><br>

                        –î–µ:<br>
                        ‚Ä¢ y_original(t) ‚Äî –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–∏–π –∞—É–¥—ñ–æ —Å–∏–≥–Ω–∞–ª<br>
                        ‚Ä¢ d ‚Äî –∑–∞—Ç—Ä–∏–º–∫–∞ –µ—Ö–æ (delay) –≤ –º—ñ–ª—ñ—Å–µ–∫—É–Ω–¥–∞—Ö<br>
                        ‚Ä¢ Œ± ‚Äî –∞–º–ø–ª—ñ—Ç—É–¥–∞ –µ—Ö–æ (–∑–∞–∑–≤–∏—á–∞–π 0.1-0.5)<br>
                        ‚Ä¢ y_stego(t) ‚Äî —Ä–µ–∑—É–ª—å—Ç—É—é—á–∏–π —Å—Ç–µ–≥–æ-—Å–∏–≥–Ω–∞–ª –∑ –µ—Ö–æ<br><br>

                        –î–ª—è –±—ñ–Ω–∞—Ä–Ω–æ–≥–æ –∫–æ–¥—É–≤–∞–Ω–Ω—è –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å –î–í–Ü —Ä—ñ–∑–Ω—ñ –∑–∞—Ç—Ä–∏–º–∫–∏:<br>
                        ‚Ä¢ d‚ÇÄ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, 0.5 –º—Å) ‚Äî –¥–ª—è –±—ñ—Ç–∞ "0"<br>
                        ‚Ä¢ d‚ÇÅ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, 1.0 –º—Å) ‚Äî –¥–ª—è –±—ñ—Ç–∞ "1"
                    </div>

                    <h4>üéØ –ü—Ä–∏–Ω—Ü–∏–ø —Ä–æ–±–æ—Ç–∏</h4>
                    <p>
                        –ö–æ–¥—É–≤–∞–Ω–Ω—è –±—ñ—Ç–∞ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è —á–µ—Ä–µ–∑ –≤–∏–±—ñ—Ä –∑–∞—Ç—Ä–∏–º–∫–∏ –µ—Ö–æ:
                    </p>
                    <ul>
                        <li><strong>–ë—ñ—Ç "0":</strong> –¥–æ–¥–∞—î—Ç—å—Å—è –µ—Ö–æ –∑ –∫–æ—Ä–æ—Ç–∫–æ—é –∑–∞—Ç—Ä–∏–º–∫–æ—é (d‚ÇÄ = 0.5-0.8 –º—Å)</li>
                        <li><strong>–ë—ñ—Ç "1":</strong> –¥–æ–¥–∞—î—Ç—å—Å—è –µ—Ö–æ –∑ –¥–æ–≤—à–æ—é –∑–∞—Ç—Ä–∏–º–∫–æ—é (d‚ÇÅ = 1.0-1.5 –º—Å)</li>
                        <li><strong>–ê–º–ø–ª—ñ—Ç—É–¥–∞:</strong> Œ± = 0.1-0.5 (10-50% –≤—ñ–¥ –æ—Ä–∏–≥—ñ–Ω–∞–ª—É)</li>
                        <li><strong>–°–µ–≥–º–µ–Ω—Ç–∞—Ü—ñ—è:</strong> –∞—É–¥—ñ–æ –¥—ñ–ª–∏—Ç—å—Å—è –Ω–∞ —Å–µ–≥–º–µ–Ω—Ç–∏, –∫–æ–∂–µ–Ω –∫–æ–¥—É—î 1 –±—ñ—Ç</li>
                    </ul>

                    <div class="formula-box">
                        <strong>–ß–æ–º—É —Ü–µ –ø—Ä–∞—Ü—é—î?</strong><br><br>
                        –õ—é–¥—Å—å–∫–µ –≤—É—Ö–æ –Ω–µ –º–æ–∂–µ —Ä–æ–∑—Ä—ñ–∑–Ω–∏—Ç–∏ –æ–∫—Ä–µ–º—ñ –∑–≤—É–∫–∏ –±–ª–∏–∂—á–µ –Ω—ñ–∂ ~10 –º—Å:<br>
                        ‚Ä¢ –ó–∞—Ç—Ä–∏–º–∫–∞ 0.5-2 –º—Å << 10 –º—Å (–ø–æ—Ä—ñ–≥ —Ä–æ–∑–¥—ñ–ª—å–Ω–æ—Å—Ç—ñ)<br>
                        ‚Ä¢ –ï—Ö–æ —Å–ø—Ä–∏–π–º–∞—î—Ç—å—Å—è —è–∫ —á–∞—Å—Ç–∏–Ω–∞ –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–æ–≥–æ –∑–≤—É–∫—É<br>
                        ‚Ä¢ –ù–∞–≤—ñ—Ç—å –ø—Ä–∏ 30-50% –∞–º–ø–ª—ñ—Ç—É–¥—ñ –µ—Ö–æ –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è –Ω–µ–ø–æ–º—ñ—Ç–Ω–∏–º<br><br>

                        –ê–ª–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ñ—á–Ω–æ:<br>
                        ‚Ä¢ Cepstrum –∞–Ω–∞–ª—ñ–∑ –≤–∏—è–≤–ª—è—î –ø–µ—Ä—ñ–æ–¥–∏—á–Ω—ñ—Å—Ç—å –µ—Ö–æ<br>
                        ‚Ä¢ –ê–≤—Ç–æ–∫–æ—Ä–µ–ª—è—Ü—ñ—è –≤–∏—è–≤–ª—è—î –ø—ñ–∫ –Ω–∞ –∑–∞—Ç—Ä–∏–º—Ü—ñ d<br>
                        ‚Ä¢ –ó–∞—Ç—Ä–∏–º–∫–∞ d –≤–∫–∞–∑—É—î –Ω–∞ –∑–Ω–∞—á–µ–Ω–Ω—è –±—ñ—Ç–∞ (0 –∞–±–æ 1)
                    </div>
                </div>

                <div class="detection-method">
                    <h4>üìê –ü–∞—Ä–∞–º–µ—Ç—Ä–∏ Echo Hiding</h4>
                    <p><strong>1. Delay (–ó–∞—Ç—Ä–∏–º–∫–∞)</strong></p>
                    <ul>
                        <li><strong>–î—ñ–∞–ø–∞–∑–æ–Ω:</strong> 0.5-2 –º—Å (—Ç–∏–ø–æ–≤–æ)</li>
                        <li><strong>–î–ª—è "0":</strong> 0.5-0.8 –º—Å (d‚ÇÄ)</li>
                        <li><strong>–î–ª—è "1":</strong> 1.0-1.5 –º—Å (d‚ÇÅ)</li>
                        <li><strong>–í–∏–±—ñ—Ä:</strong> —Ä—ñ–∑–Ω–∏—Ü—è d‚ÇÅ - d‚ÇÄ –º–∞—î –±—É—Ç–∏ –¥–æ—Å—Ç–∞—Ç–Ω—å–æ—é –¥–ª—è –Ω–∞–¥—ñ–π–Ω–æ–≥–æ –¥–µ—Ç–µ–∫—Ç—É–≤–∞–Ω–Ω—è</li>
                    </ul>

                    <p><strong>2. Amplitude (–ê–º–ø–ª—ñ—Ç—É–¥–∞)</strong></p>
                    <ul>
                        <li><strong>–î—ñ–∞–ø–∞–∑–æ–Ω:</strong> Œ± = 0.1-0.5 (10-50%)</li>
                        <li><strong>–ö–æ–º–ø—Ä–æ–º—ñ—Å:</strong> –±—ñ–ª—å—à–µ Œ± = –∫—Ä–∞—â–µ –¥–µ—Ç–µ–∫—Ç—É–≤–∞–Ω–Ω—è, –∞–ª–µ –≥—ñ—Ä—à–∞ –Ω–µ–ø–æ–º—ñ—Ç–Ω—ñ—Å—Ç—å</li>
                        <li><strong>–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è:</strong> Œ± = 0.3-0.4 –¥–ª—è –±–∞–ª–∞–Ω—Å—É</li>
                    </ul>

                    <p><strong>3. Segment Size (–†–æ–∑–º—ñ—Ä —Å–µ–≥–º–µ–Ω—Ç—É)</strong></p>
                    <ul>
                        <li><strong>–¢–∏–ø–æ–≤–æ:</strong> 1024-8192 —Å–µ–º–ø–ª–∏ (23-186 –º—Å –ø—Ä–∏ 44.1 kHz)</li>
                        <li><strong>–ú–µ–Ω—à–∏–π —Å–µ–≥–º–µ–Ω—Ç:</strong> –≤–∏—â–∞ —î–º–Ω—ñ—Å—Ç—å, –∞–ª–µ –≥—ñ—Ä—à–µ –¥–µ—Ç–µ–∫—Ç—É–≤–∞–Ω–Ω—è</li>
                        <li><strong>–ë—ñ–ª—å—à–∏–π —Å–µ–≥–º–µ–Ω—Ç:</strong> –∫—Ä–∞—â–µ –¥–µ—Ç–µ–∫—Ç—É–≤–∞–Ω–Ω—è, –∞–ª–µ –Ω–∏–∂—á–∞ —î–º–Ω—ñ—Å—Ç—å</li>
                    </ul>

                    <div class="formula-box">
                        <strong>–û–±—á–∏—Å–ª–µ–Ω–Ω—è –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤:</strong><br><br>
                        –î–ª—è sample rate = 44100 Hz:<br>
                        ‚Ä¢ d‚ÇÄ = 0.5 –º—Å ‚Üí delay‚ÇÄ = 0.0005 √ó 44100 = 22 —Å–µ–º–ø–ª–∏<br>
                        ‚Ä¢ d‚ÇÅ = 1.0 –º—Å ‚Üí delay‚ÇÅ = 0.001 √ó 44100 = 44 —Å–µ–º–ø–ª–∏<br><br>

                        –Ñ–º–Ω—ñ—Å—Ç—å:<br>
                        ‚Ä¢ Segment size = 4096 —Å–µ–º–ø–ª—ñ–≤<br>
                        ‚Ä¢ Duration = 60 —Å–µ–∫—É–Ω–¥<br>
                        ‚Ä¢ Total segments = (44100 √ó 60) / 4096 ‚âà 646 —Å–µ–≥–º–µ–Ω—Ç—ñ–≤<br>
                        ‚Ä¢ Capacity = 646 –±—ñ—Ç ‚âà 80 –±–∞–π—Ç/—Ö–≤–∏–ª–∏–Ω–∞<br><br>

                        –ù–∞–±–∞–≥–∞—Ç–æ –º–µ–Ω—à–µ –Ω—ñ–∂ LSB, –∞–ª–µ –∑–Ω–∞—á–Ω–æ —Å—Ç—ñ–π–∫—ñ—à–µ!
                    </div>
                </div>

                <div class="detection-method">
                    <h4>üíª –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –µ—Ö–æ –≤ Python</h4>
                    <pre><code class="language-python">import numpy as np
import wave

def add_echo(audio_samples, delay_samples, amplitude):
    """
    –î–æ–¥–∞—î –µ—Ö–æ –¥–æ –∞—É–¥—ñ–æ —Å–∏–≥–Ω–∞–ª—É

    Args:
        audio_samples: numpy array –∑ –∞—É–¥—ñ–æ —Å–µ–º–ø–ª–∞–º–∏
        delay_samples: –∑–∞—Ç—Ä–∏–º–∫–∞ –µ—Ö–æ –≤ —Å–µ–º–ø–ª–∞—Ö
        amplitude: –∞–º–ø–ª—ñ—Ç—É–¥–∞ –µ—Ö–æ (0.0-1.0)

    Returns:
        stego_samples: –∞—É–¥—ñ–æ –∑ –¥–æ–¥–∞–Ω–∏–º –µ—Ö–æ
    """
    # –°—Ç–≤–æ—Ä—é—î–º–æ –∑–∞—Ç—Ä–∏–º–∞–Ω—É –∫–æ–ø—ñ—é
    delayed = np.zeros_like(audio_samples)
    delayed[delay_samples:] = audio_samples[:-delay_samples]

    # –î–æ–¥–∞—î–º–æ –µ—Ö–æ –∑ –∞–º–ø–ª—ñ—Ç—É–¥–æ—é
    stego = audio_samples + amplitude * delayed

    # –ù–æ—Ä–º–∞–ª—ñ–∑–∞—Ü—ñ—è –¥–ª—è —É–Ω–∏–∫–Ω–µ–Ω–Ω—è clipping
    max_val = np.max(np.abs(stego))
    if max_val > 32767:  # –î–ª—è 16-bit –∞—É–¥—ñ–æ
        stego = stego * (32767 / max_val)

    return stego.astype(np.int16)

# –ü—Ä–∏–∫–ª–∞–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è
samples, sr = read_wav('audio.wav')

# –ë—ñ—Ç 0: –∫–æ—Ä–æ—Ç–∫–æ–µ –µ—Ö–æ (0.5 –º—Å)
delay_0 = int(0.0005 * sr)  # 22 —Å–µ–º–ø–ª–∏ –ø—Ä–∏ 44.1 kHz
stego_0 = add_echo(samples, delay_0, amplitude=0.3)

# –ë—ñ—Ç 1: –¥–æ–≤—à–µ –µ—Ö–æ (1.0 –º—Å)
delay_1 = int(0.001 * sr)  # 44 —Å–µ–º–ø–ª–∏ –ø—Ä–∏ 44.1 kHz
stego_1 = add_echo(samples, delay_1, amplitude=0.3)</code></pre>
                </div>

                <div class="detection-method">
                    <h4>üéØ –ü–µ—Ä–µ–≤–∞–≥–∏ —Ç–∞ –Ω–µ–¥–æ–ª—ñ–∫–∏</h4>
                    <p><strong>–ü–µ—Ä–µ–≤–∞–≥–∏:</strong></p>
                    <ul>
                        <li>–í—ñ–¥–º—ñ–Ω–Ω–∞ –Ω–µ–ø–æ–º—ñ—Ç–Ω—ñ—Å—Ç—å (–µ—Ö–æ –Ω–µ —á—É—Ç–∏ –ª—é–¥–∏–Ω–æ—é)</li>
                        <li>–°—Ç—ñ–π–∫—ñ—Å—Ç—å –¥–æ MP3 –∫–æ–º–ø—Ä–µ—Å—ñ—ó —Ç–∞ —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—ó</li>
                        <li>–°—Ç—ñ–π–∫—ñ—Å—Ç—å –¥–æ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—É–≤–∞–Ω–Ω—è —Ç–∞ –ø–µ—Ä–µ–¥–∏—Å–∫—Ä–µ—Ç–∏–∑–∞—Ü—ñ—ó</li>
                        <li>–ü—Ä–∞—Ü—é—î –∑ –±—É–¥—å-—è–∫–∏–º —Ç–∏–ø–æ–º –∞—É–¥—ñ–æ (–º—É–∑–∏–∫–∞, –º–æ–≤–∞)</li>
                    </ul>

                    <p><strong>–ù–µ–¥–æ–ª—ñ–∫–∏:</strong></p>
                    <ul>
                        <li>–î—É–∂–µ –Ω–∏–∑—å–∫–∞ —î–º–Ω—ñ—Å—Ç—å (–¥–µ—Å—è—Ç–∫–∏ –±–∞–π—Ç –Ω–∞ —Ö–≤–∏–ª–∏–Ω—É)</li>
                        <li>–°–∫–ª–∞–¥–Ω—ñ—à–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è –ø–æ—Ä—ñ–≤–Ω—è–Ω–æ –∑ LSB</li>
                        <li>–ü–æ—Ç—Ä–µ–±—É—î cepstrum –∞–Ω–∞–ª—ñ–∑—É –¥–ª—è –¥–µ–∫–æ–¥—É–≤–∞–Ω–Ω—è</li>
                        <li>–ß—É—Ç–ª–∏–≤—ñ—Å—Ç—å –¥–æ —á–∞—Å–æ–≤–∏—Ö –ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω—å (time stretching)</li>
                    </ul>
                </div>
            </div>

            <!-- Cepstrum –∞–Ω–∞–ª—ñ–∑ -->
            <div class="tab-content" id="cepstrum-analysis">
                <h3>Cepstrum –∞–Ω–∞–ª—ñ–∑ –¥–ª—è –¥–µ—Ç–µ–∫—Ç—É–≤–∞–Ω–Ω—è –µ—Ö–æ</h3>

                <div class="detection-method">
                    <h4>üìä –©–æ —Ç–∞–∫–µ Cepstrum?</h4>
                    <p>
                        <strong>Cepstrum (–∫–µ–ø—Å—Ç—Ä)</strong> ‚Äî —Ü–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è inverse Fourier transform –¥–æ –ª–æ–≥–∞—Ä–∏—Ñ–º—É —Å–ø–µ–∫—Ç—Ä—É —Å–∏–≥–Ω–∞–ª—É. –ù–∞–∑–≤–∞ "cepstrum" —î –∞–Ω–∞–≥—Ä–∞–º–æ—é —Å–ª–æ–≤–∞ "spectrum" —ñ –ø—ñ–¥–∫—Ä–µ—Å–ª—é—î, —â–æ —Ü–µ "—Å–ø–µ–∫—Ç—Ä —Å–ø–µ–∫—Ç—Ä—É".
                    </p>

                    <div class="formula-box">
                        <strong>–í–∏–∑–Ω–∞—á–µ–Ω–Ω—è Cepstrum:</strong><br><br>
                        C(œÑ) = IFFT(log(|FFT(x(t))|¬≤))<br><br>

                        –î–µ:<br>
                        ‚Ä¢ x(t) ‚Äî –∞—É–¥—ñ–æ —Å–∏–≥–Ω–∞–ª<br>
                        ‚Ä¢ FFT ‚Äî —à–≤–∏–¥–∫–µ –ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è –§—É—Ä'—î<br>
                        ‚Ä¢ log ‚Äî –Ω–∞—Ç—É—Ä–∞–ª—å–Ω–∏–π –ª–æ–≥–∞—Ä–∏—Ñ–º<br>
                        ‚Ä¢ IFFT ‚Äî –æ–±–µ—Ä–Ω–µ–Ω–µ FFT<br>
                        ‚Ä¢ œÑ (—Ç–∞—É) ‚Äî quefrency (–∞–Ω–∞–ª–æ–≥ —á–∞—Å—Ç–æ—Ç–∏ –≤ cepstral domain)<br><br>

                        Quefrency –≤–∏–º—ñ—Ä—é—î—Ç—å—Å—è –≤ –æ–¥–∏–Ω–∏—Ü—è—Ö —á–∞—Å—É (—Å–µ–º–ø–ª–∏ –∞–±–æ –º—Å)<br>
                        —ñ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –ø–µ—Ä—ñ–æ–¥–∏—á–Ω–æ—Å—Ç—ñ –≤ —Å–ø–µ–∫—Ç—Ä—ñ.
                    </div>

                    <h4>üîç –ß–æ–º—É Cepstrum –≤–∏—è–≤–ª—è—î –µ—Ö–æ?</h4>
                    <p>
                        –ö–æ–ª–∏ –≤ —Å–∏–≥–Ω–∞–ª—ñ –ø—Ä–∏—Å—É—Ç–Ω—î –µ—Ö–æ, —Å–ø–µ–∫—Ç—Ä —Å—Ç–∞—î –ø–µ—Ä—ñ–æ–¥–∏—á–Ω–∏–º:
                    </p>
                    <div class="formula-box">
                        <strong>–°–∏–≥–Ω–∞–ª –∑ –µ—Ö–æ:</strong><br><br>
                        y(t) = x(t) + Œ±¬∑x(t - d)<br><br>

                        –°–ø–µ–∫—Ç—Ä:<br>
                        Y(f) = X(f) √ó (1 + Œ±¬∑e^(-j2œÄfd))<br><br>

                        –ê–º–ø–ª—ñ—Ç—É–¥–Ω–∏–π —Å–ø–µ–∫—Ç—Ä:<br>
                        |Y(f)| = |X(f)| √ó |1 + Œ±¬∑e^(-j2œÄfd)|<br><br>

                        –¶–µ–π –≤–∏—Ä–∞–∑ –ø–µ—Ä—ñ–æ–¥–∏—á–Ω–∏–π –∑ –ø–µ—Ä—ñ–æ–¥–æ–º 1/d!<br>
                        Cepstrum –≤–∏—è–≤–ª—è—î —Ü—é –ø–µ—Ä—ñ–æ–¥–∏—á–Ω—ñ—Å—Ç—å —è–∫ –ü–Ü–ö –Ω–∞ quefrency = d.
                    </div>
                </div>

                <div class="detection-method">
                    <h4>üíª –û–±—á–∏—Å–ª–µ–Ω–Ω—è Cepstrum –≤ Python</h4>
                    <pre><code class="language-python">import numpy as np
from scipy.fftpack import fft, ifft

def compute_cepstrum(audio_segment):
    """
    –û–±—á–∏—Å–ª—é—î real cepstrum –∞—É–¥—ñ–æ —Å–µ–≥–º–µ–Ω—Ç—É

    Args:
        audio_segment: numpy array –∑ –∞—É–¥—ñ–æ —Å–µ–º–ø–ª–∞–º–∏

    Returns:
        cepstrum: real cepstrum —Å–µ–≥–º–µ–Ω—Ç—É
        quefrency: –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ quefrency –∑–Ω–∞—á–µ–Ω–Ω—è
    """
    # 1. –ó–∞—Å—Ç–æ—Å–æ–≤—É—î–º–æ FFT
    spectrum = fft(audio_segment)

    # 2. –û–±—á–∏—Å–ª—é—î–º–æ log magnitude spectrum
    # –î–æ–¥–∞—î–º–æ –Ω–µ–≤–µ–ª–∏–∫–µ –∑–Ω–∞—á–µ–Ω–Ω—è –¥–ª—è —É–Ω–∏–∫–Ω–µ–Ω–Ω—è log(0)
    log_spectrum = np.log(np.abs(spectrum) + 1e-10)

    # 3. –ó–∞—Å—Ç–æ—Å–æ–≤—É—î–º–æ inverse FFT
    cepstrum = np.real(ifft(log_spectrum))

    # 4. –ë–µ—Ä–µ–º–æ —Ç—ñ–ª—å–∫–∏ –ø–µ—Ä—à—É –ø–æ–ª–æ–≤–∏–Ω—É (real cepstrum —Å–∏–º–µ—Ç—Ä–∏—á–Ω–∏–π)
    n = len(cepstrum) // 2
    cepstrum = cepstrum[:n]

    # Quefrency –≤ —Å–µ–º–ø–ª–∞—Ö
    quefrency = np.arange(n)

    return cepstrum, quefrency

def detect_echo_delay(audio_segment, sample_rate,
                      min_delay_ms=0.3, max_delay_ms=2.0):
    """
    –î–µ—Ç–µ–∫—Ç—É—î –∑–∞—Ç—Ä–∏–º–∫—É –µ—Ö–æ —á–µ—Ä–µ–∑ cepstrum –∞–Ω–∞–ª—ñ–∑

    Args:
        audio_segment: –∞—É–¥—ñ–æ —Å–µ–≥–º–µ–Ω—Ç –¥–ª—è –∞–Ω–∞–ª—ñ–∑—É
        sample_rate: —á–∞—Å—Ç–æ—Ç–∞ –¥–∏—Å–∫—Ä–µ—Ç–∏–∑–∞—Ü—ñ—ó
        min_delay_ms: –º—ñ–Ω—ñ–º–∞–ª—å–Ω–∞ –æ—á—ñ–∫—É–≤–∞–Ω–∞ –∑–∞—Ç—Ä–∏–º–∫–∞ (–º—Å)
        max_delay_ms: –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ –æ—á—ñ–∫—É–≤–∞–Ω–∞ –∑–∞—Ç—Ä–∏–º–∫–∞ (–º—Å)

    Returns:
        delay_samples: –∑–∞—Ç—Ä–∏–º–∫–∞ –≤ —Å–µ–º–ø–ª–∞—Ö
        peak_value: –≤–∏—Å–æ—Ç–∞ –ø—ñ–∫—É –≤ cepstrum
    """
    # –û–±—á–∏—Å–ª—é—î–º–æ cepstrum
    cepstrum, quefrency = compute_cepstrum(audio_segment)

    # –ö–æ–Ω–≤–µ—Ä—Ç—É—î–º–æ –º—Å –≤ —Å–µ–º–ø–ª–∏
    min_delay_samples = int(min_delay_ms * sample_rate / 1000)
    max_delay_samples = int(max_delay_ms * sample_rate / 1000)

    # –®—É–∫–∞—î–º–æ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∏–π –ø—ñ–∫ —É –∑–∞–¥–∞–Ω–æ–º—É –¥—ñ–∞–ø–∞–∑–æ–Ω—ñ
    search_range = cepstrum[min_delay_samples:max_delay_samples]

    if len(search_range) == 0:
        return 0, 0.0

    # –ó–Ω–∞—Ö–æ–¥–∏–º–æ –º–∞–∫—Å–∏–º—É–º
    peak_idx = np.argmax(search_range)
    delay_samples = min_delay_samples + peak_idx
    peak_value = search_range[peak_idx]

    return delay_samples, peak_value

# –ü—Ä–∏–∫–ª–∞–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è
segment = stego_audio[0:4096]  # –ü–µ—Ä—à–∏–π —Å–µ–≥–º–µ–Ω—Ç
delay, peak = detect_echo_delay(segment, sample_rate=44100)

print(f"–í–∏—è–≤–ª–µ–Ω–∞ –∑–∞—Ç—Ä–∏–º–∫–∞: {delay} —Å–µ–º–ø–ª—ñ–≤")
print(f"= {delay / 44100 * 1000:.2f} –º—Å")
print(f"–í–∏—Å–æ—Ç–∞ –ø—ñ–∫—É: {peak:.4f}")</code></pre>
                </div>

                <div class="detection-method">
                    <h4>üìà –í—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è Cepstrum</h4>
                    <pre><code class="language-python">import matplotlib.pyplot as plt

def plot_cepstrum_analysis(audio_segment, sample_rate,
                           d0_ms=0.5, d1_ms=1.0):
    """
    –í—ñ–∑—É–∞–ª—ñ–∑—É—î cepstrum –∑ –≤–∏–¥—ñ–ª–µ–Ω–Ω—è–º –æ—á—ñ–∫—É–≤–∞–Ω–∏—Ö –∑–∞—Ç—Ä–∏–º–æ–∫
    """
    # –û–±—á–∏—Å–ª—é—î–º–æ cepstrum
    cepstrum, quefrency = compute_cepstrum(audio_segment)

    # –ö–æ–Ω–≤–µ—Ä—Ç—É—î–º–æ quefrency –≤ –º—ñ–ª—ñ—Å–µ–∫—É–Ω–¥–∏
    quefrency_ms = quefrency / sample_rate * 1000

    # –°—Ç–≤–æ—Ä—é—î–º–æ –≥—Ä–∞—Ñ—ñ–∫
    plt.figure(figsize=(12, 6))

    # Cepstrum
    plt.plot(quefrency_ms, cepstrum, linewidth=1.5)
    plt.xlabel('Quefrency (ms)', fontsize=12)
    plt.ylabel('Amplitude', fontsize=12)
    plt.title('Cepstrum Analysis of Audio Segment', fontsize=14, fontweight='bold')
    plt.grid(True, alpha=0.3)

    # –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ñ –ª—ñ–Ω—ñ—ó –¥–ª—è –æ—á—ñ–∫—É–≤–∞–Ω–∏—Ö –∑–∞—Ç—Ä–∏–º–æ–∫
    plt.axvline(x=d0_ms, color='blue', linestyle='--',
                label=f'–û—á—ñ–∫—É–≤–∞–Ω–µ d‚ÇÄ = {d0_ms} –º—Å', alpha=0.7)
    plt.axvline(x=d1_ms, color='red', linestyle='--',
                label=f'–û—á—ñ–∫—É–≤–∞–Ω–µ d‚ÇÅ = {d1_ms} –º—Å', alpha=0.7)

    # –û–±–º–µ–∂—É—î–º–æ –¥—ñ–∞–ø–∞–∑–æ–Ω –¥–ª—è –∫—Ä–∞—â–æ—ó –≤—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—ó
    plt.xlim([0, 3.0])
    plt.legend()

    plt.tight_layout()
    plt.savefig('cepstrum_analysis.png', dpi=150)
    plt.show()

# –ü—Ä–∏–∫–ª–∞–¥
plot_cepstrum_analysis(segment, sample_rate=44100)</code></pre>
                </div>

                <div class="detection-method">
                    <h4>üéØ –î–µ–∫–æ–¥—É–≤–∞–Ω–Ω—è –±—ñ—Ç–∞ —á–µ—Ä–µ–∑ Cepstrum</h4>
                    <pre><code class="language-python">def decode_bit_from_cepstrum(segment, sample_rate,
                                d0_ms=0.5, d1_ms=1.0, threshold=0.01):
    """
    –î–µ–∫–æ–¥—É—î –±—ñ—Ç –∑ –∞—É–¥—ñ–æ —Å–µ–≥–º–µ–Ω—Ç—É —á–µ—Ä–µ–∑ cepstrum –∞–Ω–∞–ª—ñ–∑

    Args:
        segment: –∞—É–¥—ñ–æ —Å–µ–≥–º–µ–Ω—Ç
        sample_rate: —á–∞—Å—Ç–æ—Ç–∞ –¥–∏—Å–∫—Ä–µ—Ç–∏–∑–∞—Ü—ñ—ó
        d0_ms: –∑–∞—Ç—Ä–∏–º–∫–∞ –¥–ª—è –±—ñ—Ç–∞ 0
        d1_ms: –∑–∞—Ç—Ä–∏–º–∫–∞ –¥–ª—è –±—ñ—Ç–∞ 1
        threshold: –ø–æ—Ä—ñ–≥ –¥–ª—è –¥–µ—Ç–µ–∫—Ç—É–≤–∞–Ω–Ω—è –ø—ñ–∫—É

    Returns:
        bit: 0 –∞–±–æ 1, –∞–±–æ None —è–∫—â–æ –Ω–µ –≤–∏—è–≤–ª–µ–Ω–æ –µ—Ö–æ
    """
    # –û–±—á–∏—Å–ª—é—î–º–æ cepstrum
    cepstrum, _ = compute_cepstrum(segment)

    # –ö–æ–Ω–≤–µ—Ä—Ç—É—î–º–æ –∑–∞—Ç—Ä–∏–º–∫–∏ –≤ —Å–µ–º–ø–ª–∏
    d0_samples = int(d0_ms * sample_rate / 1000)
    d1_samples = int(d1_ms * sample_rate / 1000)

    # –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ –≤–∏—Å–æ—Ç—É –ø—ñ–∫—ñ–≤
    peak_0 = cepstrum[d0_samples] if d0_samples < len(cepstrum) else 0
    peak_1 = cepstrum[d1_samples] if d1_samples < len(cepstrum) else 0

    # –ü–æ—Ä—ñ–≤–Ω—é—î–º–æ –ø—ñ–∫–∏
    max_peak = max(peak_0, peak_1)

    if max_peak < threshold:
        return None  # –ï—Ö–æ –Ω–µ –≤–∏—è–≤–ª–µ–Ω–æ

    # –ü–æ–≤–µ—Ä—Ç–∞—î–º–æ –±—ñ—Ç –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ –¥–æ –≤–∏—â–æ–≥–æ –ø—ñ–∫—É
    return 0 if peak_0 > peak_1 else 1</code></pre>
                </div>

                <div class="detection-method">
                    <h4>üî¨ –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∏–π –º–µ—Ç–æ–¥: –ê–≤—Ç–æ–∫–æ—Ä–µ–ª—è—Ü—ñ—è</h4>
                    <p>
                        –û–∫—Ä—ñ–º cepstrum, –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –∞–≤—Ç–æ–∫–æ—Ä–µ–ª—è—Ü—ñ—é –¥–ª—è –≤–∏—è–≤–ª–µ–Ω–Ω—è –µ—Ö–æ:
                    </p>
                    <pre><code class="language-python">def detect_echo_autocorr(segment, sample_rate,
                          min_delay_ms=0.3, max_delay_ms=2.0):
    """
    –î–µ—Ç–µ–∫—Ç—É—î –µ—Ö–æ —á–µ—Ä–µ–∑ –∞–≤—Ç–æ–∫–æ—Ä–µ–ª—è—Ü—ñ—é

    –ê–≤—Ç–æ–∫–æ—Ä–µ–ª—è—Ü—ñ—è –ø–æ–∫–∞–∑—É—î —Å—Ö–æ–∂—ñ—Å—Ç—å —Å–∏–≥–Ω–∞–ª—É –∑ –π–æ–≥–æ –∑–∞—Ç—Ä–∏–º–∞–Ω–æ—é –≤–µ—Ä—Å—ñ—î—é
    """
    # –û–±—á–∏—Å–ª—é—î–º–æ –∞–≤—Ç–æ–∫–æ—Ä–µ–ª—è—Ü—ñ—é
    autocorr = np.correlate(segment, segment, mode='full')
    autocorr = autocorr[len(autocorr)//2:]  # –¢—ñ–ª—å–∫–∏ –ø–æ–∑–∏—Ç–∏–≤–Ω—ñ –∑–∞—Ç—Ä–∏–º–∫–∏

    # –î—ñ–∞–ø–∞–∑–æ–Ω –ø–æ—à—É–∫—É
    min_delay = int(min_delay_ms * sample_rate / 1000)
    max_delay = int(max_delay_ms * sample_rate / 1000)

    # –®—É–∫–∞—î–º–æ –ø—ñ–∫
    search_range = autocorr[min_delay:max_delay]
    peak_idx = np.argmax(search_range)
    delay = min_delay + peak_idx

    return delay, search_range[peak_idx]</code></pre>
                </div>
            </div>

            <!-- –°—Ç—ñ–π–∫—ñ—Å—Ç—å –¥–æ —à—É–º—É -->
            <div class="tab-content" id="noise-resistance">
                <h3>–°—Ç—ñ–π–∫—ñ—Å—Ç—å Echo Hiding –¥–æ —à—É–º—É</h3>

                <div class="detection-method">
                    <h4>üõ°Ô∏è –ß–æ–º—É Echo Hiding —Å—Ç—ñ–π–∫–∏–π?</h4>
                    <p>
                        Echo hiding –º–∞—î –∫—Ä–∞—â—É —Å—Ç—ñ–π–∫—ñ—Å—Ç—å –ø–æ—Ä—ñ–≤–Ω—è–Ω–æ –∑ LSB –º–µ—Ç–æ–¥–∞–º–∏ –∑–∞–≤–¥—è–∫–∏:
                    </p>
                    <ul>
                        <li><strong>–†–æ–∑–ø–æ–¥—ñ–ª–µ–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è:</strong> –±—ñ—Ç –∑–∞–∫–æ–¥–æ–≤–∞–Ω–∏–π —É —Å—Ç—Ä—É–∫—Ç—É—Ä—ñ —Å–∏–≥–Ω–∞–ª—É, –Ω–µ –≤ –æ–∫—Ä–µ–º–∏—Ö —Å–µ–º–ø–ª–∞—Ö</li>
                        <li><strong>Cepstral domain:</strong> –µ—Ö–æ –ø—Ä–æ—è–≤–ª—è—î—Ç—å—Å—è –≤ cepstrum, —è–∫–∏–π –º–µ–Ω—à —á—É—Ç–ª–∏–≤–∏–π –¥–æ –ª–æ–∫–∞–ª—å–Ω–∏—Ö –∑–º—ñ–Ω</li>
                        <li><strong>–ü–µ—Ä—Ü–µ–ø—Ç–∏–≤–Ω–∞ –Ω–µ–ø–æ–º—ñ—Ç–Ω—ñ—Å—Ç—å:</strong> –µ—Ö–æ –ø—Ä–∏—Ä–æ–¥–Ω–æ —Å–ø—Ä–∏–π–º–∞—î—Ç—å—Å—è —è–∫ —á–∞—Å—Ç–∏–Ω–∞ –∞—É–¥—ñ–æ</li>
                        <li><strong>MP3 —Å—Ç—ñ–π–∫—ñ—Å—Ç—å:</strong> –∫–æ–º–ø—Ä–µ—Å—ñ—è –∑–±–µ—Ä—ñ–≥–∞—î –≤—ñ–¥–Ω–æ—Å–Ω—ñ –∞–º–ø–ª—ñ—Ç—É–¥–∏, —Ç–æ–º—É –µ—Ö–æ –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è</li>
                    </ul>

                    <div class="formula-box">
                        <strong>–¢–∏–ø–∏ –∞—Ç–∞–∫ —Ç–∞ —Å—Ç—ñ–π–∫—ñ—Å—Ç—å:</strong><br><br>

                        <strong>–í–∏—Å–æ–∫–æ —Å—Ç—ñ–π–∫—ñ:</strong><br>
                        ‚Ä¢ MP3 –∫–æ–º–ø—Ä–µ—Å—ñ—è (–¥–æ 128 kbps)<br>
                        ‚Ä¢ –ë—ñ–ª–∏–π —à—É–º (SNR > 20 dB)<br>
                        ‚Ä¢ Equalizing (–µ–∫–≤–∞–ª—ñ–∑–∞—Ü—ñ—è)<br>
                        ‚Ä¢ D/A —Ç–∞ A/D –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü—ñ—è<br>
                        ‚Ä¢ Resampling (–ø–µ—Ä–µ–¥–∏—Å–∫—Ä–µ—Ç–∏–∑–∞—Ü—ñ—è)<br><br>

                        <strong>–°–µ—Ä–µ–¥–Ω—è —Å—Ç—ñ–π–∫—ñ—Å—Ç—å:</strong><br>
                        ‚Ä¢ –°–∏–ª—å–Ω–∏–π —à—É–º (SNR < 20 dB)<br>
                        ‚Ä¢ –§—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è (high-pass/low-pass)<br>
                        ‚Ä¢ –î–∏–Ω–∞–º—ñ—á–Ω–∞ –∫–æ–º–ø—Ä–µ—Å—ñ—è<br><br>

                        <strong>–í—Ä–∞–∑–ª–∏–≤–∏–π –¥–æ:</strong><br>
                        ‚Ä¢ Time stretching (—Ä–æ–∑—Ç—è–≥—É–≤–∞–Ω–Ω—è —á–∞—Å—É)<br>
                        ‚Ä¢ Pitch shifting (–∑–º—ñ–Ω–∞ –≤–∏—Å–æ—Ç–∏ —Ç–æ–Ω—É)<br>
                        ‚Ä¢ –†–µ–≤–µ—Ä—Å (reverse)<br>
                        ‚Ä¢ –°–∏–ª—å–Ω–µ –æ–±—Ä—ñ–∑–∞–Ω–Ω—è (cropping)
                    </div>
                </div>

                <div class="detection-method">
                    <h4>üîä –î–æ–¥–∞–≤–∞–Ω–Ω—è —à—É–º—É –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è</h4>
                    <pre><code class="language-python">def add_noise(audio, snr_db):
    """
    –î–æ–¥–∞—î –±—ñ–ª–∏–π –≥–∞—É—Å—ñ–≤ —à—É–º –¥–æ –∞—É–¥—ñ–æ –∑ –∑–∞–¥–∞–Ω–∏–º SNR

    Args:
        audio: numpy array –∑ –∞—É–¥—ñ–æ —Å–µ–º–ø–ª–∞–º–∏
        snr_db: –±–∞–∂–∞–Ω–∏–π SNR –≤ –¥–µ—Ü–∏–±–µ–ª–∞—Ö

    Returns:
        noisy_audio: –∞—É–¥—ñ–æ –∑ —à—É–º–æ–º
    """
    # –ü–æ—Ç—É–∂–Ω—ñ—Å—Ç—å —Å–∏–≥–Ω–∞–ª—É
    signal_power = np.mean(audio ** 2)

    # –ù–µ–æ–±—Ö—ñ–¥–Ω–∞ –ø–æ—Ç—É–∂–Ω—ñ—Å—Ç—å —à—É–º—É
    snr_linear = 10 ** (snr_db / 10)
    noise_power = signal_power / snr_linear

    # –ì–µ–Ω–µ—Ä—É—î–º–æ –≥–∞—É—Å—ñ–≤ —à—É–º
    noise = np.random.normal(0, np.sqrt(noise_power), len(audio))

    # –î–æ–¥–∞—î–º–æ —à—É–º
    noisy = audio + noise

    # –ù–æ—Ä–º–∞–ª—ñ–∑–∞—Ü—ñ—è –¥–ª—è 16-bit
    noisy = np.clip(noisy, -32768, 32767)

    return noisy.astype(np.int16)

# –ü—Ä–∏–∫–ª–∞–¥: —Ä—ñ–∑–Ω—ñ —Ä—ñ–≤–Ω—ñ SNR
snr_levels = [40, 30, 20, 10]  # dB

for snr in snr_levels:
    noisy = add_noise(stego_audio, snr)
    write_wav(f'stego_snr{snr}db.wav', noisy, sr, channels, width)
    print(f"–°—Ç–≤–æ—Ä–µ–Ω–æ —Å—Ç–µ–≥–æ –∑ SNR = {snr} dB")</code></pre>
                </div>

                <div class="detection-method">
                    <h4>üß™ MP3 –∫–æ–º–ø—Ä–µ—Å—ñ—è</h4>
                    <pre><code class="language-python">import subprocess

def compress_to_mp3(wav_file, mp3_file, bitrate='128k'):
    """
    –ö–æ–º–ø—Ä–µ—Å—É—î WAV –≤ MP3 –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ ffmpeg

    Args:
        wav_file: —à–ª—è—Ö –¥–æ WAV —Ñ–∞–π–ª—É
        mp3_file: —à–ª—è—Ö –¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è MP3
        bitrate: –±—ñ—Ç—Ä–µ–π—Ç MP3 (64k, 128k, 192k, 320k)

    –í–ê–ñ–õ–ò–í–û: –ü–æ—Ç—Ä–µ–±—É—î –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ–≥–æ ffmpeg
    """
    command = [
        'ffmpeg', '-i', wav_file,
        '-codec:a', 'libmp3lame',
        '-b:a', bitrate,
        mp3_file,
        '-y'  # –ü–µ—Ä–µ–∑–∞–ø–∏—Å–∞—Ç–∏ —è–∫—â–æ —ñ—Å–Ω—É—î
    ]

    try:
        subprocess.run(command, check=True,
                      capture_output=True, text=True)
        print(f"‚úÖ MP3 –∫–æ–º–ø—Ä–µ—Å—ñ—è: {bitrate} ‚Üí {mp3_file}")
        return True
    except subprocess.CalledProcessError as e:
        print(f"‚ùå –ü–æ–º–∏–ª–∫–∞ –∫–æ–º–ø—Ä–µ—Å—ñ—ó: {e}")
        return False

def mp3_to_wav(mp3_file, wav_file):
    """
    –ö–æ–Ω–≤–µ—Ä—Ç—É—î MP3 –Ω–∞–∑–∞–¥ —É WAV –¥–ª—è –∞–Ω–∞–ª—ñ–∑—É
    """
    command = [
        'ffmpeg', '-i', mp3_file,
        '-ar', '44100',  # Sample rate
        '-ac', '2',      # Channels
        wav_file,
        '-y'
    ]

    try:
        subprocess.run(command, check=True,
                      capture_output=True, text=True)
        print(f"‚úÖ –ö–æ–Ω–≤–µ—Ä—Ç–æ–≤–∞–Ω–æ –Ω–∞–∑–∞–¥: {wav_file}")
        return True
    except subprocess.CalledProcessError as e:
        print(f"‚ùå –ü–æ–º–∏–ª–∫–∞ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü—ñ—ó: {e}")
        return False

# –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è —Ä—ñ–∑–Ω–∏—Ö –±—ñ—Ç—Ä–µ–π—Ç—ñ–≤ MP3
bitrates = ['64k', '128k', '192k', '320k']

for br in bitrates:
    mp3_file = f'stego_{br}.mp3'
    wav_back = f'stego_{br}_back.wav'

    # WAV ‚Üí MP3 ‚Üí WAV
    if compress_to_mp3('stego.wav', mp3_file, br):
        mp3_to_wav(mp3_file, wav_back)

        # –¢–µ—Å—Ç—É—î–º–æ –¥–µ–∫–æ–¥—É–≤–∞–Ω–Ω—è
        success = test_decode(wav_back)
        print(f"–ë–∏—Ç—Ä–µ–π—Ç {br}: {'‚úÖ OK' if success else '‚ùå FAIL'}")</code></pre>
                </div>

                <div class="detection-method">
                    <h4>üìä –ú–µ—Ç—Ä–∏–∫–∏ —Å—Ç—ñ–π–∫–æ—Å—Ç—ñ</h4>
                    <pre><code class="language-python">def calculate_ber(original_bits, decoded_bits):
    """
    –û–±—á–∏—Å–ª—é—î Bit Error Rate (BER)

    Args:
        original_bits: –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω—ñ –±—ñ—Ç–∏ (list –∞–±–æ str)
        decoded_bits: –¥–µ–∫–æ–¥–æ–≤–∞–Ω—ñ –±—ñ—Ç–∏ (list –∞–±–æ str)

    Returns:
        ber: —á–∞—Å—Ç–∫–∞ –ø–æ–º–∏–ª–∫–æ–≤–∏—Ö –±—ñ—Ç (0.0-1.0)
    """
    if len(original_bits) != len(decoded_bits):
        # –Ø–∫—â–æ –¥–æ–≤–∂–∏–Ω–∏ –Ω–µ —Å–ø—ñ–≤–ø–∞–¥–∞—é—Ç—å, –ø—ñ–¥—Ä–∞—Ö—É—î–º–æ —Ç—ñ–ª—å–∫–∏ –¥–æ –º–µ–Ω—à–æ—ó
        min_len = min(len(original_bits), len(decoded_bits))
        original_bits = original_bits[:min_len]
        decoded_bits = decoded_bits[:min_len]

    errors = sum(1 for a, b in zip(original_bits, decoded_bits) if a != b)
    ber = errors / len(original_bits)

    return ber

def robustness_report(original_message, attacks):
    """
    –°—Ç–≤–æ—Ä—é—î –∑–≤—ñ—Ç –ø—Ä–æ —Å—Ç—ñ–π–∫—ñ—Å—Ç—å –¥–æ –∞—Ç–∞–∫

    Args:
        original_message: –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è (bytes)
        attacks: dict –∑ –Ω–∞–∑–≤–∞–º–∏ –∞—Ç–∞–∫ —Ç–∞ –¥–µ–∫–æ–¥–æ–≤–∞–Ω–∏–º–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è–º–∏
    """
    print("\n" + "="*60)
    print("–ó–í–Ü–¢ –ü–†–û –°–¢–Ü–ô–ö–Ü–°–¢–¨ ECHO HIDING")
    print("="*60)
    print(f"–û—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è: {original_message.decode('utf-8', errors='ignore')}")
    print(f"–î–æ–≤–∂–∏–Ω–∞: {len(original_message)} –±–∞–π—Ç = {len(original_message)*8} –±—ñ—Ç")
    print("-"*60)

    # –ö–æ–Ω–≤–µ—Ä—Ç—É—î–º–æ –≤ –±—ñ—Ç–∏
    orig_bits = ''.join([format(b, '08b') for b in original_message])

    results = []
    for attack_name, decoded_msg in attacks.items():
        if decoded_msg is None:
            ber = 1.0
            status = "‚ùå FAIL (–Ω–µ –≤–¥–∞–ª–æ—Å—è –¥–µ–∫–æ–¥—É–≤–∞—Ç–∏)"
        else:
            # –ö–æ–Ω–≤–µ—Ä—Ç—É—î–º–æ –¥–µ–∫–æ–¥–æ–≤–∞–Ω–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤ –±—ñ—Ç–∏
            decoded_bits = ''.join([format(b, '08b') for b in decoded_msg])
            ber = calculate_ber(orig_bits, decoded_bits)

            if ber == 0:
                status = "‚úÖ OK (–±–µ–∑ –ø–æ–º–∏–ª–æ–∫)"
            elif ber < 0.1:
                status = f"‚ö†Ô∏è OK (BER={ber:.2%})"
            else:
                status = f"‚ùå FAIL (BER={ber:.2%})"

        results.append({
            'attack': attack_name,
            'ber': ber,
            'status': status
        })

        print(f"{attack_name:<30} {status}")

    print("-"*60)

    # –°–µ—Ä–µ–¥–Ω—ñ–π BER
    avg_ber = np.mean([r['ber'] for r in results])
    success_rate = sum(1 for r in results if r['ber'] < 0.1) / len(results)

    print(f"–°–µ—Ä–µ–¥–Ω—ñ–π BER: {avg_ber:.2%}")
    print(f"Success rate: {success_rate:.1%}")
    print("="*60)

    return results</code></pre>
                </div>

                <div class="detection-method">
                    <h4>üîß –ú–µ—Ç–æ–¥–∏ –ø—ñ–¥–≤–∏—â–µ–Ω–Ω—è —Å—Ç—ñ–π–∫–æ—Å—Ç—ñ</h4>
                    <ul>
                        <li><strong>Error Correction Codes (ECC):</strong> Reed-Solomon –∞–±–æ Hamming –∫–æ–¥–∏ –¥–ª—è –∫–æ—Ä–µ–∫—Ü—ñ—ó –ø–æ–º–∏–ª–æ–∫</li>
                        <li><strong>–ó–±—ñ–ª—å—à–µ–Ω–Ω—è –∞–º–ø–ª—ñ—Ç—É–¥–∏:</strong> Œ± = 0.4-0.5 –∑–∞–º—ñ—Å—Ç—å 0.3</li>
                        <li><strong>–ë—ñ–ª—å—à—ñ —Å–µ–≥–º–µ–Ω—Ç–∏:</strong> 8192 –∑–∞–º—ñ—Å—Ç—å 4096 —Å–µ–º–ø–ª—ñ–≤</li>
                        <li><strong>–ü–æ–≤—Ç–æ—Ä–µ–Ω–Ω—è:</strong> –∫–æ–¥—É–≤–∞—Ç–∏ –∫–æ–∂–µ–Ω –±—ñ—Ç –≤ –¥–µ–∫—ñ–ª—å–∫–æ—Ö —Å–µ–≥–º–µ–Ω—Ç–∞—Ö</li>
                        <li><strong>–ê–¥–∞–ø—Ç–∏–≤–Ω—ñ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏:</strong> –ø—ñ–¥–±—ñ—Ä d‚ÇÄ, d‚ÇÅ –∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ –∫–æ–Ω—Ç–µ–Ω—Ç—É</li>
                        <li><strong>Preamble:</strong> –¥–æ–¥–∞–≤–∞–Ω–Ω—è —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ–π–Ω–æ—ó –ø–æ—Å–ª—ñ–¥–æ–≤–Ω–æ—Å—Ç—ñ</li>
                    </ul>
                </div>
            </div>

            <!-- –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –º–µ—Ç–æ–¥—ñ–≤ -->
            <div class="tab-content" id="comparison">
                <h3>–ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è Echo Hiding –∑ —ñ–Ω—à–∏–º–∏ –º–µ—Ç–æ–¥–∞–º–∏</h3>

                <div class="detection-method">
                    <h4>üìä –ü–æ—Ä—ñ–≤–Ω—è–ª—å–Ω–∞ —Ç–∞–±–ª–∏—Ü—è</h4>
                    <table style="width: 100%; border-collapse: collapse; margin-top: 15px;">
                        <thead>
                            <tr style="background: var(--color-primary); color: white;">
                                <th style="padding: 12px; border: 1px solid #ddd;">–ú–µ—Ç–æ–¥</th>
                                <th style="padding: 12px; border: 1px solid #ddd;">–Ñ–º–Ω—ñ—Å—Ç—å</th>
                                <th style="padding: 12px; border: 1px solid #ddd;">–ù–µ–ø–æ–º—ñ—Ç–Ω—ñ—Å—Ç—å</th>
                                <th style="padding: 12px; border: 1px solid #ddd;">–°—Ç—ñ–π–∫—ñ—Å—Ç—å –¥–æ MP3</th>
                                <th style="padding: 12px; border: 1px solid #ddd;">–°—Ç—ñ–π–∫—ñ—Å—Ç—å –¥–æ —à—É–º—É</th>
                                <th style="padding: 12px; border: 1px solid #ddd;">–°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td style="padding: 10px; border: 1px solid #ddd;"><strong>LSB</strong></td>
                                <td style="padding: 10px; border: 1px solid #ddd;">–î—É–∂–µ –≤–∏—Å–æ–∫–∞</td>
                                <td style="padding: 10px; border: 1px solid #ddd;">–•–æ—Ä–æ—à–∞</td>
                                <td style="padding: 10px; border: 1px solid #ddd;">‚ùå –î—É–∂–µ –Ω–∏–∑—å–∫–∞</td>
                                <td style="padding: 10px; border: 1px solid #ddd;">‚ùå –ù–∏–∑—å–∫–∞</td>
                                <td style="padding: 10px; border: 1px solid #ddd;">–ü—Ä–æ—Å—Ç–∞</td>
                            </tr>
                            <tr style="background: #f9f9f9;">
                                <td style="padding: 10px; border: 1px solid #ddd;"><strong>Phase Coding</strong></td>
                                <td style="padding: 10px; border: 1px solid #ddd;">–î—É–∂–µ –Ω–∏–∑—å–∫–∞</td>
                                <td style="padding: 10px; border: 1px solid #ddd;">–í—ñ–¥–º—ñ–Ω–Ω–∞</td>
                                <td style="padding: 10px; border: 1px solid #ddd;">‚ö†Ô∏è –°–µ—Ä–µ–¥–Ω—è</td>
                                <td style="padding: 10px; border: 1px solid #ddd;">‚ö†Ô∏è –°–µ—Ä–µ–¥–Ω—è</td>
                                <td style="padding: 10px; border: 1px solid #ddd;">–°–µ—Ä–µ–¥–Ω—è</td>
                            </tr>
                            <tr>
                                <td style="padding: 10px; border: 1px solid #ddd;"><strong>Echo Hiding</strong></td>
                                <td style="padding: 10px; border: 1px solid #ddd;">–ù–∏–∑—å–∫–∞</td>
                                <td style="padding: 10px; border: 1px solid #ddd;">–í—ñ–¥–º—ñ–Ω–Ω–∞</td>
                                <td style="padding: 10px; border: 1px solid #ddd;">‚úÖ –í–∏—Å–æ–∫–∞</td>
                                <td style="padding: 10px; border: 1px solid #ddd;">‚úÖ –í–∏—Å–æ–∫–∞</td>
                                <td style="padding: 10px; border: 1px solid #ddd;">–°–µ—Ä–µ–¥–Ω—è</td>
                            </tr>
                            <tr style="background: #f9f9f9;">
                                <td style="padding: 10px; border: 1px solid #ddd;"><strong>Spread Spectrum</strong></td>
                                <td style="padding: 10px; border: 1px solid #ddd;">–î—É–∂–µ –Ω–∏–∑—å–∫–∞</td>
                                <td style="padding: 10px; border: 1px solid #ddd;">–í—ñ–¥–º—ñ–Ω–Ω–∞</td>
                                <td style="padding: 10px; border: 1px solid #ddd;">‚úÖ –î—É–∂–µ –≤–∏—Å–æ–∫–∞</td>
                                <td style="padding: 10px; border: 1px solid #ddd;">‚úÖ –î—É–∂–µ –≤–∏—Å–æ–∫–∞</td>
                                <td style="padding: 10px; border: 1px solid #ddd;">–°–∫–ª–∞–¥–Ω–∞</td>
                            </tr>
                        </tbody>
                    </table>

                    <p style="margin-top: 15px;"><strong>–í–∏—Å–Ω–æ–≤–æ–∫:</strong> Echo hiding —î –æ–ø—Ç–∏–º–∞–ª—å–Ω–∏–º –≤–∏–±–æ—Ä–æ–º –∫–æ–ª–∏ –ø–æ—Ç—Ä—ñ–±–Ω–∞ —Å—Ç—ñ–π–∫—ñ—Å—Ç—å –¥–æ –∫–æ–º–ø—Ä–µ—Å—ñ—ó —Ç–∞ —à—É–º—É, –∞ –Ω–∏–∑—å–∫–∞ —î–º–Ω—ñ—Å—Ç—å —î –ø—Ä–∏–π–Ω—è—Ç–Ω–æ—é. –î–ª—è –≤–∏—Å–æ–∫–æ—ó —î–º–Ω–æ—Å—Ç—ñ –∫—Ä–∞—â–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ LSB —É –Ω–µ—Å–∂–∞—Ç–∏—Ö —Ñ–æ—Ä–º–∞—Ç–∞—Ö.</p>
                </div>

                <div class="detection-method">
                    <h4>üéØ Echo Hiding vs LSB</h4>
                    <div class="formula-box">
                        <strong>–ö–æ–ª–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ Echo Hiding:</strong><br>
                        ‚úÖ –ê—É–¥—ñ–æ –±—É–¥–µ –∫–æ–º–ø—Ä–µ—Å—É–≤–∞—Ç–∏—Å—å –≤ MP3/AAC<br>
                        ‚úÖ –ú–æ–∂–ª–∏–≤–µ –¥–æ–¥–∞–≤–∞–Ω–Ω—è —à—É–º—É –∞–±–æ —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è<br>
                        ‚úÖ –ü–æ—Ç—Ä—ñ–±–Ω–∞ –≤–∏—Å–æ–∫–∞ –±–µ–∑–ø–µ–∫–∞ (–≤–∞–∂–∫–æ –≤–∏—è–≤–∏—Ç–∏)<br>
                        ‚úÖ –ù–µ–≤–µ–ª–∏–∫–∏–π –æ–±—Å—è–≥ –¥–∞–Ω–∏—Ö (–¥–æ 1 KB –Ω–∞ —Ö–≤–∏–ª–∏–Ω—É)<br><br>

                        <strong>–ö–æ–ª–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ LSB:</strong><br>
                        ‚úÖ –ê—É–¥—ñ–æ –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è —É WAV —Ñ–æ—Ä–º–∞—Ç—ñ<br>
                        ‚úÖ –ù–µ–º–∞—î –æ–±—Ä–æ–±–∫–∏/–∫–æ–º–ø—Ä–µ—Å—ñ—ó<br>
                        ‚úÖ –ü–æ—Ç—Ä—ñ–±–Ω–∞ –≤–∏—Å–æ–∫–∞ —î–º–Ω—ñ—Å—Ç—å (–¥–µ—Å—è—Ç–∫–∏ KB –Ω–∞ —Ö–≤–∏–ª–∏–Ω—É)<br>
                        ‚úÖ –ü—Ä–æ—Å—Ç–æ—Ç–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó –≤–∞–∂–ª–∏–≤—ñ—à–∞ –∑–∞ —Å—Ç—ñ–π–∫—ñ—Å—Ç—å
                    </div>
                </div>

                <div class="detection-method">
                    <h4>üìà –ö—ñ–ª—å–∫—ñ—Å–Ω–µ –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è</h4>
                    <pre><code class="language-python">import matplotlib.pyplot as plt
import numpy as np

# –î–∞–Ω—ñ –¥–ª—è –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è (–¥–ª—è 1 —Ö–≤–∏–ª–∏–Ω–∏ –∞—É–¥—ñ–æ)
methods = ['LSB\n(1-bit)', 'LSB\n(2-bit)', 'Phase\nCoding', 'Echo\nHiding', 'Spread\nSpectrum']

# –Ñ–º–Ω—ñ—Å—Ç—å (–±–∞–π—Ç–∏ –Ω–∞ —Ö–≤–∏–ª–∏–Ω—É)
capacity = [661500, 1323000, 100, 80, 50]

# –°—Ç—ñ–π–∫—ñ—Å—Ç—å –¥–æ MP3 (—É–º–æ–≤–Ω–∞ –æ—Ü—ñ–Ω–∫–∞ 0-10)
mp3_robustness = [1, 0.5, 5, 8, 9]

# –ù–µ–ø–æ–º—ñ—Ç–Ω—ñ—Å—Ç—å (—É–º–æ–≤–Ω–∞ –æ—Ü—ñ–Ω–∫–∞ 0-10)
imperceptibility = [7, 6, 9, 9.5, 9.5]

# –°—Ç–≤–æ—Ä—é—î–º–æ –ø–æ—Ä—ñ–≤–Ω—è–ª—å–Ω—ñ –≥—Ä–∞—Ñ—ñ–∫–∏
fig, axes = plt.subplots(1, 3, figsize=(16, 5))

# 1. –Ñ–º–Ω—ñ—Å—Ç—å (–ª–æ–≥–∞—Ä–∏—Ñ–º—ñ—á–Ω–∞ —à–∫–∞–ª–∞)
axes[0].bar(methods, capacity, color=['#3498db', '#2980b9', '#9b59b6', '#e74c3c', '#e67e22'], alpha=0.8)
axes[0].set_yscale('log')
axes[0].set_ylabel('–Ñ–º–Ω—ñ—Å—Ç—å (–±–∞–π—Ç–∏/—Ö–≤–∏–ª–∏–Ω–∞)', fontsize=11)
axes[0].set_title('–Ñ–º–Ω—ñ—Å—Ç—å –º–µ—Ç–æ–¥—ñ–≤', fontsize=13, fontweight='bold')
axes[0].grid(True, alpha=0.3, axis='y')

# 2. –°—Ç—ñ–π–∫—ñ—Å—Ç—å –¥–æ MP3
axes[1].bar(methods, mp3_robustness, color=['#3498db', '#2980b9', '#9b59b6', '#e74c3c', '#e67e22'], alpha=0.8)
axes[1].set_ylabel('–°—Ç—ñ–π–∫—ñ—Å—Ç—å –¥–æ MP3 (0-10)', fontsize=11)
axes[1].set_title('–°—Ç—ñ–π–∫—ñ—Å—Ç—å –¥–æ MP3 –∫–æ–º–ø—Ä–µ—Å—ñ—ó', fontsize=13, fontweight='bold')
axes[1].set_ylim([0, 10])
axes[1].grid(True, alpha=0.3, axis='y')

# 3. –ù–µ–ø–æ–º—ñ—Ç–Ω—ñ—Å—Ç—å
axes[2].bar(methods, imperceptibility, color=['#3498db', '#2980b9', '#9b59b6', '#e74c3c', '#e67e22'], alpha=0.8)
axes[2].set_ylabel('–ù–µ–ø–æ–º—ñ—Ç–Ω—ñ—Å—Ç—å (0-10)', fontsize=11)
axes[2].set_title('–ü–µ—Ä—Ü–µ–ø—Ç–∏–≤–Ω–∞ –Ω–µ–ø–æ–º—ñ—Ç–Ω—ñ—Å—Ç—å', fontsize=13, fontweight='bold')
axes[2].set_ylim([0, 10])
axes[2].grid(True, alpha=0.3, axis='y')

plt.tight_layout()
plt.savefig('methods_comparison.png', dpi=150, bbox_inches='tight')
print("üìä –ì—Ä–∞—Ñ—ñ–∫ –∑–±–µ—Ä–µ–∂–µ–Ω–æ: methods_comparison.png")
plt.show()</code></pre>
                </div>

                <div class="detection-method">
                    <h4>üî¨ –°—Ü–µ–Ω–∞—Ä—ñ—ó –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è</h4>
                    <p><strong>Echo Hiding —ñ–¥–µ–∞–ª—å–Ω–æ –ø—ñ–¥—Ö–æ–¥–∏—Ç—å –¥–ª—è:</strong></p>
                    <ul>
                        <li>–í–æ–¥—è–Ω—ñ –∑–Ω–∞–∫–∏ (watermarking) –≤ –º—É–∑–∏—Ü—ñ —Ç–∞ –∞—É–¥—ñ–æ–∫–Ω–∏–≥–∞—Ö</li>
                        <li>–ü–µ—Ä–µ–¥–∞—á–∞ –∫–æ—Ä–æ—Ç–∫–∏—Ö –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å —á–µ—Ä–µ–∑ —Ä–∞–¥—ñ–æ/—Å—Ç—Ä–∏–º—ñ–Ω–≥</li>
                        <li>–ê—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è —Ç–∞ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –∞–≤—Ç–æ—Ä—Å—Ç–≤–∞</li>
                        <li>–ö–∞–Ω–∞–ª –∑–≤'—è–∑–∫—É –≤ —É–º–æ–≤–∞—Ö —à—É–º–Ω–æ–≥–æ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞</li>
                        <li>–ü—Ä–∏—Ö–æ–≤–∞–Ω–µ –ø–µ—Ä–µ–¥–∞–≤–∞–Ω–Ω—è –∫–ª—é—á—ñ–≤ —à–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è</li>
                    </ul>

                    <p><strong>Echo Hiding –ù–ï –ø—ñ–¥—Ö–æ–¥–∏—Ç—å –¥–ª—è:</strong></p>
                    <ul>
                        <li>–ü–µ—Ä–µ–¥–∞—á–∞ –≤–µ–ª–∏–∫–∏—Ö —Ñ–∞–π–ª—ñ–≤ (–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ LSB —É WAV)</li>
                        <li>–†–µ–∞–ª-—Ç–∞–π–º –æ–±—Ä–æ–±–∫–∞ (–≤–∏—Å–æ–∫–∞ –æ–±—á–∏—Å–ª—é–≤–∞–ª—å–Ω–∞ —Å–∫–ª–∞–¥–Ω—ñ—Å—Ç—å)</li>
                        <li>–ê—É–¥—ñ–æ –∑ —Å–∏–ª—å–Ω–æ—é –æ–±—Ä–æ–±–∫–æ—é (time stretching, pitch shift)</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- –ü—Ä–∞–∫—Ç–∏—á–Ω—ñ –∑–∞–≤–¥–∞–Ω–Ω—è -->
    <section>
        <h2>üíª –ü—Ä–∞–∫—Ç–∏—á–Ω—ñ –∑–∞–≤–¥–∞–Ω–Ω—è</h2>

        <!-- –ó–∞–≤–¥–∞–Ω–Ω—è 1 -->
        <div class="task-box">
            <h3><span class="step-number">1</span>–ë–∞–∑–æ–≤–∏–π Echo Encoder</h3>

            <h4>–í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –±—ñ–±–ª—ñ–æ—Ç–µ–∫:</h4>
            <pre class="python"><code># –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –Ω–µ–æ–±—Ö—ñ–¥–Ω–∏—Ö –±—ñ–±–ª—ñ–æ—Ç–µ–∫
# –í —Ç–µ—Ä–º—ñ–Ω–∞–ª—ñ:
# pip install numpy scipy librosa matplotlib

import wave
import numpy as np
import matplotlib.pyplot as plt
from scipy.fftpack import fft, ifft

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≤–µ—Ä—Å—ñ–π
print("NumPy –≤–µ—Ä—Å—ñ—è:", np.__version__)
print("‚úÖ –ë—ñ–±–ª—ñ–æ—Ç–µ–∫–∏ —É—Å–ø—ñ—à–Ω–æ —ñ–º–ø–æ—Ä—Ç–æ–≤–∞–Ω—ñ!")
</code></pre>

            <h4>–ë–∞–∑–æ–≤—ñ —Ñ—É–Ω–∫—Ü—ñ—ó –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ WAV:</h4>
            <pre class="python"><code>def read_wav(filename):
    """
    –ß–∏—Ç–∞–Ω–Ω—è WAV —Ñ–∞–π–ª—É

    Returns:
        samples: numpy array –∑ –∞—É–¥—ñ–æ —Å–µ–º–ø–ª–∞–º–∏ (int16)
        params: –∫–æ—Ä—Ç–µ–∂ (sample_rate, n_channels, sample_width)
    """
    with wave.open(filename, 'rb') as wav:
        n_channels = wav.getnchannels()
        sample_width = wav.getsampwidth()
        framerate = wav.getframerate()
        n_frames = wav.getnframes()

        audio_data = wav.readframes(n_frames)

        # –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü—ñ—è –≤ numpy array (16-bit signed)
        samples = np.frombuffer(audio_data, dtype=np.int16)

    print(f"üìÇ –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–æ: {filename}")
    print(f"   {n_channels} –∫–∞–Ω–∞–ª(—ñ–≤), {sample_width*8}-bit, {framerate} Hz")
    print(f"   –¢—Ä–∏–≤–∞–ª—ñ—Å—Ç—å: {n_frames/framerate:.2f} —Å–µ–∫, {len(samples)} —Å–µ–º–ø–ª—ñ–≤")

    return samples, (framerate, n_channels, sample_width)

def write_wav(filename, samples, params):
    """
    –ó–∞–ø–∏—Å WAV —Ñ–∞–π–ª—É

    Args:
        samples: numpy array –∑ –∞—É–¥—ñ–æ —Å–µ–º–ø–ª–∞–º–∏
        params: (sample_rate, n_channels, sample_width)
    """
    framerate, n_channels, sample_width = params

    with wave.open(filename, 'wb') as wav:
        wav.setnchannels(n_channels)
        wav.setsampwidth(sample_width)
        wav.setframerate(framerate)
        wav.writeframes(samples.tobytes())

    print(f"‚úÖ –ó–±–µ—Ä–µ–∂–µ–Ω–æ: {filename}")

print("–§—É–Ω–∫—Ü—ñ—ó –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ WAV –≥–æ—Ç–æ–≤—ñ!")
</code></pre>

            <h4>–†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó –µ—Ö–æ:</h4>
            <pre class="python"><code>def add_echo(audio_samples, delay_ms, amplitude, sample_rate):
    """
    –î–æ–¥–∞—î –µ—Ö–æ –¥–æ –∞—É–¥—ñ–æ —Å–∏–≥–Ω–∞–ª—É

    Args:
        audio_samples: numpy array –∑ –∞—É–¥—ñ–æ —Å–µ–º–ø–ª–∞–º–∏ (int16)
        delay_ms: –∑–∞—Ç—Ä–∏–º–∫–∞ –µ—Ö–æ –≤ –º—ñ–ª—ñ—Å–µ–∫—É–Ω–¥–∞—Ö (float)
        amplitude: –∞–º–ø–ª—ñ—Ç—É–¥–∞ –µ—Ö–æ (0.0-1.0)
        sample_rate: —á–∞—Å—Ç–æ—Ç–∞ –¥–∏—Å–∫—Ä–µ—Ç–∏–∑–∞—Ü—ñ—ó (Hz)

    Returns:
        stego_samples: –∞—É–¥—ñ–æ –∑ –¥–æ–¥–∞–Ω–∏–º –µ—Ö–æ (int16)
    """
    # –ö–æ–Ω–≤–µ—Ä—Ç—É—î–º–æ –∑–∞—Ç—Ä–∏–º–∫—É –∑ –º—Å –≤ —Å–µ–º–ø–ª–∏
    delay_samples = int(delay_ms * sample_rate / 1000)

    print(f"üîä –î–æ–¥–∞–≤–∞–Ω–Ω—è –µ—Ö–æ:")
    print(f"   –ó–∞—Ç—Ä–∏–º–∫–∞: {delay_ms} –º—Å = {delay_samples} —Å–µ–º–ø–ª—ñ–≤")
    print(f"   –ê–º–ø–ª—ñ—Ç—É–¥–∞: {amplitude}")

    # –ü—Ä–∞—Ü—é—î–º–æ –∑ float –¥–ª—è —Ç–æ—á–Ω–æ—Å—Ç—ñ
    audio_float = audio_samples.astype(np.float32)

    # –°—Ç–≤–æ—Ä—é—î–º–æ –∑–∞—Ç—Ä–∏–º–∞–Ω—É –∫–æ–ø—ñ—é
    delayed = np.zeros_like(audio_float)
    delayed[delay_samples:] = audio_float[:-delay_samples]

    # –î–æ–¥–∞—î–º–æ –µ—Ö–æ
    stego_float = audio_float + amplitude * delayed

    # –ù–æ—Ä–º–∞–ª—ñ–∑–∞—Ü—ñ—è –¥–ª—è —É–Ω–∏–∫–Ω–µ–Ω–Ω—è clipping
    max_val = np.max(np.abs(stego_float))
    if max_val > 32767:
        print(f"   ‚ö†Ô∏è –ù–æ—Ä–º–∞–ª—ñ–∑–∞—Ü—ñ—è (max={max_val:.0f})")
        stego_float = stego_float * (32767 / max_val)

    # –ö–æ–Ω–≤–µ—Ä—Ç—É—î–º–æ –Ω–∞–∑–∞–¥ –≤ int16
    stego_samples = np.clip(stego_float, -32768, 32767).astype(np.int16)

    return stego_samples

def encode_bit_echo(audio_samples, bit, sample_rate,
                    d0_ms=0.5, d1_ms=1.0, amplitude=0.3):
    """
    –ö–æ–¥—É—î –æ–¥–∏–Ω –±—ñ—Ç —á–µ—Ä–µ–∑ –µ—Ö–æ

    Args:
        audio_samples: –∞—É–¥—ñ–æ —Å–µ–≥–º–µ–Ω—Ç
        bit: 0 –∞–±–æ 1
        sample_rate: —á–∞—Å—Ç–æ—Ç–∞ –¥–∏—Å–∫—Ä–µ—Ç–∏–∑–∞—Ü—ñ—ó
        d0_ms: –∑–∞—Ç—Ä–∏–º–∫–∞ –¥–ª—è –±—ñ—Ç–∞ 0
        d1_ms: –∑–∞—Ç—Ä–∏–º–∫–∞ –¥–ª—è –±—ñ—Ç–∞ 1
        amplitude: –∞–º–ø–ª—ñ—Ç—É–¥–∞ –µ—Ö–æ

    Returns:
        stego_segment: —Å–µ–≥–º–µ–Ω—Ç –∑ –∑–∞–∫–æ–¥–æ–≤–∞–Ω–∏–º –±—ñ—Ç–æ–º
    """
    delay = d0_ms if bit == 0 else d1_ms
    stego = add_echo(audio_samples, delay, amplitude, sample_rate)
    return stego

# –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –Ω–∞ –ø—Ä–æ—Å—Ç–æ–º—É —Å–∏–≥–Ω–∞–ª—ñ
print("\n" + "="*60)
print("–¢–ï–°–¢: –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –µ—Ö–æ")
print("="*60)

# –°—Ç–≤–æ—Ä—é—î–º–æ —Ç–µ—Å—Ç–æ–≤–∏–π —Å–∏–Ω—É—Å–æ—ó–¥–∞–ª—å–Ω–∏–π —Å–∏–≥–Ω–∞–ª
sample_rate = 44100
duration = 0.1  # 100 –º—Å
t = np.linspace(0, duration, int(sample_rate * duration))
frequency = 440  # –õ—è (A4)
test_signal = (np.sin(2 * np.pi * frequency * t) * 16000).astype(np.int16)

# –î–æ–¥–∞—î–º–æ –µ—Ö–æ –¥–ª—è –±—ñ—Ç–∞ 0 —Ç–∞ –±—ñ—Ç–∞ 1
echo_0 = encode_bit_echo(test_signal, 0, sample_rate, d0_ms=0.5, d1_ms=1.0)
echo_1 = encode_bit_echo(test_signal, 1, sample_rate, d0_ms=0.5, d1_ms=1.0)

print("\n‚úÖ –¢–µ—Å—Ç –∑–∞–≤–µ—Ä—à–µ–Ω–æ: –µ—Ö–æ —É—Å–ø—ñ—à–Ω–æ –∑–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω–æ –¥–ª—è –æ–±–æ—Ö –±—ñ—Ç—ñ–≤")
</code></pre>

            <div class="result-box">
                <h4>‚úÖ –û—á—ñ–∫—É–≤–∞–Ω—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏:</h4>
                <ul>
                    <li>–§—É–Ω–∫—Ü—ñ—è add_echo —É—Å–ø—ñ—à–Ω–æ –¥–æ–¥–∞—î –∑–∞—Ç—Ä–∏–º–∞–Ω–µ –µ—Ö–æ –¥–æ —Å–∏–≥–Ω–∞–ª—É</li>
                    <li>–ê–º–ø–ª—ñ—Ç—É–¥–∞ —Å—Ç–µ–≥–æ-—Å–∏–≥–Ω–∞–ª—É –∑–±—ñ–ª—å—à—É—î—Ç—å—Å—è, –∞–ª–µ –Ω–µ –≤–∏—Ö–æ–¥–∏—Ç—å –∑–∞ –º–µ–∂—ñ 16-bit –¥—ñ–∞–ø–∞–∑–æ–Ω—É</li>
                    <li>–†—ñ–∑–Ω—ñ –±—ñ—Ç–∏ (0 —ñ 1) –º–∞—é—Ç—å —Ä—ñ–∑–Ω—ñ –∑–∞—Ç—Ä–∏–º–∫–∏ –µ—Ö–æ</li>
                    <li>–ê—É–¥—ñ–æ –∑ –µ—Ö–æ –∑–≤—É—á–∏—Ç—å –ø—Ä–∞–∫—Ç–∏—á–Ω–æ —Ç–∞–∫ —Å–∞–º–æ, —è–∫ –æ—Ä–∏–≥—ñ–Ω–∞–ª</li>
                </ul>
            </div>
        </div>

        <!-- –ó–∞–≤–¥–∞–Ω–Ω—è 2 -->
        <div class="task-box">
            <h3><span class="step-number">2</span>Echo Decoder —á–µ—Ä–µ–∑ Cepstrum</h3>

            <h4>–û–±—á–∏—Å–ª–µ–Ω–Ω—è Cepstrum:</h4>
            <pre class="python"><code>def compute_cepstrum(audio_segment):
    """
    –û–±—á–∏—Å–ª—é—î real cepstrum –∞—É–¥—ñ–æ —Å–µ–≥–º–µ–Ω—Ç—É

    Args:
        audio_segment: numpy array –∑ –∞—É–¥—ñ–æ —Å–µ–º–ø–ª–∞–º–∏

    Returns:
        cepstrum: real cepstrum
        quefrency: –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ quefrency –∑–Ω–∞—á–µ–Ω–Ω—è (–≤ —Å–µ–º–ø–ª–∞—Ö)
    """
    # 1. –ó–∞—Å—Ç–æ—Å–æ–≤—É—î–º–æ FFT
    spectrum = fft(audio_segment)

    # 2. –û–±—á–∏—Å–ª—é—î–º–æ log magnitude spectrum
    # –î–æ–¥–∞—î–º–æ epsilon –¥–ª—è —É–Ω–∏–∫–Ω–µ–Ω–Ω—è log(0)
    log_spectrum = np.log(np.abs(spectrum) + 1e-10)

    # 3. –ó–∞—Å—Ç–æ—Å–æ–≤—É—î–º–æ inverse FFT
    cepstrum = np.real(ifft(log_spectrum))

    # 4. –ë–µ—Ä–µ–º–æ —Ç—ñ–ª—å–∫–∏ –ø–µ—Ä—à—É –ø–æ–ª–æ–≤–∏–Ω—É (real cepstrum —Å–∏–º–µ—Ç—Ä–∏—á–Ω–∏–π)
    n = len(cepstrum) // 2
    cepstrum = cepstrum[:n]

    # Quefrency –≤ —Å–µ–º–ø–ª–∞—Ö
    quefrency = np.arange(n)

    return cepstrum, quefrency

def detect_echo_delay(audio_segment, sample_rate,
                      min_delay_ms=0.3, max_delay_ms=2.0):
    """
    –î–µ—Ç–µ–∫—Ç—É—î –∑–∞—Ç—Ä–∏–º–∫—É –µ—Ö–æ —á–µ—Ä–µ–∑ cepstrum –∞–Ω–∞–ª—ñ–∑

    Args:
        audio_segment: –∞—É–¥—ñ–æ —Å–µ–≥–º–µ–Ω—Ç –¥–ª—è –∞–Ω–∞–ª—ñ–∑—É
        sample_rate: —á–∞—Å—Ç–æ—Ç–∞ –¥–∏—Å–∫—Ä–µ—Ç–∏–∑–∞—Ü—ñ—ó
        min_delay_ms: –º—ñ–Ω—ñ–º–∞–ª—å–Ω–∞ –æ—á—ñ–∫—É–≤–∞–Ω–∞ –∑–∞—Ç—Ä–∏–º–∫–∞
        max_delay_ms: –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ –æ—á—ñ–∫—É–≤–∞–Ω–∞ –∑–∞—Ç—Ä–∏–º–∫–∞

    Returns:
        delay_samples: –≤–∏—è–≤–ª–µ–Ω–∞ –∑–∞—Ç—Ä–∏–º–∫–∞ –≤ —Å–µ–º–ø–ª–∞—Ö
        peak_value: –≤–∏—Å–æ—Ç–∞ –ø—ñ–∫—É –≤ cepstrum
        delay_ms: –∑–∞—Ç—Ä–∏–º–∫–∞ –≤ –º—ñ–ª—ñ—Å–µ–∫—É–Ω–¥–∞—Ö
    """
    # –û–±—á–∏—Å–ª—é—î–º–æ cepstrum
    cepstrum, quefrency = compute_cepstrum(audio_segment)

    # –ö–æ–Ω–≤–µ—Ä—Ç—É—î–º–æ –º—Å –≤ —Å–µ–º–ø–ª–∏
    min_delay_samples = int(min_delay_ms * sample_rate / 1000)
    max_delay_samples = int(max_delay_ms * sample_rate / 1000)

    # –û–±–º–µ–∂—É—î–º–æ –¥—ñ–∞–ø–∞–∑–æ–Ω –ø–æ—à—É–∫—É
    max_delay_samples = min(max_delay_samples, len(cepstrum) - 1)

    if min_delay_samples >= max_delay_samples:
        return 0, 0.0, 0.0

    # –®—É–∫–∞—î–º–æ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∏–π –ø—ñ–∫ —É –∑–∞–¥–∞–Ω–æ–º—É –¥—ñ–∞–ø–∞–∑–æ–Ω—ñ
    search_range = cepstrum[min_delay_samples:max_delay_samples]

    if len(search_range) == 0:
        return 0, 0.0, 0.0

    # –ó–Ω–∞—Ö–æ–¥–∏–º–æ –º–∞–∫—Å–∏–º—É–º
    peak_idx = np.argmax(search_range)
    delay_samples = min_delay_samples + peak_idx
    peak_value = search_range[peak_idx]
    delay_ms = delay_samples * 1000 / sample_rate

    return delay_samples, peak_value, delay_ms

print("–§—É–Ω–∫—Ü—ñ—ó cepstrum –∞–Ω–∞–ª—ñ–∑—É –≥–æ—Ç–æ–≤—ñ!")
</code></pre>

            <h4>–î–µ–∫–æ–¥—É–≤–∞–Ω–Ω—è –±—ñ—Ç–∞:</h4>
            <pre class="python"><code>def decode_bit_cepstrum(segment, sample_rate,
                        d0_ms=0.5, d1_ms=1.0, threshold=0.001):
    """
    –î–µ–∫–æ–¥—É—î –±—ñ—Ç –∑ –∞—É–¥—ñ–æ —Å–µ–≥–º–µ–Ω—Ç—É —á–µ—Ä–µ–∑ cepstrum –∞–Ω–∞–ª—ñ–∑

    Args:
        segment: –∞—É–¥—ñ–æ —Å–µ–≥–º–µ–Ω—Ç
        sample_rate: —á–∞—Å—Ç–æ—Ç–∞ –¥–∏—Å–∫—Ä–µ—Ç–∏–∑–∞—Ü—ñ—ó
        d0_ms: –æ—á—ñ–∫—É–≤–∞–Ω–∞ –∑–∞—Ç—Ä–∏–º–∫–∞ –¥–ª—è –±—ñ—Ç–∞ 0
        d1_ms: –æ—á—ñ–∫—É–≤–∞–Ω–∞ –∑–∞—Ç—Ä–∏–º–∫–∞ –¥–ª—è –±—ñ—Ç–∞ 1
        threshold: –ø–æ—Ä—ñ–≥ –¥–ª—è –¥–µ—Ç–µ–∫—Ç—É–≤–∞–Ω–Ω—è –ø—ñ–∫—É

    Returns:
        bit: 0 –∞–±–æ 1
        confidence: –≤–ø–µ–≤–Ω–µ–Ω—ñ—Å—Ç—å (—Ä—ñ–∑–Ω–∏—Ü—è –º—ñ–∂ –ø—ñ–∫–∞–º–∏)
    """
    # –û–±—á–∏—Å–ª—é—î–º–æ cepstrum
    cepstrum, _ = compute_cepstrum(segment)

    # –ö–æ–Ω–≤–µ—Ä—Ç—É—î–º–æ –∑–∞—Ç—Ä–∏–º–∫–∏ –≤ —Å–µ–º–ø–ª–∏
    d0_samples = int(d0_ms * sample_rate / 1000)
    d1_samples = int(d1_ms * sample_rate / 1000)

    # –û—Ç—Ä–∏–º—É—î–º–æ –∑–Ω–∞—á–µ–Ω–Ω—è cepstrum –Ω–∞ –æ—á—ñ–∫—É–≤–∞–Ω–∏—Ö –∑–∞—Ç—Ä–∏–º–∫–∞—Ö
    # –£—Å–µ—Ä–µ–¥–Ω—é—î–º–æ –ø–æ –Ω–µ–≤–µ–ª–∏–∫–æ–º—É –≤—ñ–∫–Ω—É –¥–ª—è —Å—Ç—ñ–π–∫–æ—Å—Ç—ñ
    window = 3

    peak_0 = 0.0
    if d0_samples - window >= 0 and d0_samples + window < len(cepstrum):
        peak_0 = np.mean(cepstrum[d0_samples - window : d0_samples + window + 1])

    peak_1 = 0.0
    if d1_samples - window >= 0 and d1_samples + window < len(cepstrum):
        peak_1 = np.mean(cepstrum[d1_samples - window : d1_samples + window + 1])

    # –í–∏–∑–Ω–∞—á–∞—î–º–æ –±—ñ—Ç –∑–∞ –≤–∏—â–∏–º –ø—ñ–∫–æ–º
    if peak_0 > peak_1:
        bit = 0
        confidence = peak_0 - peak_1
    else:
        bit = 1
        confidence = peak_1 - peak_0

    return bit, confidence

# –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –¥–µ–∫–æ–¥—É–≤–∞–Ω–Ω—è
print("\n" + "="*60)
print("–¢–ï–°–¢: –î–µ–∫–æ–¥—É–≤–∞–Ω–Ω—è —á–µ—Ä–µ–∑ Cepstrum")
print("="*60)

# –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ –∑–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω—ñ —Ä–∞–Ω—ñ—à–µ —Å–∏–≥–Ω–∞–ª–∏
decoded_0, conf_0 = decode_bit_cepstrum(echo_0, sample_rate, d0_ms=0.5, d1_ms=1.0)
decoded_1, conf_1 = decode_bit_cepstrum(echo_1, sample_rate, d0_ms=0.5, d1_ms=1.0)

print(f"–°–µ–≥–º–µ–Ω—Ç –∑ –µ—Ö–æ –¥–ª—è –±—ñ—Ç–∞ 0:")
print(f"  –î–µ–∫–æ–¥–æ–≤–∞–Ω–∏–π –±—ñ—Ç: {decoded_0} {'‚úÖ' if decoded_0 == 0 else '‚ùå'}")
print(f"  –í–ø–µ–≤–Ω–µ–Ω—ñ—Å—Ç—å: {conf_0:.6f}")

print(f"\n–°–µ–≥–º–µ–Ω—Ç –∑ –µ—Ö–æ –¥–ª—è –±—ñ—Ç–∞ 1:")
print(f"  –î–µ–∫–æ–¥–æ–≤–∞–Ω–∏–π –±—ñ—Ç: {decoded_1} {'‚úÖ' if decoded_1 == 1 else '‚ùå'}")
print(f"  –í–ø–µ–≤–Ω–µ–Ω—ñ—Å—Ç—å: {conf_1:.6f}")
</code></pre>

            <h4>–í—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è Cepstrum:</h4>
            <pre class="python"><code>def plot_cepstrum_comparison(segment_0, segment_1, sample_rate,
                              d0_ms=0.5, d1_ms=1.0):
    """
    –í—ñ–∑—É–∞–ª—ñ–∑—É—î –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è cepstrum –¥–ª—è –¥–≤–æ—Ö –±—ñ—Ç—ñ–≤
    """
    # –û–±—á–∏—Å–ª—é—î–º–æ cepstrum –¥–ª—è –æ–±–æ—Ö —Å–µ–≥–º–µ–Ω—Ç—ñ–≤
    cep_0, qf_0 = compute_cepstrum(segment_0)
    cep_1, qf_1 = compute_cepstrum(segment_1)

    # –ö–æ–Ω–≤–µ—Ä—Ç—É—î–º–æ quefrency –≤ –º—ñ–ª—ñ—Å–µ–∫—É–Ω–¥–∏
    qf_0_ms = qf_0 * 1000 / sample_rate
    qf_1_ms = qf_1 * 1000 / sample_rate

    # –°—Ç–≤–æ—Ä—é—î–º–æ –≥—Ä–∞—Ñ—ñ–∫
    fig, (ax1, ax2) = plt.subplots(2, 1, figsize=(12, 8))

    # Cepstrum –¥–ª—è –±—ñ—Ç–∞ 0
    ax1.plot(qf_0_ms, cep_0, linewidth=1.5, color='blue')
    ax1.axvline(x=d0_ms, color='blue', linestyle='--',
                label=f'–û—á—ñ–∫—É–≤–∞–Ω–µ d‚ÇÄ = {d0_ms} –º—Å', linewidth=2)
    ax1.axvline(x=d1_ms, color='red', linestyle='--',
                label=f'–û—á—ñ–∫—É–≤–∞–Ω–µ d‚ÇÅ = {d1_ms} –º—Å', alpha=0.5)
    ax1.set_xlabel('Quefrency (–º—Å)', fontsize=11)
    ax1.set_ylabel('Amplitude', fontsize=11)
    ax1.set_title('Cepstrum –¥–ª—è –±—ñ—Ç–∞ 0 (–∫–æ—Ä–æ—Ç–∫–µ –µ—Ö–æ)', fontsize=13, fontweight='bold')
    ax1.grid(True, alpha=0.3)
    ax1.legend()
    ax1.set_xlim([0, 3.0])

    # Cepstrum –¥–ª—è –±—ñ—Ç–∞ 1
    ax2.plot(qf_1_ms, cep_1, linewidth=1.5, color='red')
    ax2.axvline(x=d0_ms, color='blue', linestyle='--',
                label=f'–û—á—ñ–∫—É–≤–∞–Ω–µ d‚ÇÄ = {d0_ms} –º—Å', alpha=0.5)
    ax2.axvline(x=d1_ms, color='red', linestyle='--',
                label=f'–û—á—ñ–∫—É–≤–∞–Ω–µ d‚ÇÅ = {d1_ms} –º—Å', linewidth=2)
    ax2.set_xlabel('Quefrency (–º—Å)', fontsize=11)
    ax2.set_ylabel('Amplitude', fontsize=11)
    ax2.set_title('Cepstrum –¥–ª—è –±—ñ—Ç–∞ 1 (–¥–æ–≤—à–µ –µ—Ö–æ)', fontsize=13, fontweight='bold')
    ax2.grid(True, alpha=0.3)
    ax2.legend()
    ax2.set_xlim([0, 3.0])

    plt.tight_layout()
    plt.savefig('cepstrum_comparison.png', dpi=150, bbox_inches='tight')
    print("üìä –ì—Ä–∞—Ñ—ñ–∫ –∑–±–µ—Ä–µ–∂–µ–Ω–æ: cepstrum_comparison.png")
    plt.show()

# –í—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è
plot_cepstrum_comparison(echo_0, echo_1, sample_rate, d0_ms=0.5, d1_ms=1.0)
</code></pre>

            <div class="result-box">
                <h4>‚úÖ –û—á—ñ–∫—É–≤–∞–Ω—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏:</h4>
                <ul>
                    <li>Cepstrum —á—ñ—Ç–∫–æ –ø–æ–∫–∞–∑—É—î –ø—ñ–∫ –Ω–∞ –∑–∞—Ç—Ä–∏–º—Ü—ñ –µ—Ö–æ</li>
                    <li>–î–ª—è –±—ñ—Ç–∞ 0: –ø—ñ–∫ –Ω–∞ ~0.5 –º—Å –≤–∏—â–∏–π –∑–∞ –ø—ñ–∫ –Ω–∞ ~1.0 –º—Å</li>
                    <li>–î–ª—è –±—ñ—Ç–∞ 1: –ø—ñ–∫ –Ω–∞ ~1.0 –º—Å –≤–∏—â–∏–π –∑–∞ –ø—ñ–∫ –Ω–∞ ~0.5 –º—Å</li>
                    <li>–î–µ–∫–æ–¥—É–≤–∞–Ω–Ω—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ –≤–∏–∑–Ω–∞—á–∞—î –±—ñ—Ç–∏ –∑ –≤–∏—Å–æ–∫–æ—é –≤–ø–µ–≤–Ω–µ–Ω—ñ—Å—Ç—é</li>
                    <li>–ì—Ä–∞—Ñ—ñ–∫–∏ –Ω–∞–æ—á–Ω–æ –¥–µ–º–æ–Ω—Å—Ç—Ä—É—é—Ç—å —Ä—ñ–∑–Ω–∏—Ü—é –º—ñ–∂ –¥–≤–æ–º–∞ –∑–∞—Ç—Ä–∏–º–∫–∞–º–∏</li>
                </ul>
            </div>
        </div>

        <!-- –ó–∞–≤–¥–∞–Ω–Ω—è 3 -->
        <div class="task-box">
            <h3><span class="step-number">3</span>–ü—Ä–∏—Ö–æ–≤—É–≤–∞–Ω–Ω—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å</h3>

            <h4>Encoder –¥–ª—è —Ç–µ–∫—Å—Ç—É:</h4>
            <pre class="python"><code>def echo_hide_message(audio_file, message, output_file,
                      segment_size=4096, d0_ms=0.5, d1_ms=1.0, amplitude=0.35):
    """
    –ü—Ä–∏—Ö–æ–≤—É—î —Ç–µ–∫—Å—Ç–æ–≤–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤ –∞—É–¥—ñ–æ —á–µ—Ä–µ–∑ echo hiding

    Args:
        audio_file: —à–ª—è—Ö –¥–æ –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–æ–≥–æ WAV —Ñ–∞–π–ª—É
        message: —Ç–µ–∫—Å—Ç–æ–≤–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è (str –∞–±–æ bytes)
        output_file: —à–ª—è—Ö –¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è —Å—Ç–µ–≥–æ-–∞—É–¥—ñ–æ
        segment_size: —Ä–æ–∑–º—ñ—Ä —Å–µ–≥–º–µ–Ω—Ç—É –≤ —Å–µ–º–ø–ª–∞—Ö
        d0_ms: –∑–∞—Ç—Ä–∏–º–∫–∞ –¥–ª—è –±—ñ—Ç–∞ 0
        d1_ms: –∑–∞—Ç—Ä–∏–º–∫–∞ –¥–ª—è –±—ñ—Ç–∞ 1
        amplitude: –∞–º–ø–ª—ñ—Ç—É–¥–∞ –µ—Ö–æ (0.0-1.0)

    Returns:
        stats: —Å–ª–æ–≤–Ω–∏–∫ –∑—ñ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ—é –≤–±—É–¥–æ–≤—É–≤–∞–Ω–Ω—è
    """
    # –ß–∏—Ç–∞—î–º–æ –∞—É–¥—ñ–æ
    samples, params = read_wav(audio_file)
    sample_rate, n_channels, sample_width = params

    # –ö–æ–Ω–≤–µ—Ä—Ç—É—î–º–æ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤ bytes —è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ
    if isinstance(message, str):
        message_bytes = message.encode('utf-8')
    else:
        message_bytes = message

    # –ö–æ–Ω–≤–µ—Ä—Ç—É—î–º–æ –≤ –±—ñ—Ç–∏
    message_bits = ''.join([format(byte, '08b') for byte in message_bytes])

    print("\n" + "="*60)
    print("ECHO HIDING ENCODING")
    print("="*60)
    print(f"üìù –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è: '{message}'" if isinstance(message, str) else f"üìù –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è: {len(message_bytes)} –±–∞–π—Ç")
    print(f"   –î–æ–≤–∂–∏–Ω–∞: {len(message_bytes)} –±–∞–π—Ç = {len(message_bits)} –±—ñ—Ç")
    print(f"üìä –ü–∞—Ä–∞–º–µ—Ç—Ä–∏:")
    print(f"   –†–æ–∑–º—ñ—Ä —Å–µ–≥–º–µ–Ω—Ç—É: {segment_size} —Å–µ–º–ø–ª—ñ–≤")
    print(f"   d‚ÇÄ (–±—ñ—Ç 0): {d0_ms} –º—Å")
    print(f"   d‚ÇÅ (–±—ñ—Ç 1): {d1_ms} –º—Å")
    print(f"   –ê–º–ø–ª—ñ—Ç—É–¥–∞ –µ—Ö–æ: {amplitude}")

    # –û–±—á–∏—Å–ª—é—î–º–æ –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Å–µ–≥–º–µ–Ω—Ç—ñ–≤
    num_segments = len(samples) // segment_size

    # –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —î–º–Ω–æ—Å—Ç—ñ
    if len(message_bits) > num_segments:
        raise ValueError(f"–ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∑–∞–≤–µ–ª–∏–∫–µ! –ú–∞–∫—Å {num_segments} –±—ñ—Ç, –ø–æ—Ç—Ä—ñ–±–Ω–æ {len(message_bits)}")

    print(f"   –î–æ—Å—Ç—É–ø–Ω–æ —Å–µ–≥–º–µ–Ω—Ç—ñ–≤: {num_segments}")
    print(f"   –ü–æ—Ç—Ä—ñ–±–Ω–æ —Å–µ–≥–º–µ–Ω—Ç—ñ–≤: {len(message_bits)}")
    print(f"   –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è: {len(message_bits)/num_segments*100:.1f}%")

    # –°—Ç–≤–æ—Ä—é—î–º–æ –∫–æ–ø—ñ—é –¥–ª—è —Å—Ç–µ–≥–æ
    stego = samples.copy()

    # –í–±—É–¥–æ–≤—É–≤–∞–Ω–Ω—è: –∫–æ–∂–µ–Ω —Å–µ–≥–º–µ–Ω—Ç –∫–æ–¥—É—î 1 –±—ñ—Ç
    for i, bit_char in enumerate(message_bits):
        bit = int(bit_char)

        # –í–∏—Ç—è–≥—É—î–º–æ —Å–µ–≥–º–µ–Ω—Ç
        start = i * segment_size
        end = start + segment_size
        segment = samples[start:end]

        # –ö–æ–¥—É—î–º–æ –±—ñ—Ç —á–µ—Ä–µ–∑ –µ—Ö–æ
        stego_segment = encode_bit_echo(segment, bit, sample_rate,
                                        d0_ms, d1_ms, amplitude)

        # –ó–∞–ø–∏—Å—É—î–º–æ –Ω–∞–∑–∞–¥
        stego[start:end] = stego_segment

        if (i + 1) % 100 == 0:
            print(f"   –ü—Ä–æ–≥—Ä–µ—Å: {i+1}/{len(message_bits)} –±—ñ—Ç")

    # –ó–±–µ—Ä—ñ–≥–∞—î–º–æ —Å—Ç–µ–≥–æ-–∞—É–¥—ñ–æ
    write_wav(output_file, stego, params)

    # –û–±—á–∏—Å–ª—é—î–º–æ SNR
    signal_power = np.mean(samples.astype(np.float64) ** 2)
    noise = stego.astype(np.float64) - samples.astype(np.float64)
    noise_power = np.mean(noise ** 2)

    snr = 10 * np.log10(signal_power / noise_power) if noise_power > 0 else float('inf')

    print(f"\nüìà –†–µ–∑—É–ª—å—Ç–∞—Ç–∏:")
    print(f"   SNR: {snr:.2f} dB")
    print(f"   –í–±—É–¥–æ–≤–∞–Ω–æ: {len(message_bits)} –±—ñ—Ç —É {len(message_bits)} —Å–µ–≥–º–µ–Ω—Ç—ñ–≤")
    print("="*60)

    stats = {
        'message_length': len(message_bytes),
        'bits_embedded': len(message_bits),
        'segments_used': len(message_bits),
        'total_segments': num_segments,
        'snr': snr,
        'segment_size': segment_size
    }

    return stats

# –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–º—É —Ñ–∞–π–ª—ñ
print("\n–¢–ï–°–¢ –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–º—É –∞—É–¥—ñ–æ —Ñ–∞–π–ª—ñ:")
print("(–ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ —É –≤–∞—Å —î —Ñ–∞–π–ª 'test_audio.wav')")

# –ü—Ä–∏–∫–ª–∞–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:
# message = "Hello Echo Hiding!"
# stats = echo_hide_message('test_audio.wav', message, 'stego_echo.wav')
</code></pre>

            <h4>Decoder –¥–ª—è —Ç–µ–∫—Å—Ç—É:</h4>
            <pre class="python"><code>def echo_extract_message(stego_file, message_length_bits,
                         segment_size=4096, d0_ms=0.5, d1_ms=1.0):
    """
    –í–∏—Ç—è–≥—É—î –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∑ —Å—Ç–µ–≥–æ-–∞—É–¥—ñ–æ

    Args:
        stego_file: —à–ª—è—Ö –¥–æ —Å—Ç–µ–≥–æ-–∞—É–¥—ñ–æ —Ñ–∞–π–ª—É
        message_length_bits: –¥–æ–≤–∂–∏–Ω–∞ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤ –±—ñ—Ç–∞—Ö
        segment_size: —Ä–æ–∑–º—ñ—Ä —Å–µ–≥–º–µ–Ω—Ç—É (–º–∞—î –±—É—Ç–∏ —Ç–æ–π —Å–∞–º–∏–π!)
        d0_ms: –∑–∞—Ç—Ä–∏–º–∫–∞ –¥–ª—è –±—ñ—Ç–∞ 0
        d1_ms: –∑–∞—Ç—Ä–∏–º–∫–∞ –¥–ª—è –±—ñ—Ç–∞ 1

    Returns:
        message: –≤–∏—Ç—è–≥–Ω—É—Ç–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è (bytes)
        stats: —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥–µ–∫–æ–¥—É–≤–∞–Ω–Ω—è
    """
    # –ß–∏—Ç–∞—î–º–æ —Å—Ç–µ–≥–æ-–∞—É–¥—ñ–æ
    samples, params = read_wav(stego_file)
    sample_rate, _, _ = params

    print("\n" + "="*60)
    print("ECHO HIDING DECODING")
    print("="*60)
    print(f"üìÇ –§–∞–π–ª: {stego_file}")
    print(f"üìä –ü–∞—Ä–∞–º–µ—Ç—Ä–∏:")
    print(f"   –†–æ–∑–º—ñ—Ä —Å–µ–≥–º–µ–Ω—Ç—É: {segment_size} —Å–µ–º–ø–ª—ñ–≤")
    print(f"   –ë—ñ—Ç –¥–ª—è –≤–∏—Ç—è–≥—É–≤–∞–Ω–Ω—è: {message_length_bits}")
    print(f"   d‚ÇÄ (–±—ñ—Ç 0): {d0_ms} –º—Å")
    print(f"   d‚ÇÅ (–±—ñ—Ç 1): {d1_ms} –º—Å")

    # –í–∏—Ç—è–≥—É—î–º–æ –±—ñ—Ç–∏
    decoded_bits = []
    confidences = []

    for i in range(message_length_bits):
        # –í–∏—Ç—è–≥—É—î–º–æ —Å–µ–≥–º–µ–Ω—Ç
        start = i * segment_size
        end = start + segment_size

        if end > len(samples):
            print(f"‚ö†Ô∏è –ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ –¥–∞–Ω–∏—Ö –Ω–∞ –ø–æ–∑–∏—Ü—ñ—ó {i}")
            break

        segment = samples[start:end]

        # –î–µ–∫–æ–¥—É—î–º–æ –±—ñ—Ç
        bit, confidence = decode_bit_cepstrum(segment, sample_rate,
                                              d0_ms, d1_ms)
        decoded_bits.append(str(bit))
        confidences.append(confidence)

        if (i + 1) % 100 == 0:
            print(f"   –ü—Ä–æ–≥—Ä–µ—Å: {i+1}/{message_length_bits} –±—ñ—Ç")

    # –ö–æ–Ω–≤–µ—Ä—Ç—É—î–º–æ –±—ñ—Ç–∏ –≤ bytes
    bits_str = ''.join(decoded_bits)
    message_bytes = bytearray()

    for i in range(0, len(bits_str), 8):
        byte_str = bits_str[i:i+8]
        if len(byte_str) == 8:
            message_bytes.append(int(byte_str, 2))

    message = bytes(message_bytes)

    # –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
    avg_confidence = np.mean(confidences)
    min_confidence = np.min(confidences)

    print(f"\nüìà –†–µ–∑—É–ª—å—Ç–∞—Ç–∏:")
    print(f"   –í–∏—Ç—è–≥–Ω—É—Ç–æ: {len(decoded_bits)} –±—ñ—Ç = {len(message_bytes)} –±–∞–π—Ç")
    print(f"   –°–µ—Ä–µ–¥–Ω—è –≤–ø–µ–≤–Ω–µ–Ω—ñ—Å—Ç—å: {avg_confidence:.6f}")
    print(f"   –ú—ñ–Ω—ñ–º–∞–ª—å–Ω–∞ –≤–ø–µ–≤–Ω–µ–Ω—ñ—Å—Ç—å: {min_confidence:.6f}")
    print(f"   –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è: '{message.decode('utf-8', errors='ignore')}'")
    print("="*60)

    stats = {
        'bits_extracted': len(decoded_bits),
        'bytes_extracted': len(message_bytes),
        'avg_confidence': avg_confidence,
        'min_confidence': min_confidence,
        'confidences': confidences
    }

    return message, stats

# –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –¥–µ–∫–æ–¥—É–≤–∞–Ω–Ω—è
# –ü—Ä–∏–∫–ª–∞–¥:
# message_bits = len("Hello Echo Hiding!".encode('utf-8')) * 8
# extracted, stats = echo_extract_message('stego_echo.wav', message_bits)
</code></pre>

            <h4>–ü–æ–≤–Ω–∏–π —Ü–∏–∫–ª encode-decode:</h4>
            <pre class="python"><code># –ü–æ–≤–Ω–∏–π –ø—Ä–∏–∫–ª–∞–¥ encode ‚Üí decode
print("\n" + "="*60)
print("–ü–û–í–ù–ò–ô –¶–ò–ö–õ: ENCODE ‚Üí DECODE")
print("="*60)

# –ü–∞—Ä–∞–º–µ—Ç—Ä–∏
test_message = "–°—Ç–µ–≥–∞–Ω–æ–≥—Ä–∞—Ñ—ñ—è –ø—Ä–∞—Ü—é—î! üîí"
test_audio = 'test_audio.wav'  # –ú–∞—î –±—É—Ç–∏ –≤–∞—à —Ç–µ—Å—Ç–æ–≤–∏–π —Ñ–∞–π–ª
stego_output = 'stego_echo_test.wav'

# 1. Encoding
print("\n1Ô∏è‚É£ ENCODING:")
encode_stats = echo_hide_message(test_audio, test_message, stego_output,
                                  segment_size=4096,
                                  d0_ms=0.5, d1_ms=1.0,
                                  amplitude=0.35)

# 2. Decoding
print("\n2Ô∏è‚É£ DECODING:")
message_bits = len(test_message.encode('utf-8')) * 8
decoded_message, decode_stats = echo_extract_message(stego_output, message_bits,
                                                       segment_size=4096,
                                                       d0_ms=0.5, d1_ms=1.0)

# 3. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞
print("\n3Ô∏è‚É£ –ü–ï–†–ï–í–Ü–†–ö–ê:")
original_bytes = test_message.encode('utf-8')
match = (original_bytes == decoded_message)

print(f"–û—Ä–∏–≥—ñ–Ω–∞–ª:  '{test_message}'")
print(f"–î–µ–∫–æ–¥–æ–≤–∞–Ω–µ: '{decoded_message.decode('utf-8', errors='ignore')}'")
print(f"–°–ø—ñ–≤–ø–∞–¥–∞—î: {'‚úÖ –¢–ê–ö' if match else '‚ùå –ù–Ü'}")

if not match:
    # –ü—ñ–¥—Ä–∞—Ö—É–Ω–æ–∫ –ø–æ–º–∏–ª–æ–∫
    errors = sum(1 for a, b in zip(original_bytes, decoded_message) if a != b)
    print(f"–ü–æ–º–∏–ª–æ–∫: {errors}/{len(original_bytes)} –±–∞–π—Ç ({errors/len(original_bytes)*100:.1f}%)")
</code></pre>

            <div class="result-box">
                <h4>‚úÖ –û—á—ñ–∫—É–≤–∞–Ω—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏:</h4>
                <ul>
                    <li>–ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è —É—Å–ø—ñ—à–Ω–æ –≤–±—É–¥–æ–≤—É—î—Ç—å—Å—è –≤ –∞—É–¥—ñ–æ —Ñ–∞–π–ª</li>
                    <li>SNR > 30 dB (—Ö–æ—Ä–æ—à–∞ —è–∫—ñ—Å—Ç—å, –∑–º—ñ–Ω–∏ –Ω–µ–ø–æ–º—ñ—Ç–Ω—ñ)</li>
                    <li>–î–µ–∫–æ–¥—É–≤–∞–Ω–Ω—è –≤—ñ–¥–Ω–æ–≤–ª—é—î –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –±–µ–∑ –ø–æ–º–∏–ª–æ–∫</li>
                    <li>–°–µ—Ä–µ–¥–Ω—è –≤–ø–µ–≤–Ω–µ–Ω—ñ—Å—Ç—å –¥–µ–∫–æ–¥—É–≤–∞–Ω–Ω—è > 0.001</li>
                    <li>–°—Ç–µ–≥–æ-–∞—É–¥—ñ–æ –∑–≤—É—á–∏—Ç—å –ø—Ä–∞–∫—Ç–∏—á–Ω–æ —ñ–¥–µ–Ω—Ç–∏—á–Ω–æ –¥–æ –æ—Ä–∏–≥—ñ–Ω–∞–ª—É</li>
                </ul>
            </div>
        </div>

        <!-- –ó–∞–≤–¥–∞–Ω–Ω—è 4 -->
        <div class="task-box">
            <h3><span class="step-number">4</span>–¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è —Å—Ç—ñ–π–∫–æ—Å—Ç—ñ</h3>

            <h4>–§—É–Ω–∫—Ü—ñ—ó –¥–ª—è –∞—Ç–∞–∫:</h4>
            <pre class="python"><code>def add_gaussian_noise(audio, snr_db):
    """
    –î–æ–¥–∞—î –±—ñ–ª–∏–π –≥–∞—É—Å—ñ–≤ —à—É–º –∑ –∑–∞–¥–∞–Ω–∏–º SNR
    """
    signal_power = np.mean(audio.astype(np.float64) ** 2)
    snr_linear = 10 ** (snr_db / 10)
    noise_power = signal_power / snr_linear

    noise = np.random.normal(0, np.sqrt(noise_power), len(audio))
    noisy = audio.astype(np.float64) + noise
    noisy = np.clip(noisy, -32768, 32767)

    return noisy.astype(np.int16)

def apply_lowpass_filter(audio, cutoff_freq, sample_rate):
    """
    –ó–∞—Å—Ç–æ—Å–æ–≤—É—î low-pass —Ñ—ñ–ª—å—Ç—Ä
    """
    from scipy.signal import butter, lfilter

    nyquist = sample_rate / 2
    normal_cutoff = cutoff_freq / nyquist
    b, a = butter(5, normal_cutoff, btype='low', analog=False)
    filtered = lfilter(b, a, audio)

    return filtered.astype(np.int16)

def resample_audio(audio, original_rate, new_rate):
    """
    –ü–µ—Ä–µ–¥–∏—Å–∫—Ä–µ—Ç–∏–∑–∞—Ü—ñ—è (resampling)
    """
    from scipy.signal import resample

    num_samples = int(len(audio) * new_rate / original_rate)
    resampled = resample(audio, num_samples)
    resampled = np.clip(resampled, -32768, 32767)

    return resampled.astype(np.int16), new_rate

print("–§—É–Ω–∫—Ü—ñ—ó –∞—Ç–∞–∫ –≥–æ—Ç–æ–≤—ñ!")
</code></pre>

            <h4>–¢–µ—Å—Ç–æ–≤–∏–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫:</h4>
            <pre class="python"><code>def test_robustness(original_audio_file, stego_file, original_message,
                    segment_size=4096, d0_ms=0.5, d1_ms=1.0):
    """
    –¢–µ—Å—Ç—É—î —Å—Ç—ñ–π–∫—ñ—Å—Ç—å echo hiding –¥–æ —Ä—ñ–∑–Ω–∏—Ö –∞—Ç–∞–∫

    Args:
        original_audio_file: –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–µ –∞—É–¥—ñ–æ
        stego_file: —Å—Ç–µ–≥–æ-–∞—É–¥—ñ–æ
        original_message: –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è (str –∞–±–æ bytes)
        segment_size: —Ä–æ–∑–º—ñ—Ä —Å–µ–≥–º–µ–Ω—Ç—É
        d0_ms, d1_ms: –∑–∞—Ç—Ä–∏–º–∫–∏ –µ—Ö–æ

    Returns:
        results: dict –∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ —Ç–µ—Å—Ç—ñ–≤
    """
    # –ß–∏—Ç–∞—î–º–æ —Å—Ç–µ–≥–æ
    stego_samples, params = read_wav(stego_file)
    sample_rate, n_channels, sample_width = params

    if isinstance(original_message, str):
        original_bytes = original_message.encode('utf-8')
    else:
        original_bytes = original_message

    message_bits = len(original_bytes) * 8

    print("\n" + "="*60)
    print("–¢–ï–°–¢–£–í–ê–ù–ù–Ø –°–¢–Ü–ô–ö–û–°–¢–Ü ECHO HIDING")
    print("="*60)

    results = {}

    # –¢–µ—Å—Ç 1: –ë–µ–∑ –∞—Ç–∞–∫ (baseline)
    print("\n1Ô∏è‚É£ Baseline (–±–µ–∑ –∞—Ç–∞–∫):")
    try:
        decoded, stats = echo_extract_message(stego_file, message_bits,
                                              segment_size, d0_ms, d1_ms)
        match = (decoded == original_bytes)
        results['Baseline'] = {
            'success': match,
            'decoded': decoded,
            'confidence': stats['avg_confidence']
        }
        print(f"   –†–µ–∑—É–ª—å—Ç–∞—Ç: {'‚úÖ OK' if match else '‚ùå FAIL'}")
    except Exception as e:
        results['Baseline'] = {'success': False, 'error': str(e)}
        print(f"   –†–µ–∑—É–ª—å—Ç–∞—Ç: ‚ùå ERROR - {e}")

    # –¢–µ—Å—Ç 2: –ë—ñ–ª–∏–π —à—É–º (—Ä—ñ–∑–Ω—ñ —Ä—ñ–≤–Ω—ñ)
    for snr in [40, 30, 25, 20, 15]:
        test_name = f'Noise SNR={snr}dB'
        print(f"\n2Ô∏è‚É£ {test_name}:")

        try:
            noisy = add_gaussian_noise(stego_samples, snr)
            temp_file = f'temp_noise_{snr}.wav'
            write_wav(temp_file, noisy, params)

            decoded, stats = echo_extract_message(temp_file, message_bits,
                                                  segment_size, d0_ms, d1_ms)
            match = (decoded == original_bytes)

            results[test_name] = {
                'success': match,
                'decoded': decoded,
                'confidence': stats['avg_confidence']
            }
            print(f"   –†–µ–∑—É–ª—å—Ç–∞—Ç: {'‚úÖ OK' if match else '‚ùå FAIL'}")

            import os
            os.remove(temp_file)
        except Exception as e:
            results[test_name] = {'success': False, 'error': str(e)}
            print(f"   –†–µ–∑—É–ª—å—Ç–∞—Ç: ‚ùå ERROR - {e}")

    # –¢–µ—Å—Ç 3: Low-pass —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è
    for cutoff in [10000, 8000, 5000]:
        test_name = f'Lowpass {cutoff}Hz'
        print(f"\n3Ô∏è‚É£ {test_name}:")

        try:
            filtered = apply_lowpass_filter(stego_samples, cutoff, sample_rate)
            temp_file = f'temp_filter_{cutoff}.wav'
            write_wav(temp_file, filtered, params)

            decoded, stats = echo_extract_message(temp_file, message_bits,
                                                  segment_size, d0_ms, d1_ms)
            match = (decoded == original_bytes)

            results[test_name] = {
                'success': match,
                'decoded': decoded,
                'confidence': stats['avg_confidence']
            }
            print(f"   –†–µ–∑—É–ª—å—Ç–∞—Ç: {'‚úÖ OK' if match else '‚ùå FAIL'}")

            import os
            os.remove(temp_file)
        except Exception as e:
            results[test_name] = {'success': False, 'error': str(e)}
            print(f"   –†–µ–∑—É–ª—å—Ç–∞—Ç: ‚ùå ERROR - {e}")

    # –¢–µ—Å—Ç 4: Resampling
    for new_rate in [22050, 16000]:
        test_name = f'Resample {new_rate}Hz'
        print(f"\n4Ô∏è‚É£ {test_name}:")

        try:
            resampled, new_sr = resample_audio(stego_samples, sample_rate, new_rate)

            # –ü–µ—Ä–µ–¥–∏—Å–∫—Ä–µ—Ç–∏–∑—É—î–º–æ –Ω–∞–∑–∞–¥ –¥–æ –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–æ—ó —á–∞—Å—Ç–æ—Ç–∏
            back_resampled, _ = resample_audio(resampled, new_rate, sample_rate)

            temp_file = f'temp_resample_{new_rate}.wav'
            write_wav(temp_file, back_resampled, params)

            decoded, stats = echo_extract_message(temp_file, message_bits,
                                                  segment_size, d0_ms, d1_ms)
            match = (decoded == original_bytes)

            results[test_name] = {
                'success': match,
                'decoded': decoded,
                'confidence': stats['avg_confidence']
            }
            print(f"   –†–µ–∑—É–ª—å—Ç–∞—Ç: {'‚úÖ OK' if match else '‚ùå FAIL'}")

            import os
            os.remove(temp_file)
        except Exception as e:
            results[test_name] = {'success': False, 'error': str(e)}
            print(f"   –†–µ–∑—É–ª—å—Ç–∞—Ç: ‚ùå ERROR - {e}")

    # –ü—ñ–¥—Å—É–º–æ–∫
    print("\n" + "="*60)
    print("–ü–Ü–î–°–£–ú–û–ö –¢–ï–°–¢–Ü–í")
    print("="*60)

    total_tests = len(results)
    successful = sum(1 for r in results.values() if r.get('success', False))

    print(f"–í—Å—å–æ–≥–æ —Ç–µ—Å—Ç—ñ–≤: {total_tests}")
    print(f"–£—Å–ø—ñ—à–Ω–∏—Ö: {successful} ({successful/total_tests*100:.1f}%)")
    print(f"–ù–µ–≤–¥–∞–ª–∏—Ö: {total_tests - successful}")
    print("="*60)

    return results

# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è
# –ü—Ä–∏–∫–ª–∞–¥:
# results = test_robustness('test_audio.wav', 'stego_echo.wav',
#                          "Test message", segment_size=4096)
</code></pre>

            <h4>–í—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤:</h4>
            <pre class="python"><code>def plot_robustness_results(results):
    """
    –í—ñ–∑—É–∞–ª—ñ–∑—É—î —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è —Å—Ç—ñ–π–∫–æ—Å—Ç—ñ
    """
    # –ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–∏—Ö
    test_names = list(results.keys())
    successes = [1 if r.get('success', False) else 0 for r in results.values()]
    confidences = [r.get('confidence', 0) for r in results.values()]

    # –°—Ç–≤–æ—Ä—é—î–º–æ –≥—Ä–∞—Ñ—ñ–∫
    fig, (ax1, ax2) = plt.subplots(2, 1, figsize=(14, 10))

    # 1. Success/Fail
    colors = ['green' if s else 'red' for s in successes]
    ax1.bar(range(len(test_names)), successes, color=colors, alpha=0.7, edgecolor='black')
    ax1.set_xticks(range(len(test_names)))
    ax1.set_xticklabels(test_names, rotation=45, ha='right')
    ax1.set_ylabel('Success (1) / Fail (0)', fontsize=11)
    ax1.set_title('–†–µ–∑—É–ª—å—Ç–∞—Ç–∏ —Ç–µ—Å—Ç—ñ–≤ —Å—Ç—ñ–π–∫–æ—Å—Ç—ñ', fontsize=13, fontweight='bold')
    ax1.set_ylim([0, 1.2])
    ax1.grid(True, alpha=0.3, axis='y')

    # –î–æ–¥–∞—î–º–æ —Ç–µ–∫—Å—Ç –Ω–∞ —Å—Ç–æ–≤–ø—Ü—ñ
    for i, (name, success) in enumerate(zip(test_names, successes)):
        label = '‚úÖ OK' if success else '‚ùå FAIL'
        ax1.text(i, success + 0.05, label, ha='center', fontsize=9, fontweight='bold')

    # 2. Confidence
    ax2.bar(range(len(test_names)), confidences, color='blue', alpha=0.7, edgecolor='black')
    ax2.set_xticks(range(len(test_names)))
    ax2.set_xticklabels(test_names, rotation=45, ha='right')
    ax2.set_ylabel('–°–µ—Ä–µ–¥–Ω—è –≤–ø–µ–≤–Ω–µ–Ω—ñ—Å—Ç—å', fontsize=11)
    ax2.set_title('–í–ø–µ–≤–Ω–µ–Ω—ñ—Å—Ç—å –¥–µ–∫–æ–¥—É–≤–∞–Ω–Ω—è', fontsize=13, fontweight='bold')
    ax2.grid(True, alpha=0.3, axis='y')

    plt.tight_layout()
    plt.savefig('robustness_results.png', dpi=150, bbox_inches='tight')
    print("üìä –ì—Ä–∞—Ñ—ñ–∫ –∑–±–µ—Ä–µ–∂–µ–Ω–æ: robustness_results.png")
    plt.show()

# –ü—Ä–∏–∫–ª–∞–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:
# plot_robustness_results(results)
</code></pre>

            <div class="result-box">
                <h4>‚úÖ –û—á—ñ–∫—É–≤–∞–Ω—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏:</h4>
                <ul>
                    <li><strong>Baseline:</strong> 100% —É—Å–ø—ñ—Ö (–±–µ–∑ –∞—Ç–∞–∫)</li>
                    <li><strong>–®—É–º SNR‚â•25dB:</strong> 100% —É—Å–ø—ñ—Ö (—Å—Ç—ñ–π–∫–∏–π –¥–æ –ø–æ–º—ñ—Ä–Ω–æ–≥–æ —à—É–º—É)</li>
                    <li><strong>–®—É–º SNR<20dB:</strong> –º–æ–∂–ª–∏–≤—ñ –ø–æ–º–∏–ª–∫–∏ (–ø–æ—Ç—Ä—ñ–±–Ω–∞ ECC)</li>
                    <li><strong>Low-pass 10kHz/8kHz:</strong> 100% —É—Å–ø—ñ—Ö (–≤–∏—Å–æ–∫—ñ —á–∞—Å—Ç–æ—Ç–∏ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω—ñ)</li>
                    <li><strong>Low-pass 5kHz:</strong> –º–æ–∂–ª–∏–≤—ñ –ø–æ–º–∏–ª–∫–∏ (–∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ d‚ÇÄ —Ç–∞ d‚ÇÅ)</li>
                    <li><strong>Resampling:</strong> 80-100% —É—Å–ø—ñ—Ö (–¥–æ—Å—Ç–∞—Ç–Ω—å–æ —Å—Ç—ñ–π–∫–∏–π)</li>
                </ul>
            </div>
        </div>

        <!-- –ó–∞–≤–¥–∞–Ω–Ω—è 5 -->
        <div class="task-box">
            <h3><span class="step-number">5</span>–û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤</h3>

            <h4>–ü—ñ–¥–±—ñ—Ä –æ–ø—Ç–∏–º–∞–ª—å–Ω–∏—Ö –∑–∞—Ç—Ä–∏–º–æ–∫:</h4>
            <pre class="python"><code>def find_optimal_delays(audio_segment, sample_rate,
                        delay_range=(0.3, 2.0), num_tests=20):
    """
    –®—É–∫–∞—î –æ–ø—Ç–∏–º–∞–ª—å–Ω—ñ –∑–∞—Ç—Ä–∏–º–∫–∏ d0 —Ç–∞ d1 –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ—ó —Ä–æ–∑–¥—ñ–ª—å–Ω–æ—Å—Ç—ñ

    Args:
        audio_segment: —Ç–µ—Å—Ç–æ–≤–∏–π –∞—É–¥—ñ–æ —Å–µ–≥–º–µ–Ω—Ç
        sample_rate: —á–∞—Å—Ç–æ—Ç–∞ –¥–∏—Å–∫—Ä–µ—Ç–∏–∑–∞—Ü—ñ—ó
        delay_range: –¥—ñ–∞–ø–∞–∑–æ–Ω –∑–∞—Ç—Ä–∏–º–æ–∫ (–º—Å)
        num_tests: –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Ç–µ—Å—Ç–æ–≤–∏—Ö –∫–æ–º–±—ñ–Ω–∞—Ü—ñ–π

    Returns:
        best_d0, best_d1: –æ–ø—Ç–∏–º–∞–ª—å–Ω—ñ –∑–∞—Ç—Ä–∏–º–∫–∏
        separability: –º–∞—Ç—Ä–∏—Ü—è —Ä–æ–∑–¥—ñ–ª—å–Ω–æ—Å—Ç—ñ
    """
    print("\n" + "="*60)
    print("–ü–û–®–£–ö –û–ü–¢–ò–ú–ê–õ–¨–ù–ò–• –ó–ê–¢–†–ò–ú–û–ö")
    print("="*60)

    min_delay, max_delay = delay_range
    delays = np.linspace(min_delay, max_delay, num_tests)

    # –ú–∞—Ç—Ä–∏—Ü—è –¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è —Ä–æ–∑–¥—ñ–ª—å–Ω–æ—Å—Ç—ñ
    separability = np.zeros((num_tests, num_tests))

    # –ê–º–ø–ª—ñ—Ç—É–¥–∞ –¥–ª—è —Ç–µ—Å—Ç—ñ–≤
    test_amplitude = 0.35

    for i, d0 in enumerate(delays):
        for j, d1 in enumerate(delays):
            if d1 <= d0:
                continue  # d1 –º–∞—î –±—É—Ç–∏ > d0

            # –ì–µ–Ω–µ—Ä—É—î–º–æ –µ—Ö–æ –¥–ª—è –æ–±–æ—Ö –±—ñ—Ç—ñ–≤
            echo_0 = add_echo(audio_segment, d0, test_amplitude, sample_rate)
            echo_1 = add_echo(audio_segment, d1, test_amplitude, sample_rate)

            # –î–µ–∫–æ–¥—É—î–º–æ
            bit_0, conf_0 = decode_bit_cepstrum(echo_0, sample_rate, d0, d1)
            bit_1, conf_1 = decode_bit_cepstrum(echo_1, sample_rate, d0, d1)

            # –†–æ–∑–¥—ñ–ª—å–Ω—ñ—Å—Ç—å = –º—ñ–Ω—ñ–º–∞–ª—å–Ω–∞ –≤–ø–µ–≤–Ω–µ–Ω—ñ—Å—Ç—å
            # (–æ–±–∏–¥–≤–∞ –±—ñ—Ç–∏ –º–∞—é—Ç—å –±—É—Ç–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –¥–µ–∫–æ–¥–æ–≤–∞–Ω—ñ)
            if bit_0 == 0 and bit_1 == 1:
                separability[i, j] = min(conf_0, conf_1)
            else:
                separability[i, j] = -1  # –ü–æ–º–∏–ª–∫–∞ –¥–µ–∫–æ–¥—É–≤–∞–Ω–Ω—è

    # –ó–Ω–∞—Ö–æ–¥–∏–º–æ –Ω–∞–π–∫—Ä–∞—â—É –∫–æ–º–±—ñ–Ω–∞—Ü—ñ—é
    best_idx = np.unravel_index(np.argmax(separability), separability.shape)
    best_d0 = delays[best_idx[0]]
    best_d1 = delays[best_idx[1]]
    best_sep = separability[best_idx]

    print(f"\nüìä –†–µ–∑—É–ª—å—Ç–∞—Ç–∏:")
    print(f"   –û–ø—Ç–∏–º–∞–ª—å–Ω–∞ d‚ÇÄ: {best_d0:.3f} –º—Å")
    print(f"   –û–ø—Ç–∏–º–∞–ª—å–Ω–∞ d‚ÇÅ: {best_d1:.3f} –º—Å")
    print(f"   –†—ñ–∑–Ω–∏—Ü—è: {best_d1 - best_d0:.3f} –º—Å")
    print(f"   –†–æ–∑–¥—ñ–ª—å–Ω—ñ—Å—Ç—å: {best_sep:.6f}")
    print("="*60)

    # –í—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è
    plt.figure(figsize=(10, 8))
    plt.imshow(separability, cmap='RdYlGn', aspect='auto', origin='lower',
               extent=[min_delay, max_delay, min_delay, max_delay])
    plt.colorbar(label='Separability')
    plt.xlabel('d‚ÇÅ (ms)', fontsize=12)
    plt.ylabel('d‚ÇÄ (ms)', fontsize=12)
    plt.title('Delay Separability Matrix', fontsize=14, fontweight='bold')

    # –ü–æ–∑–Ω–∞—á–∞—î–º–æ –æ–ø—Ç–∏–º—É–º
    plt.plot(best_d1, best_d0, 'r*', markersize=20, label='Optimum')
    plt.legend()

    plt.tight_layout()
    plt.savefig('delay_optimization.png', dpi=150, bbox_inches='tight')
    print("üìä –ì—Ä–∞—Ñ—ñ–∫ –∑–±–µ—Ä–µ–∂–µ–Ω–æ: delay_optimization.png")
    plt.show()

    return best_d0, best_d1, separability

# –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è
# test_segment = samples[0:4096]  # –ü–µ—Ä—à–∏–π —Å–µ–≥–º–µ–Ω—Ç
# best_d0, best_d1, sep_matrix = find_optimal_delays(test_segment, sample_rate=44100)
</code></pre>

            <h4>–û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –∞–º–ø–ª—ñ—Ç—É–¥–∏:</h4>
            <pre class="python"><code>def optimize_amplitude(audio_file, message, segment_size=4096,
                       d0_ms=0.5, d1_ms=1.0, amplitude_range=(0.1, 0.6),
                       num_tests=10):
    """
    –ó–Ω–∞—Ö–æ–¥–∏—Ç—å –æ–ø—Ç–∏–º–∞–ª—å–Ω—É –∞–º–ø–ª—ñ—Ç—É–¥—É –µ—Ö–æ –¥–ª—è –±–∞–ª–∞–Ω—Å—É —è–∫–æ—Å—Ç—ñ —Ç–∞ —Å—Ç—ñ–π–∫–æ—Å—Ç—ñ

    Args:
        audio_file: —Ç–µ—Å—Ç–æ–≤–∏–π –∞—É–¥—ñ–æ —Ñ–∞–π–ª
        message: —Ç–µ—Å—Ç–æ–≤–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
        segment_size: —Ä–æ–∑–º—ñ—Ä —Å–µ–≥–º–µ–Ω—Ç—É
        d0_ms, d1_ms: –∑–∞—Ç—Ä–∏–º–∫–∏
        amplitude_range: –¥—ñ–∞–ø–∞–∑–æ–Ω –∞–º–ø–ª—ñ—Ç—É–¥ –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è
        num_tests: –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Ç–µ—Å—Ç—ñ–≤

    Returns:
        optimal_amplitude: –æ–ø—Ç–∏–º–∞–ª—å–Ω–∞ –∞–º–ø–ª—ñ—Ç—É–¥–∞
        results: —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏ –≤—Å—ñ—Ö —Ç–µ—Å—Ç—ñ–≤
    """
    print("\n" + "="*60)
    print("–û–ü–¢–ò–ú–Ü–ó–ê–¶–Ü–Ø –ê–ú–ü–õ–Ü–¢–£–î–ò –ï–•–û")
    print("="*60)

    amplitudes = np.linspace(amplitude_range[0], amplitude_range[1], num_tests)
    results = []

    for amp in amplitudes:
        print(f"\nüîä –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –∞–º–ø–ª—ñ—Ç—É–¥–∏ Œ± = {amp:.2f}:")

        # Encoding
        stego_file = f'temp_stego_amp_{amp:.2f}.wav'
        try:
            enc_stats = echo_hide_message(audio_file, message, stego_file,
                                          segment_size, d0_ms, d1_ms, amp)

            # Decoding
            message_bits = len(message.encode('utf-8')) * 8
            decoded, dec_stats = echo_extract_message(stego_file, message_bits,
                                                      segment_size, d0_ms, d1_ms)

            # –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞
            success = (decoded == message.encode('utf-8'))

            result = {
                'amplitude': amp,
                'snr': enc_stats['snr'],
                'success': success,
                'confidence': dec_stats['avg_confidence'],
                'min_confidence': dec_stats['min_confidence']
            }

            results.append(result)

            print(f"   SNR: {enc_stats['snr']:.2f} dB")
            print(f"   –î–µ–∫–æ–¥—É–≤–∞–Ω–Ω—è: {'‚úÖ OK' if success else '‚ùå FAIL'}")
            print(f"   –í–ø–µ–≤–Ω–µ–Ω—ñ—Å—Ç—å: {dec_stats['avg_confidence']:.6f}")

            # –í–∏–¥–∞–ª—è—î–º–æ —Ç–∏–º—á–∞—Å–æ–≤–∏–π —Ñ–∞–π–ª
            import os
            os.remove(stego_file)

        except Exception as e:
            print(f"   ‚ùå ERROR: {e}")
            results.append({
                'amplitude': amp,
                'snr': 0,
                'success': False,
                'confidence': 0,
                'min_confidence': 0
            })

    # –ê–Ω–∞–ª—ñ–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤
    print("\n" + "="*60)
    print("–ê–ù–ê–õ–Ü–ó –†–ï–ó–£–õ–¨–¢–ê–¢–Ü–í")
    print("="*60)

    # –ó–Ω–∞—Ö–æ–¥–∏–º–æ –æ–ø—Ç–∏–º—É–º: –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ –≤–ø–µ–≤–Ω–µ–Ω—ñ—Å—Ç—å –ø—Ä–∏ SNR > 30 dB
    valid_results = [r for r in results if r['success'] and r['snr'] > 30]

    if valid_results:
        # –°–æ—Ä—Ç—É—î–º–æ –∑–∞ –≤–ø–µ–≤–Ω–µ–Ω—ñ—Å—Ç—é
        valid_results.sort(key=lambda x: x['confidence'], reverse=True)
        optimal = valid_results[0]

        print(f"‚úÖ –û–ø—Ç–∏–º–∞–ª—å–Ω–∞ –∞–º–ø–ª—ñ—Ç—É–¥–∞: {optimal['amplitude']:.2f}")
        print(f"   SNR: {optimal['snr']:.2f} dB")
        print(f"   –í–ø–µ–≤–Ω–µ–Ω—ñ—Å—Ç—å: {optimal['confidence']:.6f}")
    else:
        print("‚ö†Ô∏è –ù–µ –∑–Ω–∞–π–¥–µ–Ω–æ –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ—ó –∞–º–ø–ª—ñ—Ç—É–¥–∏ –∑ SNR > 30 dB")
        optimal = max(results, key=lambda x: x['confidence'])
        print(f"–ù–∞–π–∫—Ä–∞—â–∞ –∞–º–ø–ª—ñ—Ç—É–¥–∞: {optimal['amplitude']:.2f}")
        print(f"   SNR: {optimal['snr']:.2f} dB")

    # –í—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è
    fig, (ax1, ax2) = plt.subplots(1, 2, figsize=(14, 5))

    amps = [r['amplitude'] for r in results]
    snrs = [r['snr'] for r in results]
    confs = [r['confidence'] for r in results]

    # SNR vs Amplitude
    ax1.plot(amps, snrs, marker='o', linewidth=2, markersize=8, color='blue')
    ax1.axhline(y=30, color='green', linestyle='--', alpha=0.5, label='–ü–æ—Ä—ñ–≥ —è–∫–æ—Å—Ç—ñ (30 dB)')
    ax1.axvline(x=optimal['amplitude'], color='red', linestyle='--', alpha=0.5, label='–û–ø—Ç–∏–º—É–º')
    ax1.set_xlabel('–ê–º–ø–ª—ñ—Ç—É–¥–∞ –µ—Ö–æ (Œ±)', fontsize=12)
    ax1.set_ylabel('SNR (dB)', fontsize=12)
    ax1.set_title('–Ø–∫—ñ—Å—Ç—å vs –ê–º–ø–ª—ñ—Ç—É–¥–∞', fontsize=13, fontweight='bold')
    ax1.grid(True, alpha=0.3)
    ax1.legend()

    # Confidence vs Amplitude
    ax2.plot(amps, confs, marker='o', linewidth=2, markersize=8, color='orange')
    ax2.axvline(x=optimal['amplitude'], color='red', linestyle='--', alpha=0.5, label='–û–ø—Ç–∏–º—É–º')
    ax2.set_xlabel('–ê–º–ø–ª—ñ—Ç—É–¥–∞ –µ—Ö–æ (Œ±)', fontsize=12)
    ax2.set_ylabel('–í–ø–µ–≤–Ω–µ–Ω—ñ—Å—Ç—å –¥–µ–∫–æ–¥—É–≤–∞–Ω–Ω—è', fontsize=12)
    ax2.set_title('–í–ø–µ–≤–Ω–µ–Ω—ñ—Å—Ç—å vs –ê–º–ø–ª—ñ—Ç—É–¥–∞', fontsize=13, fontweight='bold')
    ax2.grid(True, alpha=0.3)
    ax2.legend()

    plt.tight_layout()
    plt.savefig('amplitude_optimization.png', dpi=150, bbox_inches='tight')
    print("\nüìä –ì—Ä–∞—Ñ—ñ–∫ –∑–±–µ—Ä–µ–∂–µ–Ω–æ: amplitude_optimization.png")
    plt.show()

    return optimal['amplitude'], results

# –ü—Ä–∏–∫–ª–∞–¥:
# optimal_amp, amp_results = optimize_amplitude('test_audio.wav', "Test message")
</code></pre>

            <h4>–ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è —Ä—ñ–∑–Ω–∏—Ö –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ–π:</h4>
            <pre class="python"><code>def compare_configurations(audio_file, message):
    """
    –ü–æ—Ä—ñ–≤–Ω—é—î —Ä—ñ–∑–Ω—ñ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó echo hiding
    """
    print("\n" + "="*60)
    print("–ü–û–†–Ü–í–ù–Ø–ù–ù–Ø –ö–û–ù–§–Ü–ì–£–†–ê–¶–Ü–ô")
    print("="*60)

    configs = [
        {'name': 'Standard', 'd0': 0.5, 'd1': 1.0, 'amp': 0.3, 'seg': 4096},
        {'name': 'High Quality', 'd0': 0.5, 'd1': 1.0, 'amp': 0.2, 'seg': 4096},
        {'name': 'High Robustness', 'd0': 0.5, 'd1': 1.0, 'amp': 0.5, 'seg': 8192},
        {'name': 'High Capacity', 'd0': 0.4, 'd1': 0.8, 'amp': 0.35, 'seg': 2048},
        {'name': 'Balanced', 'd0': 0.6, 'd1': 1.2, 'amp': 0.35, 'seg': 4096},
    ]

    results = []

    for config in configs:
        print(f"\nüìã –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è: {config['name']}")
        print(f"   d‚ÇÄ={config['d0']} –º—Å, d‚ÇÅ={config['d1']} –º—Å")
        print(f"   Œ±={config['amp']}, segment={config['seg']}")

        try:
            # Encoding
            stego_file = f"temp_{config['name'].replace(' ', '_')}.wav"
            enc_stats = echo_hide_message(audio_file, message, stego_file,
                                          config['seg'], config['d0'],
                                          config['d1'], config['amp'])

            # Decoding
            msg_bits = len(message.encode('utf-8')) * 8
            decoded, dec_stats = echo_extract_message(stego_file, msg_bits,
                                                      config['seg'],
                                                      config['d0'], config['d1'])

            success = (decoded == message.encode('utf-8'))

            result = {
                'name': config['name'],
                'snr': enc_stats['snr'],
                'capacity': enc_stats['total_segments'],
                'success': success,
                'confidence': dec_stats['avg_confidence']
            }

            results.append(result)

            print(f"   ‚úÖ SNR: {enc_stats['snr']:.2f} dB")
            print(f"   {'‚úÖ' if success else '‚ùå'} –î–µ–∫–æ–¥—É–≤–∞–Ω–Ω—è: {success}")

            import os
            os.remove(stego_file)

        except Exception as e:
            print(f"   ‚ùå ERROR: {e}")

    # –¢–∞–±–ª–∏—Ü—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤
    print("\n" + "="*60)
    print("–ó–í–ï–î–ï–ù–ê –¢–ê–ë–õ–ò–¶–Ø")
    print("="*60)
    print(f"{'–ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è':<20} {'SNR (dB)':<12} {'–Ñ–º–Ω—ñ—Å—Ç—å':<12} {'–£—Å–ø—ñ—Ö':<10} {'–í–ø–µ–≤–Ω–µ–Ω—ñ—Å—Ç—å'}")
    print("-"*60)

    for r in results:
        success_str = "‚úÖ –¢–ê–ö" if r['success'] else "‚ùå –ù–Ü"
        print(f"{r['name']:<20} {r['snr']:<12.2f} {r['capacity']:<12} {success_str:<10} {r['confidence']:.6f}")

    print("="*60)

    # –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è
    best = max([r for r in results if r['success']],
               key=lambda x: (x['snr'] > 35, x['confidence']))

    print(f"\nüí° –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è: {best['name']}")
    print(f"   –ë–∞–ª–∞–Ω—Å –º—ñ–∂ —è–∫—ñ—Å—Ç—é (SNR={best['snr']:.1f} dB) —Ç–∞ –≤–ø–µ–≤–Ω–µ–Ω—ñ—Å—Ç—é")

    return results

# –ü—Ä–∏–∫–ª–∞–¥:
# config_results = compare_configurations('test_audio.wav', "Test configuration")
</code></pre>

            <div class="result-box">
                <h4>‚úÖ –û—á—ñ–∫—É–≤–∞–Ω—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏:</h4>
                <ul>
                    <li><strong>–ó–∞—Ç—Ä–∏–º–∫–∏:</strong> –æ–ø—Ç–∏–º–∞–ª—å–Ω—ñ d‚ÇÄ=0.5-0.7 –º—Å, d‚ÇÅ=1.0-1.3 –º—Å (—Ä—ñ–∑–Ω–∏—Ü—è ~0.5 –º—Å)</li>
                    <li><strong>–ê–º–ø–ª—ñ—Ç—É–¥–∞:</strong> –æ–ø—Ç–∏–º–∞–ª—å–Ω–∞ Œ±=0.3-0.4 (–±–∞–ª–∞–Ω—Å SNR>30dB —Ç–∞ –≤–ø–µ–≤–Ω–µ–Ω—ñ—Å—Ç—å>0.001)</li>
                    <li><strong>–†–æ–∑–º—ñ—Ä —Å–µ–≥–º–µ–Ω—Ç—É:</strong> 4096-8192 —Å–µ–º–ø–ª—ñ–≤ (–∫–æ–º–ø—Ä–æ–º—ñ—Å —î–º–Ω—ñ—Å—Ç—å/—Å—Ç—ñ–π–∫—ñ—Å—Ç—å)</li>
                    <li><strong>–í–∏—Å–Ω–æ–≤–æ–∫:</strong> –∑–±–∞–ª–∞–Ω—Å–æ–≤–∞–Ω–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è –¥–∞—î SNR~35dB —Ç–∞ 100% —É—Å–ø—ñ—Ö –¥–µ–∫–æ–¥—É–≤–∞–Ω–Ω—è</li>
                </ul>
            </div>
        </div>
    </section>

    <!-- –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ñ –ø–∏—Ç–∞–Ω–Ω—è -->
    <section>
        <h2>‚ùì –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ñ –ø–∏—Ç–∞–Ω–Ω—è</h2>

        <div class="question-box">
            <h3>–ü–∏—Ç–∞–Ω–Ω—è –¥–ª—è —Å–∞–º–æ–ø–µ—Ä–µ–≤—ñ—Ä–∫–∏:</h3>
            <ol>
                <li>–ü–æ—è—Å–Ω—ñ—Ç—å –ø—Ä–∏–Ω—Ü–∏–ø —Ä–æ–±–æ—Ç–∏ echo hiding. –ß–æ–º—É –ª—é–¥–∏–Ω–∞ –Ω–µ —á—É—î –¥–æ–¥–∞–Ω–µ –µ—Ö–æ?</li>
                <li>–©–æ —Ç–∞–∫–µ cepstrum —ñ —è–∫ –≤—ñ–Ω –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è –¥–µ—Ç–µ–∫—Ç—É–≤–∞–Ω–Ω—è –µ—Ö–æ?</li>
                <li>–ß–∏–º –≤—ñ–¥—Ä—ñ–∑–Ω—è—î—Ç—å—Å—è quefrency –≤—ñ–¥ frequency?</li>
                <li>–Ø–∫ –∫–æ–¥—É—é—Ç—å—Å—è –±—ñ—Ç–∏ 0 —Ç–∞ 1 –≤ echo hiding? –Ø–∫—É —Ä–æ–ª—å –≥—Ä–∞—î –∑–∞—Ç—Ä–∏–º–∫–∞?</li>
                <li>–ß–æ–º—É echo hiding –º–∞—î –Ω–∏–∑—å–∫—É —î–º–Ω—ñ—Å—Ç—å –ø–æ—Ä—ñ–≤–Ω—è–Ω–æ –∑ LSB?</li>
                <li>–Ø–∫–∞ —Ä—ñ–∑–Ω–∏—Ü—è –º—ñ–∂ cepstrum –∞–Ω–∞–ª—ñ–∑–æ–º —Ç–∞ –∞–≤—Ç–æ–∫–æ—Ä–µ–ª—è—Ü—ñ—î—é –¥–ª—è –¥–µ—Ç–µ–∫—Ç—É–≤–∞–Ω–Ω—è –µ—Ö–æ?</li>
                <li>–ß–æ–º—É echo hiding —Å—Ç—ñ–π–∫–∏–π –¥–æ MP3 –∫–æ–º–ø—Ä–µ—Å—ñ—ó, –∞ LSB –Ω—ñ?</li>
                <li>–Ø–∫—ñ —Ñ–∞–∫—Ç–æ—Ä–∏ –≤–ø–ª–∏–≤–∞—é—Ç—å –Ω–∞ –≤–∏–±—ñ—Ä –æ–ø—Ç–∏–º–∞–ª—å–Ω–∏—Ö –∑–∞—Ç—Ä–∏–º–æ–∫ d‚ÇÄ —Ç–∞ d‚ÇÅ?</li>
                <li>–Ø–∫ –∞–º–ø–ª—ñ—Ç—É–¥–∞ –µ—Ö–æ (Œ±) –≤–ø–ª–∏–≤–∞—î –Ω–∞ SNR —Ç–∞ —Å—Ç—ñ–π–∫—ñ—Å—Ç—å –¥–æ —à—É–º—É?</li>
                <li>–í —è–∫–∏—Ö —Å—Ü–µ–Ω–∞—Ä—ñ—è—Ö echo hiding –∫—Ä–∞—â–∏–π –∑–∞ LSB, –∞ –≤ —è–∫–∏—Ö –Ω–∞–≤–ø–∞–∫–∏?</li>
                <li>–©–æ —Ç–∞–∫–µ "—Ä–æ–∑–¥—ñ–ª—å–Ω—ñ—Å—Ç—å" (separability) –∑–∞—Ç—Ä–∏–º–æ–∫ —ñ —á–æ–º—É –≤–æ–Ω–∞ –≤–∞–∂–ª–∏–≤–∞?</li>
                <li>–Ø–∫ –º–æ–∂–Ω–∞ –ø—ñ–¥–≤–∏—â–∏—Ç–∏ —î–º–Ω—ñ—Å—Ç—å echo hiding –±–µ–∑ –≤—Ç—Ä–∞—Ç–∏ —Å—Ç—ñ–π–∫–æ—Å—Ç—ñ?</li>
                <li>–ü–æ—è—Å–Ω—ñ—Ç—å, —á–æ–º—É echo hiding –≤—Ä–∞–∑–ª–∏–≤–∏–π –¥–æ time stretching.</li>
                <li>–Ø–∫—ñ –º–µ—Ç–æ–¥–∏ –∫–æ—Ä–µ–∫—Ü—ñ—ó –ø–æ–º–∏–ª–æ–∫ –º–æ–∂–Ω–∞ –∑–∞—Å—Ç–æ—Å—É–≤–∞—Ç–∏ –¥–ª—è –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è BER?</li>
                <li>–ü–æ—Ä—ñ–≤–Ω—è–π—Ç–µ –æ–±—á–∏—Å–ª—é–≤–∞–ª—å–Ω—É —Å–∫–ª–∞–¥–Ω—ñ—Å—Ç—å LSB —Ç–∞ echo hiding –º–µ—Ç–æ–¥—ñ–≤.</li>
            </ol>
        </div>

        <div class="task-box">
            <h3>üéì –ó–∞–≤–¥–∞–Ω–Ω—è –¥–ª—è –∑–≤—ñ—Ç—É</h3>
            <div class="checklist">
                <ul>
                    <li>‚úÖ –†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –±–∞–∑–æ–≤–∏–π echo encoder/decoder (–∑–∞–≤–¥–∞–Ω–Ω—è 1-2)</li>
                    <li>‚úÖ –£—Å–ø—ñ—à–Ω–æ –ø—Ä–∏—Ö–æ–≤–∞—Ç–∏ —Ç–∞ –≤–∏—Ç—è–≥—Ç–∏ —Ç–µ–∫—Å—Ç–æ–≤–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è (–∑–∞–≤–¥–∞–Ω–Ω—è 3)</li>
                    <li>‚úÖ –ü—Ä–æ–≤–µ—Å—Ç–∏ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è —Å—Ç—ñ–π–∫–æ—Å—Ç—ñ –¥–æ —à—É–º—É, —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—ó, resampling (–∑–∞–≤–¥–∞–Ω–Ω—è 4)</li>
                    <li>‚úÖ –ó–Ω–∞–π—Ç–∏ –æ–ø—Ç–∏–º–∞–ª—å–Ω—ñ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ (d‚ÇÄ, d‚ÇÅ, Œ±) –¥–ª—è –≤–∞—à–æ–≥–æ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –∞—É–¥—ñ–æ (–∑–∞–≤–¥–∞–Ω–Ω—è 5)</li>
                    <li>‚úÖ –°—Ç–≤–æ—Ä–∏—Ç–∏ –∑–≤—ñ—Ç –∑ –≥—Ä–∞—Ñ—ñ–∫–∞–º–∏ cepstrum –∞–Ω–∞–ª—ñ–∑—É</li>
                    <li>‚úÖ –ü–æ—Ä—ñ–≤–Ω—è—Ç–∏ echo hiding –∑ LSB –º–µ—Ç–æ–¥–æ–º</li>
                    <li>‚úÖ –î–æ—Å–ª—ñ–¥–∏—Ç–∏ –≤–ø–ª–∏–≤ MP3 –∫–æ–º–ø—Ä–µ—Å—ñ—ó (—è–∫—â–æ —î ffmpeg)</li>
                    <li>‚úÖ –ü—Ä–æ–∞–Ω–∞–ª—ñ–∑—É–≤–∞—Ç–∏ trade-off –º—ñ–∂ —è–∫—ñ—Å—Ç—é, —î–º–Ω—ñ—Å—Ç—é —Ç–∞ —Å—Ç—ñ–π–∫—ñ—Å—Ç—é</li>
                    <li>‚úÖ –í—ñ–¥–ø–æ–≤—ñ—Å—Ç–∏ –Ω–∞ –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ñ –ø–∏—Ç–∞–Ω–Ω—è</li>
                    <li>‚úÖ –ó—Ä–æ–±–∏—Ç–∏ –≤–∏—Å–Ω–æ–≤–∫–∏ –ø—Ä–æ –∑–∞—Å—Ç–æ—Å–æ–≤–Ω—ñ—Å—Ç—å echo hiding</li>
                </ul>
            </div>

            <h3>üéØ –ö—Ä–∏—Ç–µ—Ä—ñ—ó –æ—Ü—ñ–Ω—é–≤–∞–Ω–Ω—è</h3>
            <ul>
                <li>–ö–æ—Ä–µ–∫—Ç–Ω–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è echo encoder/decoder –∑ cepstrum –∞–Ω–∞–ª—ñ–∑–æ–º (30%)</li>
                <li>–£—Å–ø—ñ—à–Ω–µ –ø—Ä–∏—Ö–æ–≤—É–≤–∞–Ω–Ω—è —Ç–∞ –≤–∏—Ç—è–≥—É–≤–∞–Ω–Ω—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å (20%)</li>
                <li>–¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è —Å—Ç—ñ–π–∫–æ—Å—Ç—ñ –¥–æ –∞—Ç–∞–∫ (—à—É–º, —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è, resampling) (20%)</li>
                <li>–û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤ (–∑–∞—Ç—Ä–∏–º–∫–∏, –∞–º–ø–ª—ñ—Ç—É–¥–∞) (15%)</li>
                <li>–ü–æ—Ä—ñ–≤–Ω—è–ª—å–Ω–∏–π –∞–Ω–∞–ª—ñ–∑ –∑ LSB –º–µ—Ç–æ–¥–æ–º (10%)</li>
                <li>–û—Ñ–æ—Ä–º–ª–µ–Ω–Ω—è –∑–≤—ñ—Ç—É, –≥—Ä–∞—Ñ—ñ–∫–∏ —Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è (5%)</li>
            </ul>
        </div>

        <div class="deadline-warning">
            <strong>‚è∞ –¢–µ—Ä–º—ñ–Ω –∑–¥–∞—á—ñ:</strong> –ü—Ä–æ—Ç—è–≥–æ–º –¥–≤–æ—Ö —Ç–∏–∂–Ω—ñ–≤ –ø—ñ—Å–ª—è –ø—Ä–æ–≤–µ–¥–µ–Ω–Ω—è –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ—ó —Ä–æ–±–æ—Ç–∏.
            –ó–∞—Ç—Ä–∏–º–∫–∞ –∑–¥–∞—á—ñ –∑–Ω–∏–∂—É—î –æ—Ü—ñ–Ω–∫—É –Ω–∞ 10% –∑–∞ –∫–æ–∂–µ–Ω —Ç–∏–∂–¥–µ–Ω—å.
        </div>
    </section>

    <!-- –í–∏—Å–Ω–æ–≤–∫–∏ -->
    <section class="result-box">
        <h2>üéì –í–∏—Å–Ω–æ–≤–∫–∏</h2>
        <p>
            –£ —Ü—ñ–π –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω—ñ–π —Ä–æ–±–æ—Ç—ñ –≤–∏ –æ—Å–≤–æ—ó–ª–∏ echo hiding —Å—Ç–µ–≥–∞–Ω–æ–≥—Ä–∞—Ñ—ñ—é:
        </p>
        <ul>
            <li><strong>Echo hiding</strong> ‚Äî –≤–±—É–¥–æ–≤—É—î —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é —á–µ—Ä–µ–∑ –¥–æ–¥–∞–≤–∞–Ω–Ω—è –∫–æ—Ä–æ—Ç–∫–æ–≥–æ –∑–∞—Ç—Ä–∏–º–∞–Ω–æ–≥–æ –µ—Ö–æ, —è–∫–µ –Ω–µ —á—É—î –ª—é–¥–∏–Ω–∞</li>
            <li><strong>Cepstrum –∞–Ω–∞–ª—ñ–∑</strong> ‚Äî –ø–æ—Ç—É–∂–Ω–∏–π —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –≤–∏—è–≤–ª–µ–Ω–Ω—è –ø–µ—Ä—ñ–æ–¥–∏—á–Ω–æ—Å—Ç—ñ –≤ —Å–ø–µ–∫—Ç—Ä—ñ —Ç–∞ –¥–µ—Ç–µ–∫—Ç—É–≤–∞–Ω–Ω—è –µ—Ö–æ</li>
            <li><strong>–ë—ñ–Ω–∞—Ä–Ω–µ –∫–æ–¥—É–≤–∞–Ω–Ω—è</strong> ‚Äî –±—ñ—Ç–∏ –∫–æ–¥—É—é—Ç—å—Å—è —á–µ—Ä–µ–∑ —Ä—ñ–∑–Ω—ñ –∑–∞—Ç—Ä–∏–º–∫–∏ –µ—Ö–æ (d‚ÇÄ –¥–ª—è 0, d‚ÇÅ –¥–ª—è 1)</li>
            <li><strong>–í–∏—Å–æ–∫–∞ —Å—Ç—ñ–π–∫—ñ—Å—Ç—å</strong> ‚Äî echo hiding —Å—Ç—ñ–π–∫–∏–π –¥–æ MP3 –∫–æ–º–ø—Ä–µ—Å—ñ—ó, —à—É–º—É —Ç–∞ —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—ó, –Ω–∞ –≤—ñ–¥–º—ñ–Ω—É –≤—ñ–¥ LSB</li>
            <li><strong>–ù–∏–∑—å–∫–∞ —î–º–Ω—ñ—Å—Ç—å</strong> ‚Äî –∫–æ–º–ø—Ä–æ–º—ñ—Å –∑–∞ —Å—Ç—ñ–π–∫—ñ—Å—Ç—å: –ª–∏—à–µ –¥–µ—Å—è—Ç–∫–∏-—Å–æ—Ç–Ω—ñ –±–∞–π—Ç –Ω–∞ —Ö–≤–∏–ª–∏–Ω—É</li>
            <li><strong>–û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤</strong> ‚Äî –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π –ø—ñ–¥–±—ñ—Ä –∑–∞—Ç—Ä–∏–º–æ–∫ —Ç–∞ –∞–º–ø–ª—ñ—Ç—É–¥–∏ –∫—Ä–∏—Ç–∏—á–Ω–∏–π –¥–ª—è –±–∞–ª–∞–Ω—Å—É —è–∫–æ—Å—Ç—ñ —Ç–∞ —Å—Ç—ñ–π–∫–æ—Å—Ç—ñ</li>
        </ul>

        <div class="warning-box">
            <strong>‚ö†Ô∏è –ö–ª—é—á–æ–≤—ñ –≤–∏—Å–Ω–æ–≤–∫–∏:</strong>
            <ul>
                <li>–û–ø—Ç–∏–º–∞–ª—å–Ω—ñ –∑–∞—Ç—Ä–∏–º–∫–∏: d‚ÇÄ=0.5-0.7 –º—Å, d‚ÇÅ=1.0-1.3 –º—Å (—Ä—ñ–∑–Ω–∏—Ü—è ~0.5 –º—Å)</li>
                <li>–û–ø—Ç–∏–º–∞–ª—å–Ω–∞ –∞–º–ø–ª—ñ—Ç—É–¥–∞: Œ±=0.3-0.4 (SNR>30dB, —Ö–æ—Ä–æ—à–∞ –Ω–µ–ø–æ–º—ñ—Ç–Ω—ñ—Å—Ç—å)</li>
                <li>–†–æ–∑–º—ñ—Ä —Å–µ–≥–º–µ–Ω—Ç—É: 4096-8192 —Å–µ–º–ø–ª—ñ–≤ (–∫–æ–º–ø—Ä–æ–º—ñ—Å –º—ñ–∂ —î–º–Ω—ñ—Å—Ç—é —Ç–∞ —Å—Ç—ñ–π–∫—ñ—Å—Ç—é)</li>
                <li>Echo hiding —Å—Ç—ñ–π–∫–∏–π –¥–æ MP3 –∫–æ–º–ø—Ä–µ—Å—ñ—ó –¥–æ 128 kbps</li>
                <li>–®—É–º –∑ SNR>25dB –Ω–µ –≤–ø–ª–∏–≤–∞—î –Ω–∞ –¥–µ–∫–æ–¥—É–≤–∞–Ω–Ω—è</li>
                <li>–í—Ä–∞–∑–ª–∏–≤–∏–π –¥–æ time stretching —Ç–∞ pitch shifting</li>
                <li>–î–ª—è –∫—Ä–∏—Ç–∏—á–Ω–∏—Ö –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω—å: –¥–æ–¥–∞—Ç–∏ ECC —Ç–∞ preamble –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó</li>
                <li>–ó–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è: –≤–æ–¥—è–Ω—ñ –∑–Ω–∞–∫–∏, –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è, –ø—Ä–∏—Ö–æ–≤–∞–Ω–µ –ø–µ—Ä–µ–¥–∞–≤–∞–Ω–Ω—è –∫–æ—Ä–æ—Ç–∫–∏—Ö –∫–ª—é—á—ñ–≤</li>
            </ul>
        </div>
    </section>

    <!-- –ö–æ—Ä–∏—Å–Ω—ñ —Ä–µ—Å—É—Ä—Å–∏ -->
    <section>
        <h2>üìö –ö–æ—Ä–∏—Å–Ω—ñ —Ä–µ—Å—É—Ä—Å–∏</h2>

        <div class="resources-list">
            <ul>
                <li>üìÑ <a href="#">Gruhl D. et al. "Echo Hiding" (1996) - Original paper on echo hiding</a></li>
                <li>üìñ <a href="#">Oh H. et al. "Improved Echo-Hiding Technique Using Efficient Energy" (2009)</a></li>
                <li>üî¨ <a href="#">Bogert B. et al. "The quefrency analysis of time series for echoes" (1963) - Cepstrum theory</a></li>
                <li>üìä <a href="https://docs.scipy.org/doc/scipy/reference/fftpack.html">SciPy FFT Pack - Documentation</a></li>
                <li>üíª <a href="https://librosa.org/">Librosa - Audio analysis in Python</a></li>
                <li>üìñ <a href="#">Kim H. "Echo-Hiding Based Audio Watermarking" (2005)</a></li>
                <li>üéì <a href="#">Bender W. et al. "Techniques for data hiding" (1996) - Classic survey paper</a></li>
                <li>üîß <a href="#">Dittmann J. "Digital Audio Watermarking using Cepstral Features" (2000)</a></li>
                <li>üìö <a href="https://en.wikipedia.org/wiki/Cepstrum">Cepstrum - Wikipedia</a></li>
                <li>üéµ <a href="https://freesound.org/">FreeSound - Free audio samples for testing</a></li>
            </ul>
        </div>
    </section>
</main>

<!-- Footer -->
<footer class="lab-footer">
    <div class="container">
        <p>&copy; 2025 –ö—É—Ä—Å "–û—Å–Ω–æ–≤–∏ —Å—Ç–µ–≥–∞–Ω–æ–≥—Ä–∞—Ñ—ñ—ó" | –ö–∞—Ñ–µ–¥—Ä–∞ –∫—ñ–±–µ—Ä–±–µ–∑–ø–µ–∫–∏</p>
    </div>
</footer>

<!-- JavaScript -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
<script src="../assets/js/lab-functions.js"></script>
<script>
    // –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –ø—ñ–¥—Å–≤—ñ—Ç–∫–∏ –∫–æ–¥—É
    hljs.highlightAll();

    // –§—É–Ω–∫—Ü—ñ—è –ø–µ—Ä–µ–º–∏–∫–∞–Ω–Ω—è –≤–∫–ª–∞–¥–æ–∫
    if (typeof switchTab === 'undefined') {
        function switchTab(event, tabId) {
            const tabContents = document.querySelectorAll('.tab-content');
            tabContents.forEach(tab => {
                tab.classList.remove('active');
            });

            const tabButtons = document.querySelectorAll('.tab-button');
            tabButtons.forEach(button => {
                button.classList.remove('active');
            });

            document.getElementById(tabId).classList.add('active');
            event.currentTarget.classList.add('active');
        }
    }
</script>

</body>
</html>
